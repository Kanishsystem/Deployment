(function(se,ye){"object"==typeof exports&&"object"==typeof module?module.exports=se.pdfjsLib=ye():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],()=>se.pdfjsLib=ye()):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=se.pdfjsLib=ye():se["pdfjs-dist/build/pdf"]=se.pdfjsLib=ye()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(ke,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.VerbosityLevel=se.Util=se.UnknownErrorException=se.UnexpectedResponseException=se.TextRenderingMode=se.RenderingIntentFlag=se.PromiseCapability=se.PermissionFlag=se.PasswordResponses=se.PasswordException=se.PageActionEventType=se.OPS=se.MissingPDFException=se.MAX_IMAGE_SIZE_TO_CACHE=se.LINE_FACTOR=se.LINE_DESCENT_FACTOR=se.InvalidPDFException=se.ImageKind=se.IDENTITY_MATRIX=se.FormatError=se.FeatureTest=se.FONT_IDENTITY_MATRIX=se.DocumentActionEventType=se.CMapCompressionType=se.BaseException=se.BASELINE_FACTOR=se.AnnotationType=se.AnnotationReplyType=se.AnnotationPrefix=se.AnnotationMode=se.AnnotationFlag=se.AnnotationFieldFlag=se.AnnotationEditorType=se.AnnotationEditorPrefix=se.AnnotationEditorParamsType=se.AnnotationBorderStyleType=se.AnnotationActionEventType=se.AbortException=void 0,se.assert=function c(me,de){me||f(de)},se.bytesToString=U,se.createValidAbsoluteUrl=function I(me,de=null,ge=null){if(!me)return null;try{if(ge&&"string"==typeof me&&(ge.addDefaultProtocol&&me.startsWith("www.")&&me.match(/\./g)?.length>=2&&(me=`http://${me}`),ge.tryConvertEncoding))try{me=ae(me)}catch{}const Ae=de?new URL(me,de):new URL(me);if(function u(me){switch(me?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Ae))return Ae}catch{}return null},se.getModificationDate=function ee(me=new Date){return[me.getUTCFullYear().toString(),(me.getUTCMonth()+1).toString().padStart(2,"0"),me.getUTCDate().toString().padStart(2,"0"),me.getUTCHours().toString().padStart(2,"0"),me.getUTCMinutes().toString().padStart(2,"0"),me.getUTCSeconds().toString().padStart(2,"0")].join("")},se.getUuid=function Ce(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const me=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(me);else for(let de=0;de<32;de++)me[de]=Math.floor(255*Math.random());return U(me)},se.getVerbosityLevel=function M(){return C},se.info=function l(me){C>=d.INFOS&&console.log(`Info: ${me}`)},se.isArrayBuffer=function te(me){return"object"==typeof me&&void 0!==me?.byteLength},se.isArrayEqual=function re(me,de){if(me.length!==de.length)return!1;for(let ge=0,Ae=me.length;ge<Ae;ge++)if(me[ge]!==de[ge])return!1;return!0},se.isNodeJS=void 0,se.normalizeUnicode=function Se(me){return ue||(ue=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fe=new Map([["\ufb05","\u017ft"]])),me.replaceAll(ue,(de,ge,Ae)=>ge?ge.normalize("NFKC"):fe.get(Ae))},se.objectFromMap=function ne(me){const de=Object.create(null);for(const[ge,Ae]of me)de[ge]=Ae;return de},se.objectSize=function oe(me){return Object.keys(me).length},se.setVerbosityLevel=function h(me){Number.isInteger(me)&&(C=me)},se.shadow=A,se.string32=function J(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,255&me)},se.stringToBytes=q,se.stringToPDFString=function Z(me){if(me[0]>="\xef"){let ge;if("\xfe"===me[0]&&"\xff"===me[1]?ge="utf-16be":"\xff"===me[0]&&"\xfe"===me[1]?ge="utf-16le":"\xef"===me[0]&&"\xbb"===me[1]&&"\xbf"===me[2]&&(ge="utf-8"),ge)try{const Ae=new TextDecoder(ge,{fatal:!0}),be=q(me);return Ae.decode(be)}catch(Ae){r(`stringToPDFString: "${Ae}".`)}}const de=[];for(let ge=0,Ae=me.length;ge<Ae;ge++){const be=K[me.charCodeAt(ge)];de.push(be?String.fromCharCode(be):me.charAt(ge))}return de.join("")},se.stringToUTF8String=ae,se.unreachable=f,se.utf8StringToString=function ie(me){return unescape(encodeURIComponent(me))},se.warn=r;const ye=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);se.isNodeJS=ye,se.IDENTITY_MATRIX=[1,0,0,1,0,0],se.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],se.MAX_IMAGE_SIZE_TO_CACHE=1e7,se.LINE_FACTOR=1.35,se.LINE_DESCENT_FACTOR=.35,se.BASELINE_FACTOR=.25925925925925924,se.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},se.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},se.AnnotationEditorPrefix="pdfjs_internal_editor_",se.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},se.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},se.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},se.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},se.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},se.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},se.AnnotationReplyType={GROUP:"Group",REPLY:"R"},se.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},se.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},se.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},se.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},se.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},se.PageActionEventType={O:"PageOpen",C:"PageClose"};const d={ERRORS:0,WARNINGS:1,INFOS:5};se.VerbosityLevel=d,se.CMapCompressionType={NONE:0,BINARY:1},se.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},se.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let C=d.WARNINGS;function r(me){C>=d.WARNINGS&&console.log(`Warning: ${me}`)}function f(me){throw new Error(me)}function A(me,de,ge,Ae=!1){return Object.defineProperty(me,de,{value:ge,enumerable:!Ae,configurable:!0,writable:!1}),ge}const P=function(){function de(ge,Ae){this.constructor===de&&f("Cannot initialize BaseException."),this.message=ge,this.name=Ae}return de.prototype=new Error,de.constructor=de,de}();function U(me){("object"!=typeof me||void 0===me?.length)&&f("Invalid argument for bytesToString");const de=me.length;if(de<8192)return String.fromCharCode.apply(null,me);const Ae=[];for(let be=0;be<de;be+=8192){const pe=Math.min(be+8192,de),xe=me.subarray(be,pe);Ae.push(String.fromCharCode.apply(null,xe))}return Ae.join("")}function q(me){"string"!=typeof me&&f("Invalid argument for stringToBytes");const de=me.length,ge=new Uint8Array(de);for(let Ae=0;Ae<de;++Ae)ge[Ae]=255&me.charCodeAt(Ae);return ge}se.BaseException=P,se.PasswordException=class $ extends P{constructor(de,ge){super(de,"PasswordException"),this.code=ge}},se.UnknownErrorException=class _ extends P{constructor(de,ge){super(de,"UnknownErrorException"),this.details=ge}},se.InvalidPDFException=class w extends P{constructor(de){super(de,"InvalidPDFException")}},se.MissingPDFException=class T extends P{constructor(de){super(de,"MissingPDFException")}},se.UnexpectedResponseException=class N extends P{constructor(de,ge){super(de,"UnexpectedResponseException"),this.status=ge}},se.FormatError=class H extends P{constructor(de){super(de,"FormatError")}},se.AbortException=class z extends P{constructor(de){super(de,"AbortException")}},se.FeatureTest=class X{static get isLittleEndian(){return A(this,"isLittleEndian",function Q(){const me=new Uint8Array(4);return me[0]=1,1===new Uint32Array(me.buffer,0,1)[0]}())}static get isEvalSupported(){return A(this,"isEvalSupported",function R(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return A(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?A(this,"platform",{isWin:!1,isMac:!1}):A(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return A(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const G=[...Array(256).keys()].map(me=>me.toString(16).padStart(2,"0"));se.Util=class Y{static makeHexColor(de,ge,Ae){return`#${G[de]}${G[ge]}${G[Ae]}`}static scaleMinMax(de,ge){let Ae;de[0]?(de[0]<0&&(Ae=ge[0],ge[0]=ge[1],ge[1]=Ae),ge[0]*=de[0],ge[1]*=de[0],de[3]<0&&(Ae=ge[2],ge[2]=ge[3],ge[3]=Ae),ge[2]*=de[3],ge[3]*=de[3]):(Ae=ge[0],ge[0]=ge[2],ge[2]=Ae,Ae=ge[1],ge[1]=ge[3],ge[3]=Ae,de[1]<0&&(Ae=ge[2],ge[2]=ge[3],ge[3]=Ae),ge[2]*=de[1],ge[3]*=de[1],de[2]<0&&(Ae=ge[0],ge[0]=ge[1],ge[1]=Ae),ge[0]*=de[2],ge[1]*=de[2]),ge[0]+=de[4],ge[1]+=de[4],ge[2]+=de[5],ge[3]+=de[5]}static transform(de,ge){return[de[0]*ge[0]+de[2]*ge[1],de[1]*ge[0]+de[3]*ge[1],de[0]*ge[2]+de[2]*ge[3],de[1]*ge[2]+de[3]*ge[3],de[0]*ge[4]+de[2]*ge[5]+de[4],de[1]*ge[4]+de[3]*ge[5]+de[5]]}static applyTransform(de,ge){return[de[0]*ge[0]+de[1]*ge[2]+ge[4],de[0]*ge[1]+de[1]*ge[3]+ge[5]]}static applyInverseTransform(de,ge){const Ae=ge[0]*ge[3]-ge[1]*ge[2];return[(de[0]*ge[3]-de[1]*ge[2]+ge[2]*ge[5]-ge[4]*ge[3])/Ae,(-de[0]*ge[1]+de[1]*ge[0]+ge[4]*ge[1]-ge[5]*ge[0])/Ae]}static getAxialAlignedBoundingBox(de,ge){const Ae=this.applyTransform(de,ge),be=this.applyTransform(de.slice(2,4),ge),pe=this.applyTransform([de[0],de[3]],ge),xe=this.applyTransform([de[2],de[1]],ge);return[Math.min(Ae[0],be[0],pe[0],xe[0]),Math.min(Ae[1],be[1],pe[1],xe[1]),Math.max(Ae[0],be[0],pe[0],xe[0]),Math.max(Ae[1],be[1],pe[1],xe[1])]}static inverseTransform(de){const ge=de[0]*de[3]-de[1]*de[2];return[de[3]/ge,-de[1]/ge,-de[2]/ge,de[0]/ge,(de[2]*de[5]-de[4]*de[3])/ge,(de[4]*de[1]-de[5]*de[0])/ge]}static singularValueDecompose2dScale(de){const ge=[de[0],de[2],de[1],de[3]],Ae=de[0]*ge[0]+de[1]*ge[2],xe=de[2]*ge[1]+de[3]*ge[3],we=(Ae+xe)/2,Ne=Math.sqrt((Ae+xe)**2-4*(Ae*xe-(de[2]*ge[0]+de[3]*ge[2])*(de[0]*ge[1]+de[1]*ge[3])))/2,$e=we-Ne||1;return[Math.sqrt(we+Ne||1),Math.sqrt($e)]}static normalizeRect(de){const ge=de.slice(0);return de[0]>de[2]&&(ge[0]=de[2],ge[2]=de[0]),de[1]>de[3]&&(ge[1]=de[3],ge[3]=de[1]),ge}static intersect(de,ge){const Ae=Math.max(Math.min(de[0],de[2]),Math.min(ge[0],ge[2])),be=Math.min(Math.max(de[0],de[2]),Math.max(ge[0],ge[2]));if(Ae>be)return null;const pe=Math.max(Math.min(de[1],de[3]),Math.min(ge[1],ge[3])),xe=Math.min(Math.max(de[1],de[3]),Math.max(ge[1],ge[3]));return pe>xe?null:[Ae,pe,be,xe]}static bezierBoundingBox(de,ge,Ae,be,pe,xe,we,Ne){const He=[],$e=[[],[]];let qe,Ke,Oe,Pe,ze,Ze,Be,Je;for(let Ue=0;Ue<2;++Ue)if(0===Ue?(Ke=6*de-12*Ae+6*pe,qe=-3*de+9*Ae-9*pe+3*we,Oe=3*Ae-3*de):(Ke=6*ge-12*be+6*xe,qe=-3*ge+9*be-9*xe+3*Ne,Oe=3*be-3*ge),Math.abs(qe)<1e-12){if(Math.abs(Ke)<1e-12)continue;Pe=-Oe/Ke,0<Pe&&Pe<1&&He.push(Pe)}else Be=Ke*Ke-4*Oe*qe,Je=Math.sqrt(Be),!(Be<0)&&(ze=(-Ke+Je)/(2*qe),0<ze&&ze<1&&He.push(ze),Ze=(-Ke-Je)/(2*qe),0<Ze&&Ze<1&&He.push(Ze));let Qe,Ye=He.length;const lt=Ye;for(;Ye--;)Pe=He[Ye],Qe=1-Pe,$e[0][Ye]=Qe*Qe*Qe*de+3*Qe*Qe*Pe*Ae+3*Qe*Pe*Pe*pe+Pe*Pe*Pe*we,$e[1][Ye]=Qe*Qe*Qe*ge+3*Qe*Qe*Pe*be+3*Qe*Pe*Pe*xe+Pe*Pe*Pe*Ne;return $e[0][lt]=de,$e[1][lt]=ge,$e[0][lt+1]=we,$e[1][lt+1]=Ne,$e[0].length=$e[1].length=lt+2,[Math.min(...$e[0]),Math.min(...$e[1]),Math.max(...$e[0]),Math.max(...$e[1])]}};const K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ae(me){return decodeURIComponent(escape(me))}se.PromiseCapability=class le{#e=!1;constructor(){this.promise=new Promise((de,ge)=>{this.resolve=Ae=>{this.#e=!0,de(Ae)},this.reject=Ae=>{this.#e=!0,ge(Ae)}})}get settled(){return this.#e}};let ue=null,fe=null;se.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(ke){if("string"==typeof ke||ke instanceof URL?ke={url:ke}:(0,_util.isArrayBuffer)(ke)&&(ke={data:ke}),"object"!=typeof ke)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ke.url&&!ke.data&&!ke.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const se=new PDFDocumentLoadingTask,{docId:ye}=se,ce=ke.url?getUrlProp(ke.url):null,he=ke.data?getDataProp(ke.data):null,E=ke.httpHeaders||null,V=!0===ke.withCredentials,n=ke.password??null,j=ke.range instanceof PDFDataRangeTransport?ke.range:null,x=Number.isInteger(ke.rangeChunkSize)&&ke.rangeChunkSize>0?ke.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let e=ke.worker instanceof _PDFWorker?ke.worker:null;const t=ke.verbosity,a="string"!=typeof ke.docBaseUrl||(0,_display_utils.isDataScheme)(ke.docBaseUrl)?null:ke.docBaseUrl,F="string"==typeof ke.cMapUrl?ke.cMapUrl:null,m=!1!==ke.cMapPacked,y=ke.CMapReaderFactory||DefaultCMapReaderFactory,k="string"==typeof ke.standardFontDataUrl?ke.standardFontDataUrl:null,s=ke.StandardFontDataFactory||DefaultStandardFontDataFactory,p=!0!==ke.stopAtErrors,i=Number.isInteger(ke.maxImageSize)&&ke.maxImageSize>-1?ke.maxImageSize:-1,D=!1!==ke.isEvalSupported,b="boolean"==typeof ke.isOffscreenCanvasSupported?ke.isOffscreenCanvasSupported:!_util.isNodeJS,O=Number.isInteger(ke.canvasMaxAreaInBytes)?ke.canvasMaxAreaInBytes:-1,v="boolean"==typeof ke.disableFontFace?ke.disableFontFace:_util.isNodeJS,S=!0===ke.fontExtraProperties,d=!0===ke.enableXfa,B=ke.ownerDocument||globalThis.document,g=!0===ke.disableRange,L=!0===ke.disableStream,C=!0===ke.disableAutoFetch,h=!0===ke.pdfBug,M=j?j.length:ke.length??NaN,l="boolean"==typeof ke.useSystemFonts?ke.useSystemFonts:!_util.isNodeJS&&!v,r="boolean"==typeof ke.useWorkerFetch?ke.useWorkerFetch:y===_display_utils.DOMCMapReaderFactory&&s===_display_utils.DOMStandardFontDataFactory&&F&&k&&(0,_display_utils.isValidFetchUrl)(F,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(k,document.baseURI),f=ke.canvasFactory||new DefaultCanvasFactory({ownerDocument:B}),c=ke.filterFactory||new DefaultFilterFactory({docId:ye,ownerDocument:B});(0,_util.setVerbosityLevel)(t);const I={canvasFactory:f,filterFactory:c};if(r||(I.cMapReaderFactory=new y({baseUrl:F,isCompressed:m}),I.standardFontDataFactory=new s({baseUrl:k})),!e){const $={verbosity:t,port:_worker_options.GlobalWorkerOptions.workerPort};e=$.port?_PDFWorker.fromPort($):new _PDFWorker($),se._worker=e}const A={docId:ye,apiVersion:"3.11.174",data:he,password:n,disableAutoFetch:C,rangeChunkSize:x,length:M,docBaseUrl:a,enableXfa:d,evaluatorOptions:{maxImageSize:i,disableFontFace:v,ignoreErrors:p,isEvalSupported:D,isOffscreenCanvasSupported:b,canvasMaxAreaInBytes:O,fontExtraProperties:S,useSystemFonts:l,cMapUrl:r?F:null,standardFontDataUrl:r?k:null}},P={ignoreErrors:p,isEvalSupported:D,disableFontFace:v,fontExtraProperties:S,enableXfa:d,ownerDocument:B,disableAutoFetch:C,pdfBug:h,styleElement:null};return e.promise.then(function(){if(se.destroyed)throw new Error("Loading aborted");const $=_fetchDocument(e,A),_=new Promise(function(w){let T;var H;j?T=new _transport_stream.PDFDataTransportStream({length:M,initialData:j.initialData,progressiveDone:j.progressiveDone,contentDispositionFilename:j.contentDispositionFilename,disableRange:g,disableStream:L},j):he||(H={url:ce,length:M,httpHeaders:E,withCredentials:V,rangeChunkSize:x,disableRange:g,disableStream:L},T=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(H):(0,_display_utils.isValidFetchUrl)(H.url)?new _displayFetch_stream.PDFFetchStream(H):new _displayNetwork.PDFNetworkStream(H)),w(T)});return Promise.all([$,_]).then(function([w,T]){if(se.destroyed)throw new Error("Loading aborted");const N=new _message_handler.MessageHandler(ye,w,e.port),H=new WorkerTransport(N,se,T,P,I);se._transport=H,N.send("Ready",null)})}).catch(se._capability.reject),se}async function _fetchDocument(ke,se){if(ke.destroyed)throw new Error("Worker was destroyed");const ye=await ke.messageHandler.sendWithPromise("GetDocRequest",se,se.data?[se.data.buffer]:null);if(ke.destroyed)throw new Error("Worker was destroyed");return ye}function getUrlProp(ke){if(ke instanceof URL)return ke.href;try{return new URL(ke,window.location).href}catch{if(_util.isNodeJS&&"string"==typeof ke)return ke}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ke){if(_util.isNodeJS&&typeof Buffer<"u"&&ke instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ke instanceof Uint8Array&&ke.byteLength===ke.buffer.byteLength)return ke;if("string"==typeof ke)return(0,_util.stringToBytes)(ke);if("object"==typeof ke&&!isNaN(ke?.length)||(0,_util.isArrayBuffer)(ke))return new Uint8Array(ke);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(se){throw this._worker?.port&&delete this._worker._pendingDestroy,se}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(se,ye,ce=!1,he=null){this.length=se,this.initialData=ye,this.progressiveDone=ce,this.contentDispositionFilename=he,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(se){this._rangeListeners.push(se)}addProgressListener(se){this._progressListeners.push(se)}addProgressiveReadListener(se){this._progressiveReadListeners.push(se)}addProgressiveDoneListener(se){this._progressiveDoneListeners.push(se)}onDataRange(se,ye){for(const ce of this._rangeListeners)ce(se,ye)}onDataProgress(se,ye){this._readyCapability.promise.then(()=>{for(const ce of this._progressListeners)ce(se,ye)})}onDataProgressiveRead(se){this._readyCapability.promise.then(()=>{for(const ye of this._progressiveReadListeners)ye(se)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const se of this._progressiveDoneListeners)se()})}transportReady(){this._readyCapability.resolve()}requestDataRange(se,ye){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(se,ye){this._pdfInfo=se,this._transport=ye,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ce=>{if(!ce)return ce;const he=[];for(const E in ce)he.push(...ce[E]);return he}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(se){return this._transport.getPage(se)}getPageIndex(se){return this._transport.getPageIndex(se)}getDestinations(){return this._transport.getDestinations()}getDestination(se){return this._transport.getDestination(se)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(se=!1){return this._transport.startCleanup(se||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(se,ye,ce,he=!1){this._pageIndex=se,this._pageInfo=ye,this._transport=ce,this._stats=he?new _display_utils.StatTimer:null,this._pdfBug=he,this.commonObjs=ce.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:se,rotation:ye=this.rotate,offsetX:ce=0,offsetY:he=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:se,rotation:ye,offsetX:ce,offsetY:he,dontFlip:E})}getAnnotations({intent:se="display"}={}){const ye=this._transport.getRenderingIntent(se);return this._transport.getAnnotations(this._pageIndex,ye.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:se,viewport:ye,intent:ce="display",annotationMode:he=_util.AnnotationMode.ENABLE,transform:E=null,background:V=null,optionalContentConfigPromise:n=null,annotationCanvasMap:j=null,pageColors:x=null,printAnnotationStorage:e=null}){this._stats?.time("Overall");const t=this._transport.getRenderingIntent(ce,he,e);this.#t=!1,this.#i(),n||(n=this._transport.getOptionalContentConfig());let a=this._intentStates.get(t.cacheKey);a||(a=Object.create(null),this._intentStates.set(t.cacheKey,a)),a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null);const F=!!(t.renderingIntent&_util.RenderingIntentFlag.PRINT);a.displayReadyCapability||(a.displayReadyCapability=new _util.PromiseCapability,a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(t));const m=s=>{a.renderTasks.delete(y),(this._maybeCleanupAfterRender||F)&&(this.#t=!0),this.#n(!F),s?(y.capability.reject(s),this._abortOperatorList({intentState:a,reason:s instanceof Error?s:new Error(s)})):y.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},y=new InternalRenderTask({callback:m,params:{canvasContext:se,viewport:ye,transform:E,background:V},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:j,operatorList:a.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!F,pdfBug:this._pdfBug,pageColors:x});(a.renderTasks||=new Set).add(y);const k=y.task;return Promise.all([a.displayReadyCapability.promise,n]).then(([s,p])=>{this.destroyed?m():(this._stats?.time("Rendering"),y.initializeGraphics({transparency:s,optionalContentConfig:p}),y.operatorListChanged())}).catch(m),k}getOperatorList({intent:se="display",annotationMode:ye=_util.AnnotationMode.ENABLE,printAnnotationStorage:ce=null}={}){const E=this._transport.getRenderingIntent(se,ye,ce,!0);let n,V=this._intentStates.get(E.cacheKey);return V||(V=Object.create(null),this._intentStates.set(E.cacheKey,V)),V.opListReadCapability||(n=Object.create(null),n.operatorListChanged=function he(){V.operatorList.lastChunk&&(V.opListReadCapability.resolve(V.operatorList),V.renderTasks.delete(n))},V.opListReadCapability=new _util.PromiseCapability,(V.renderTasks||=new Set).add(n),V.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(E)),V.opListReadCapability.promise}streamTextContent({includeMarkedContent:se=!1,disableNormalization:ye=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===se,disableNormalization:!0===ye},{highWaterMark:100,size:he=>he.items.length})}getTextContent(se={}){if(this._transport._htmlForXfa)return this.getXfa().then(ce=>_xfa_text.XfaText.textContent(ce));const ye=this.streamTextContent(se);return new Promise(function(ce,he){const V=ye.getReader(),n={items:[],styles:Object.create(null)};!function E(){V.read().then(function({value:j,done:x}){x?ce(n):(Object.assign(n.styles,j.styles),n.items.push(...j.items),E())},he)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const se=[];for(const ye of this._intentStates.values())if(this._abortOperatorList({intentState:ye,reason:new Error("Page was destroyed."),force:!0}),!ye.opListReadCapability)for(const ce of ye.renderTasks)se.push(ce.completed),ce.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(se)}cleanup(se=!1){this.#t=!0;const ye=this.#n(!1);return se&&ye&&(this._stats&&=new _display_utils.StatTimer),ye}#n(se=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(se)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:ye,operatorList:ce}of this._intentStates.values())if(ye.size>0||!ce.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(se,ye){const ce=this._intentStates.get(ye);ce&&(this._stats?.timeEnd("Page Request"),ce.displayReadyCapability?.resolve(se))}_renderPageChunk(se,ye){for(let ce=0,he=se.length;ce<he;ce++)ye.operatorList.fnArray.push(se.fnArray[ce]),ye.operatorList.argsArray.push(se.argsArray[ce]);ye.operatorList.lastChunk=se.lastChunk,ye.operatorList.separateAnnots=se.separateAnnots;for(const ce of ye.renderTasks)ce.operatorListChanged();se.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:se,cacheKey:ye,annotationStorageSerializable:ce}){const{map:he,transfers:E}=ce,n=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:se,cacheKey:ye,annotationStorage:he},E).getReader(),j=this._intentStates.get(ye);j.streamReader=n;const x=()=>{n.read().then(({value:e,done:t})=>{t?j.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,j),x())},e=>{if(j.streamReader=null,!this._transport.destroyed){if(j.operatorList){j.operatorList.lastChunk=!0;for(const t of j.renderTasks)t.operatorListChanged();this.#n(!0)}if(j.displayReadyCapability)j.displayReadyCapability.reject(e);else{if(!j.opListReadCapability)throw e;j.opListReadCapability.reject(e)}}})};x()}_abortOperatorList({intentState:se,reason:ye,force:ce=!1}){if(se.streamReader){if(se.streamReaderCancelTimeout&&(clearTimeout(se.streamReaderCancelTimeout),se.streamReaderCancelTimeout=null),!ce){if(se.renderTasks.size>0)return;if(ye instanceof _display_utils.RenderingCancelledException){let he=RENDERING_CANCELLED_TIMEOUT;return ye.extraDelay>0&&ye.extraDelay<1e3&&(he+=ye.extraDelay),void(se.streamReaderCancelTimeout=setTimeout(()=>{se.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:se,reason:ye,force:!0})},he))}}if(se.streamReader.cancel(new _util.AbortException(ye.message)).catch(()=>{}),se.streamReader=null,!this._transport.destroyed){for(const[he,E]of this._intentStates)if(E===se){this._intentStates.delete(he);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(se,ye){const ce={data:structuredClone(se,ye?{transfer:ye}:null)};this.#t.then(()=>{for(const he of this.#e)he.call(this,ce)})}addEventListener(se,ye){this.#e.add(ye)}removeEventListener(se,ye){this.#e.delete(ye)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS&&"function"==typeof require)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const ke=document?.currentScript?.src;ke&&(PDFWorkerUtil.fallbackWorkerSrc=ke.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ke,se){let ye;try{if(ye=new URL(ke),!ye.origin||"null"===ye.origin)return!1}catch{return!1}const ce=new URL(se,ye);return ye.origin===ce.origin},PDFWorkerUtil.createCDNWrapper=function(ke){return URL.createObjectURL(new Blob([`importScripts("${ke}");`]))};class _PDFWorker{static#workerPorts;constructor({name:ke=null,port:se=null,verbosity:ye=(0,_util.getVerbosityLevel)()}={}){if(this.name=ke,this.destroyed=!1,this.verbosity=ye,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,se){if(_PDFWorker.#workerPorts?.has(se))throw new Error("Cannot use more than one PDFWorker per port.");return(_PDFWorker.#workerPorts||=new WeakMap).set(se,this),void this._initializeFromPort(se)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ke){this._port=ke,this._messageHandler=new _message_handler.MessageHandler("main","worker",ke),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ke}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ke)||(ke=PDFWorkerUtil.createCDNWrapper(new URL(ke,window.location).href));const se=new Worker(ke),ye=new _message_handler.MessageHandler("main","worker",se),ce=()=>{se.removeEventListener("error",he),ye.destroy(),se.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},he=()=>{this._webWorker||ce()};se.addEventListener("error",he),ye.on("test",V=>{se.removeEventListener("error",he),this.destroyed?ce():V?(this._messageHandler=ye,this._port=se,this._webWorker=se,this._readyCapability.resolve(),ye.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ye.destroy(),se.terminate())}),ye.on("ready",V=>{if(se.removeEventListener("error",he),this.destroyed)ce();else try{E()}catch{this._setupFakeWorker()}});const E=()=>{const V=new Uint8Array;ye.send("test",V,[V.buffer])};return void E()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ke=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const se=new LoopbackPort;this._port=se;const ye="fake"+PDFWorkerUtil.fakeWorkerId++,ce=new _message_handler.MessageHandler(ye+"_worker",ye,se);ke.setup(ce,se);const he=new _message_handler.MessageHandler(ye,ye+"_worker",se);this._messageHandler=he,this._readyCapability.resolve(),he.send("configure",{verbosity:this.verbosity})}).catch(ke=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ke.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ke){if(!ke?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const se=this.#workerPorts?.get(ke.port);if(se){if(se._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return se}return new _PDFWorker(ke)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&"function"==typeof require){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(se,ye,ce,he,E){this.messageHandler=se,this.loadingTask=ye,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:he.ownerDocument,styleElement:he.styleElement}),this._params=he,this.canvasFactory=E.canvasFactory,this.filterFactory=E.filterFactory,this.cMapReaderFactory=E.cMapReaderFactory,this.standardFontDataFactory=E.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ce,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(se,ye=null){const ce=this.#e.get(se);if(ce)return ce;const he=this.messageHandler.sendWithPromise(se,ye);return this.#e.set(se,he),he}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(se,ye=_util.AnnotationMode.ENABLE,ce=null,he=!1){let E=_util.RenderingIntentFlag.DISPLAY,V=_annotation_storage.SerializableEmpty;switch(se){case"any":E=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":E=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${se}`)}switch(ye){case _util.AnnotationMode.DISABLE:E+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:E+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:E+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,V=(E&_util.RenderingIntentFlag.PRINT&&ce instanceof _annotation_storage.PrintAnnotationStorage?ce:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ye}`)}return he&&(E+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:E,cacheKey:`${E}_${V.hash}`,annotationStorageSerializable:V}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const se=[];for(const ce of this.#t.values())se.push(ce._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ye=this.messageHandler.sendWithPromise("Terminate",null);return se.push(ye),Promise.all(se).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:se,loadingTask:ye}=this;se.on("GetReader",(ce,he)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},he.onPull=()=>{this._fullReader.read().then(function({value:E,done:V}){V?he.close():((0,_util.assert)(E instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),he.enqueue(new Uint8Array(E),1,[E]))}).catch(E=>{he.error(E)})},he.onCancel=E=>{this._fullReader.cancel(E),he.ready.catch(V=>{if(!this.destroyed)throw V})}}),se.on("ReaderHeadersReady",ce=>{const he=new _util.PromiseCapability,E=this._fullReader;return E.headersReady.then(()=>{(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&ye.onProgress?.(this._lastProgress),E.onProgress=V=>{ye.onProgress?.({loaded:V.loaded,total:V.total})}),he.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},he.reject),he.promise}),se.on("GetRangeReader",(ce,he)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(ce.begin,ce.end);E?(he.onPull=()=>{E.read().then(function({value:V,done:n}){n?he.close():((0,_util.assert)(V instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),he.enqueue(new Uint8Array(V),1,[V]))}).catch(V=>{he.error(V)})},he.onCancel=V=>{E.cancel(V),he.ready.catch(n=>{if(!this.destroyed)throw n})}):he.close()}),se.on("GetDoc",({pdfInfo:ce})=>{this._numPages=ce.numPages,this._htmlForXfa=ce.htmlForXfa,delete ce.htmlForXfa,ye._capability.resolve(new PDFDocumentProxy(ce,this))}),se.on("DocException",function(ce){let he;switch(ce.name){case"PasswordException":he=new _util.PasswordException(ce.message,ce.code);break;case"InvalidPDFException":he=new _util.InvalidPDFException(ce.message);break;case"MissingPDFException":he=new _util.MissingPDFException(ce.message);break;case"UnexpectedResponseException":he=new _util.UnexpectedResponseException(ce.message,ce.status);break;case"UnknownErrorException":he=new _util.UnknownErrorException(ce.message,ce.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ye._capability.reject(he)}),se.on("PasswordRequest",ce=>{if(this.#i=new _util.PromiseCapability,ye.onPassword){const he=E=>{E instanceof Error?this.#i.reject(E):this.#i.resolve({password:E})};try{ye.onPassword(he,ce.code)}catch(E){this.#i.reject(E)}}else this.#i.reject(new _util.PasswordException(ce.message,ce.code));return this.#i.promise}),se.on("DataLoaded",ce=>{ye.onProgress?.({loaded:ce.length,total:ce.length}),this.downloadInfoCapability.resolve(ce)}),se.on("StartRenderPage",ce=>{this.destroyed||this.#t.get(ce.pageIndex)._startRenderPage(ce.transparency,ce.cacheKey)}),se.on("commonobj",([ce,he,E])=>{if(!this.destroyed&&!this.commonObjs.has(ce))switch(he){case"Font":const V=this._params;if("error"in E){const x=E.error;(0,_util.warn)(`Error during font loading: ${x}`),this.commonObjs.resolve(ce,x);break}const n=V.pdfBug&&globalThis.FontInspector?.enabled?(x,e)=>globalThis.FontInspector.fontAdded(x,e):null,j=new _font_loader.FontFaceObject(E,{isEvalSupported:V.isEvalSupported,disableFontFace:V.disableFontFace,ignoreErrors:V.ignoreErrors,inspectFont:n});this.fontLoader.bind(j).catch(x=>se.sendWithPromise("FontFallback",{id:ce})).finally(()=>{!V.fontExtraProperties&&j.data&&(j.data=null),this.commonObjs.resolve(ce,j)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ce,E);break;default:throw new Error(`Got unknown common object type ${he}`)}}),se.on("obj",([ce,he,E,V])=>{if(this.destroyed)return;const n=this.#t.get(he);if(!n.objs.has(ce))switch(E){case"Image":if(n.objs.resolve(ce,V),V){let j;if(V.bitmap){const{width:x,height:e}=V;j=x*e*4}else j=V.data?.length||0;j>_util.MAX_IMAGE_SIZE_TO_CACHE&&(n._maybeCleanupAfterRender=!0)}break;case"Pattern":n.objs.resolve(ce,V);break;default:throw new Error(`Got unknown object type ${E}`)}}),se.on("DocProgress",ce=>{this.destroyed||ye.onProgress?.({loaded:ce.loaded,total:ce.total})}),se.on("FetchBuiltInCMap",ce=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ce):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),se.on("FetchStandardFontData",ce=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ce):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:se,transfers:ye}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:se,filename:this._fullReader?.filename??null},ye).finally(()=>{this.annotationStorage.resetModified()})}getPage(se){if(!Number.isInteger(se)||se<=0||se>this._numPages)return Promise.reject(new Error("Invalid page request."));const ye=se-1,ce=this.#n.get(ye);if(ce)return ce;const he=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ye}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const V=new PDFPageProxy(ye,E,this,this._params.pdfBug);return this.#t.set(ye,V),V});return this.#n.set(ye,he),he}getPageIndex(se){return"object"!=typeof se||null===se||!Number.isInteger(se.num)||se.num<0||!Number.isInteger(se.gen)||se.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:se.num,gen:se.gen})}getAnnotations(se,ye){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:se,intent:ye})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(se){return"string"!=typeof se?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:se})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(se){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:se})}getStructTree(se){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:se})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(se=>new _optional_content_config.OptionalContentConfig(se))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const se="GetMetadata",ye=this.#e.get(se);if(ye)return ye;const ce=this.messageHandler.sendWithPromise(se,null).then(he=>({info:he[0],metadata:he[1]?new _metadata.Metadata(he[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(se,ce),ce}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(se=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ye of this.#t.values())if(!ye.cleanup())throw new Error(`startCleanup: Page ${ye.pageNumber} is currently rendering.`);this.commonObjs.clear(),se||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:se,enableXfa:ye}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:se,enableXfa:ye})}}class PDFObjects{#e=Object.create(null);#t(se){return this.#e[se]||={capability:new _util.PromiseCapability,data:null}}get(se,ye=null){if(ye){const he=this.#t(se);return he.capability.promise.then(()=>ye(he.data)),null}const ce=this.#e[se];if(!ce?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${se}.`);return ce.data}has(se){return this.#e[se]?.capability.settled||!1}resolve(se,ye=null){const ce=this.#t(se);ce.data=ye,ce.capability.resolve()}clear(){for(const se in this.#e){const{data:ye}=this.#e[se];ye?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(se){this.#e=se,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(se=0){this.#e.cancel(null,se)}get separateAnnots(){const{separateAnnots:se}=this.#e.operatorList;if(!se)return!1;const{annotationCanvasMap:ye}=this.#e;return se.form||se.canvas&&ye?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:se,params:ye,objs:ce,commonObjs:he,annotationCanvasMap:E,operatorList:V,pageIndex:n,canvasFactory:j,filterFactory:x,useRequestAnimationFrame:e=!1,pdfBug:t=!1,pageColors:a=null}){this.callback=se,this.params=ye,this.objs=ce,this.commonObjs=he,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=V,this._pageIndex=n,this.canvasFactory=j,this.filterFactory=x,this._pdfBug=t,this.pageColors=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===e&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ye.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:se=!1,optionalContentConfig:ye}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ce,viewport:he,transform:E,background:V}=this.params;this.gfx=new _canvas.CanvasGraphics(ce,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ye},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:E,viewport:he,transparency:se,background:V}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(se=null,ye=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(se||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ye))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.SerializableEmpty=se.PrintAnnotationStorage=se.AnnotationStorage=void 0;var ce=ye(1),he=ye(4),E=ye(8);const V=Object.freeze({map:null,hash:"",transfers:void 0});se.SerializableEmpty=V;class n{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const a=this.#t.get(e);return void 0===a?t:Object.assign(t,a)}getRawValue(e){return this.#t.get(e)}remove(e){if(this.#t.delete(e),0===this.#t.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this.#t.values())if(t instanceof he.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const a=this.#t.get(e);let F=!1;if(void 0!==a)for(const[m,y]of Object.entries(t))a[m]!==y&&(F=!0,a[m]=y);else F=!0,this.#t.set(e,t);F&&this.#n(),t instanceof he.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#t.has(e)}getAll(){return this.#t.size>0?(0,ce.objectFromMap)(this.#t):null}setAll(e){for(const[t,a]of Object.entries(e))this.setValue(t,a)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new j(this)}get serializable(){if(0===this.#t.size)return V;const e=new Map,t=new E.MurmurHash3_64,a=[],F=Object.create(null);let m=!1;for(const[y,k]of this.#t){const s=k instanceof he.AnnotationEditor?k.serialize(!1,F):k;s&&(e.set(y,s),t.update(`${y}:${JSON.stringify(s)}`),m||=!!s.bitmap)}if(m)for(const y of e.values())y.bitmap&&a.push(y.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:a}:V}}se.AnnotationStorage=n;class j extends n{#e;constructor(e){super();const{map:t,hash:a,transfers:F}=e.serializable,m=structuredClone(t,F?{transfer:F}:null);this.#e={map:m,hash:a,transfers:F}}get print(){(0,ce.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}se.PrintAnnotationStorage=j},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AnnotationEditor=void 0;var ce=ye(5),he=ye(1),E=ye(6);class V{#e="";#t=!1;#n=null;#i=null;#o=null;#r=!1;#s=null;#c=this.focusin.bind(this);#l=this.focusout.bind(this);#a=!1;#g=!1;#u=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#d=!1;#f=V._zIndex++;static _borderLineWidth=-1;static _colorManager=new ce.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(x){this.constructor===V&&(0,he.unreachable)("Cannot initialize AnnotationEditor."),this.parent=x.parent,this.id=x.id,this.width=this.height=null,this.pageIndex=x.parent.pageIndex,this.name=x.name,this.div=null,this._uiManager=x.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=x.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:t,pageHeight:a,pageX:F,pageY:m}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[t,a],this.pageTranslation=[F,m];const[y,k]=this.parentDimensions;this.x=x.x/y,this.y=x.y/k,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,he.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(x){const e=new n({id:x.parent.getNextId(),parent:x.parent,uiManager:x._uiManager});e.annotationElementId=x.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(x,e=null){if(V._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(a=>[a,x.get(a)])),e?.strings)for(const a of e.strings)V._l10nPromise.set(a,x.get(a));if(-1!==V._borderLineWidth)return;const t=getComputedStyle(document.documentElement);V._borderLineWidth=parseFloat(t.getPropertyValue("--outline-width"))||0}static updateDefaultParams(x,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(x){return!1}static paste(x,e){(0,he.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#d}set _isDraggable(x){this.#d=x,this.div?.classList.toggle("draggable",x)}center(){const[x,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*x),this.y+=this.width*x/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*x),this.y-=this.width*x/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(x){this._uiManager.addCommands(x)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#f}setParent(x){null!==x&&(this.pageIndex=x.pageIndex,this.pageDimensions=x.pageDimensions),this.parent=x}focusin(x){this._focusEventsAllowed&&(this.#a?this.#a=!1:this.parent.setSelected(this))}focusout(x){!this._focusEventsAllowed||!this.isAttachedToDOM||x.relatedTarget?.closest(`#${this.id}`)||(x.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(x,e,t,a){const[F,m]=this.parentDimensions;[t,a]=this.screenToPageTranslation(t,a),this.x=(x+t)/F,this.y=(e+a)/m,this.fixAndSetPosition()}#x([x,e],t,a){[t,a]=this.screenToPageTranslation(t,a),this.x+=t/x,this.y+=a/e,this.fixAndSetPosition()}translate(x,e){this.#x(this.parentDimensions,x,e)}translateInPage(x,e){this.#x(this.pageDimensions,x,e),this.div.scrollIntoView({block:"nearest"})}drag(x,e){const[t,a]=this.parentDimensions;if(this.x+=x/t,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:s,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,s,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:F,y:m}=this;const[y,k]=this.#m();F+=y,m+=k,this.div.style.left=`${(100*F).toFixed(2)}%`,this.div.style.top=`${(100*m).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[x,e]=this.parentDimensions,{_borderLineWidth:t}=V,a=t/x,F=t/e;switch(this.rotation){case 90:return[-a,F];case 180:return[a,F];case 270:return[a,-F];default:return[-a,-F]}}fixAndSetPosition(){const[x,e]=this.pageDimensions;let{x:t,y:a,width:F,height:m}=this;switch(F*=x,m*=e,t*=x,a*=e,this.rotation){case 0:t=Math.max(0,Math.min(x-F,t)),a=Math.max(0,Math.min(e-m,a));break;case 90:t=Math.max(0,Math.min(x-m,t)),a=Math.min(e,Math.max(F,a));break;case 180:t=Math.min(x,Math.max(F,t)),a=Math.min(e,Math.max(m,a));break;case 270:t=Math.min(x,Math.max(m,t)),a=Math.max(0,Math.min(e-F,a))}this.x=t/=x,this.y=a/=e;const[y,k]=this.#m();t+=y,a+=k;const{style:s}=this.div;s.left=`${(100*t).toFixed(2)}%`,s.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#p(x,e,t){switch(t){case 90:return[e,-x];case 180:return[-x,-e];case 270:return[-e,x];default:return[x,e]}}screenToPageTranslation(x,e){return V.#p(x,e,this.parentRotation)}pageTranslationToScreen(x,e){return V.#p(x,e,360-this.parentRotation)}#h(x){switch(x){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:x,pageDimensions:[e,t]}=this,a=e*x,F=t*x;return he.FeatureTest.isCSSRoundSupported?[Math.round(a),Math.round(F)]:[a,F]}setDims(x,e){const[t,a]=this.parentDimensions;this.div.style.width=`${(100*x/t).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*e/a).toFixed(2)}%`),this.#n?.classList.toggle("small",x<V.SMALL_EDITOR_SIZE||e<V.SMALL_EDITOR_SIZE)}fixDims(){const{style:x}=this.div,{height:e,width:t}=x,a=t.endsWith("%"),F=!this.#r&&e.endsWith("%");if(a&&F)return;const[m,y]=this.parentDimensions;a||(x.width=`${(100*parseFloat(t)/m).toFixed(2)}%`),!this.#r&&!F&&(x.height=`${(100*parseFloat(e)/y).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const x=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||x.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const e of x){const t=document.createElement("div");this.#s.append(t),t.classList.add("resizer",e),t.addEventListener("pointerdown",this.#v.bind(this,e)),t.addEventListener("contextmenu",E.noContextMenu)}this.div.prepend(this.#s)}#v(x,e){e.preventDefault();const{isMac:t}=he.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;const a=this.#S.bind(this,x),F=this._isDraggable;this._isDraggable=!1;const m={passive:!0,capture:!0};window.addEventListener("pointermove",a,m);const y=this.x,k=this.y,s=this.width,p=this.height,i=this.parent.div.style.cursor,D=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const b=()=>{this._isDraggable=F,window.removeEventListener("pointerup",b),window.removeEventListener("blur",b),window.removeEventListener("pointermove",a,m),this.parent.div.style.cursor=i,this.div.style.cursor=D;const O=this.x,v=this.y,S=this.width,d=this.height;O===y&&v===k&&S===s&&d===p||this.addCommands({cmd:()=>{this.width=S,this.height=d,this.x=O,this.y=v;const[B,g]=this.parentDimensions;this.setDims(B*S,g*d),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=p,this.x=y,this.y=k;const[B,g]=this.parentDimensions;this.setDims(B*s,g*p),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",b),window.addEventListener("blur",b)}#S(x,e){const[t,a]=this.parentDimensions,F=this.x,m=this.y,y=this.width,k=this.height,s=V.MIN_SIZE/t,p=V.MIN_SIZE/a,i=_=>Math.round(1e4*_)/1e4,D=this.#h(this.rotation),b=(_,w)=>[D[0]*_+D[2]*w,D[1]*_+D[3]*w],O=this.#h(360-this.rotation);let S,d,B=!1,g=!1;switch(x){case"topLeft":B=!0,S=(_,w)=>[0,0],d=(_,w)=>[_,w];break;case"topMiddle":S=(_,w)=>[_/2,0],d=(_,w)=>[_/2,w];break;case"topRight":B=!0,S=(_,w)=>[_,0],d=(_,w)=>[0,w];break;case"middleRight":g=!0,S=(_,w)=>[_,w/2],d=(_,w)=>[0,w/2];break;case"bottomRight":B=!0,S=(_,w)=>[_,w],d=(_,w)=>[0,0];break;case"bottomMiddle":S=(_,w)=>[_/2,w],d=(_,w)=>[_/2,0];break;case"bottomLeft":B=!0,S=(_,w)=>[0,w],d=(_,w)=>[_,0];break;case"middleLeft":g=!0,S=(_,w)=>[0,w/2],d=(_,w)=>[_,w/2]}const L=S(y,k),C=d(y,k);let h=b(...C);const M=i(F+h[0]),l=i(m+h[1]);let r=1,f=1,[c,u]=this.screenToPageTranslation(e.movementX,e.movementY);if([c,u]=[O[0]*(_=c/t)+O[2]*(w=u/a),O[1]*_+O[3]*w],B){const _=Math.hypot(y,k);r=f=Math.max(Math.min(Math.hypot(C[0]-L[0]-c,C[1]-L[1]-u)/_,1/y,1/k),s/y,p/k)}else g?r=Math.max(s,Math.min(1,Math.abs(C[0]-L[0]-c)))/y:f=Math.max(p,Math.min(1,Math.abs(C[1]-L[1]-u)))/k;var _,w;const I=i(y*r),A=i(k*f);h=b(...d(I,A));const P=M-h[0],$=l-h[1];this.width=I,this.height=A,this.x=P,this.y=$,this.setDims(t*I,a*A),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const x=this.#n=document.createElement("button");x.className="altText";const e=await V._l10nPromise.get("editor_alt_text_button_label");x.textContent=e,x.setAttribute("aria-label",e),x.tabIndex="0",x.addEventListener("contextmenu",E.noContextMenu),x.addEventListener("pointerdown",t=>t.stopPropagation()),x.addEventListener("click",t=>{t.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),x.addEventListener("keydown",t=>{t.target===x&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))}),this.#F(),this.div.append(x),V.SMALL_EDITOR_SIZE||(V.SMALL_EDITOR_SIZE=Math.min(128,Math.round(1.4*x.getBoundingClientRect().width)))}async#F(){const x=this.#n;if(!x)return;if(!this.#e&&!this.#t)return x.classList.remove("done"),void this.#i?.remove();V._l10nPromise.get("editor_alt_text_edit_button_label").then(t=>{x.setAttribute("aria-label",t)});let e=this.#i;if(!e){this.#i=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");const t=e.id=`alt-text-tooltip-${this.id}`;x.setAttribute("aria-describedby",t);const a=100;x.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},a)}),x.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#i?.classList.remove("show")})}x.classList.add("done"),e.innerText=this.#t?await V._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,e.parentNode||x.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:x,decorative:e}){this.#e===x&&this.#t===e||(this.#e=x,this.#t=e,this.#F())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#c),this.div.addEventListener("focusout",this.#l);const[x,e]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*e/x).toFixed(2)}%`,this.div.style.maxHeight=`${(100*x/e).toFixed(2)}%`);const[t,a]=this.getInitialTranslation();return this.translate(t,a),(0,ce.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(x){const{isMac:e}=he.FeatureTest.platform;0!==x.button||x.ctrlKey&&e?x.preventDefault():(this.#a=!0,this.#E(x))}#E(x){if(!this._isDraggable)return;const e=this._uiManager.isSelected(this);let t,a;this._uiManager.setUpDragSession(),e&&(t={passive:!0,capture:!0},a=m=>{const[y,k]=this.screenToPageTranslation(m.movementX,m.movementY);this._uiManager.dragSelectedEditors(y,k)},window.addEventListener("pointermove",a,t));const F=()=>{if(window.removeEventListener("pointerup",F),window.removeEventListener("blur",F),e&&window.removeEventListener("pointermove",a,t),this.#a=!1,!this._uiManager.endDragSession()){const{isMac:m}=he.FeatureTest.platform;x.ctrlKey&&!m||x.shiftKey||x.metaKey&&m?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",F),window.addEventListener("blur",F)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(x,e,t){x.changeParent(this),this.x=e,this.y=t,this.fixAndSetPosition()}getRect(x,e){const t=this.parentScale,[a,F]=this.pageDimensions,[m,y]=this.pageTranslation,k=x/t,s=e/t,p=this.x*a,i=this.y*F,D=this.width*a,b=this.height*F;switch(this.rotation){case 0:return[p+k+m,F-i-s-b+y,p+k+D+m,F-i-s+y];case 90:return[p+s+m,F-i+k+y,p+s+b+m,F-i+k+D+y];case 180:return[p-k-D+m,F-i+s+y,p-k+m,F-i+s+b+y];case 270:return[p-s-b+m,F-i-k-D+y,p-s+m,F-i-k+y];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(x,e){const[t,a,F,m]=x,y=F-t,k=m-a;switch(this.rotation){case 0:return[t,e-m,y,k];case 90:return[t,e-a,k,y];case 180:return[F,e-a,y,k];case 270:return[F,e-m,k,y];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#u=!0}disableEditMode(){this.#u=!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#c),this.div?.addEventListener("focusout",this.#l)}serialize(x=!1,e=null){(0,he.unreachable)("An editor must be serializable")}static deserialize(x,e,t){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:t});a.rotation=x.rotation;const[F,m]=a.pageDimensions,[y,k,s,p]=a.getRectInCurrentCoords(x.rect,m);return a.x=y/F,a.y=k/m,a.width=s/F,a.height=p/m,a}remove(){this.div.removeEventListener("focusin",this.#c),this.div.removeEventListener("focusout",this.#l),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(x,e){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(x){this.#g=x,this.parent&&(x?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(x,e){this.#r=!0;const t=x/e,{style:a}=this.div;a.aspectRatio=t,a.height="auto"}static get MIN_SIZE(){return 16}}se.AnnotationEditor=V;class n extends V{constructor(x){super(x),this.annotationElementId=x.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.KeyboardManager=se.CommandManager=se.ColorManager=se.AnnotationEditorUIManager=void 0,se.bindEvents=function E(F,m,y){for(const k of y)m.addEventListener(k,F[k].bind(F))},se.opacityToHex=function V(F){return Math.round(Math.min(255,Math.max(1,255*F))).toString(16).padStart(2,"0")};var ce=ye(1),he=ye(6);class n{#e=0;getId(){return`${ce.AnnotationEditorPrefix}${this.#e++}`}}class j{#e=(0,ce.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const k=new OffscreenCanvas(1,3).getContext("2d"),s=new Image;s.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const p=s.decode().then(()=>(k.drawImage(s,0,0,1,1,0,0,1,3),0===new Uint32Array(k.getImageData(0,0,1,1).data.buffer)[0]));return(0,ce.shadow)(this,"_isSVGFittingCanvas",p)}async#i(m,y){this.#n||=new Map;let k=this.#n.get(m);if(null===k)return null;if(k?.bitmap)return k.refCounter+=1,k;try{let s;if(k||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1},"string"==typeof y){k.url=y;const p=await fetch(y);if(!p.ok)throw new Error(p.statusText);s=await p.blob()}else s=k.file=y;if("image/svg+xml"===s.type){const p=j._isSVGFittingCanvas,i=new FileReader,D=new Image,b=new Promise((O,v)=>{D.onload=()=>{k.bitmap=D,k.isSvg=!0,O()},i.onload=async()=>{const S=k.svgUrl=i.result;D.src=await p?`${S}#svgView(preserveAspectRatio(none))`:S},D.onerror=i.onerror=v});i.readAsDataURL(s),await b}else k.bitmap=await createImageBitmap(s);k.refCounter=1}catch(s){console.error(s),k=null}return this.#n.set(m,k),k&&this.#n.set(k.id,k),k}async getFromFile(m){const{lastModified:y,name:k,size:s,type:p}=m;return this.#i(`${y}_${k}_${s}_${p}`,m)}async getFromUrl(m){return this.#i(m,m)}async getFromId(m){this.#n||=new Map;const y=this.#n.get(m);return y?y.bitmap?(y.refCounter+=1,y):y.file?this.getFromFile(y.file):this.getFromUrl(y.url):null}getSvgUrl(m){const y=this.#n.get(m);return y?.isSvg?y.svgUrl:null}deleteId(m){this.#n||=new Map;const y=this.#n.get(m);y&&(y.refCounter-=1,0===y.refCounter&&(y.bitmap=null))}isValidId(m){return m.startsWith(`image_${this.#e}_`)}}class x{#e=[];#t=!1;#n;#i=-1;constructor(m=128){this.#n=m}add({cmd:m,undo:y,mustExec:k,type:s=NaN,overwriteIfSameType:p=!1,keepUndo:i=!1}){if(k&&m(),this.#t)return;const D={cmd:m,undo:y,type:s};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(D);if(p&&this.#e[this.#i].type===s)return i&&(D.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=D);const b=this.#i+1;b===this.#n?this.#e.splice(0,1):(this.#i=b,b<this.#e.length&&this.#e.splice(b)),this.#e.push(D)}undo(){-1!==this.#i&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}se.CommandManager=x;class e{constructor(m){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:y}=ce.FeatureTest.platform;for(const[k,s,p={}]of m)for(const i of k){const D=i.startsWith("mac+");y&&D?(this.callbacks.set(i.slice(4),{callback:s,options:p}),this.allKeys.add(i.split("+").at(-1))):!y&&!D&&(this.callbacks.set(i,{callback:s,options:p}),this.allKeys.add(i.split("+").at(-1)))}}#e(m){m.altKey&&this.buffer.push("alt"),m.ctrlKey&&this.buffer.push("ctrl"),m.metaKey&&this.buffer.push("meta"),m.shiftKey&&this.buffer.push("shift"),this.buffer.push(m.key);const y=this.buffer.join("+");return this.buffer.length=0,y}exec(m,y){if(!this.allKeys.has(y.key))return;const k=this.callbacks.get(this.#e(y));if(!k)return;const{callback:s,options:{bubbles:p=!1,args:i=[],checker:D=null}}=k;D&&!D(m,y)||(s.bind(m,...i)(),p||(y.stopPropagation(),y.preventDefault()))}}se.KeyboardManager=e;class t{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const m=new Map([["CanvasText",null],["Canvas",null]]);return(0,he.getColorValues)(m),(0,ce.shadow)(this,"_colors",m)}convert(m){const y=(0,he.getRGB)(m);if(!window.matchMedia("(forced-colors: active)").matches)return y;for(const[k,s]of this._colors)if(s.every((p,i)=>p===y[i]))return t._colorsMapping.get(k);return y}getHexCode(m){const y=this._colors.get(m);return y?ce.Util.makeHexColor(...y):m}}se.ColorManager=t;class a{#e=null;#t=new Map;#n=new Map;#i=null;#o=null;#r=new x;#s=0;#c=new Set;#l=null;#a=null;#g=new Set;#u=null;#d=new n;#f=!1;#x=!1;#m=null;#p=ce.AnnotationEditorType.NONE;#h=new Set;#b=null;#v=this.blur.bind(this);#S=this.focus.bind(this);#F=this.copy.bind(this);#E=this.cut.bind(this);#R=this.paste.bind(this);#D=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#_=this.onScaleChanging.bind(this);#I=this.onRotationChanging.bind(this);#O={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#w=[0,0];#T=null;#C=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const m=a.prototype,y=p=>{const{activeElement:i}=document;return i&&p.#C.contains(i)&&p.hasSomethingToControl()},k=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return(0,ce.shadow)(this,"_keyboardManager",new e([[["ctrl+a","mac+meta+a"],m.selectAll],[["ctrl+z","mac+meta+z"],m.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],m.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],m.delete],[["Escape","mac+Escape"],m.unselectAll],[["ArrowLeft","mac+ArrowLeft"],m.translateSelectedEditors,{args:[-k,0],checker:y}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],m.translateSelectedEditors,{args:[-s,0],checker:y}],[["ArrowRight","mac+ArrowRight"],m.translateSelectedEditors,{args:[k,0],checker:y}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],m.translateSelectedEditors,{args:[s,0],checker:y}],[["ArrowUp","mac+ArrowUp"],m.translateSelectedEditors,{args:[0,-k],checker:y}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],m.translateSelectedEditors,{args:[0,-s],checker:y}],[["ArrowDown","mac+ArrowDown"],m.translateSelectedEditors,{args:[0,k],checker:y}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],m.translateSelectedEditors,{args:[0,s],checker:y}]]))}constructor(m,y,k,s,p,i){this.#C=m,this.#N=y,this.#i=k,this._eventBus=s,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#y),this._eventBus._on("scalechanging",this.#_),this._eventBus._on("rotationchanging",this.#I),this.#o=p.annotationStorage,this.#u=p.filterFactory,this.#b=i,this.viewParameters={realScale:he.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#P(),this.#$(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#y),this._eventBus._off("scalechanging",this.#_),this._eventBus._off("rotationchanging",this.#I);for(const m of this.#n.values())m.destroy();this.#n.clear(),this.#t.clear(),this.#g.clear(),this.#e=null,this.#h.clear(),this.#r.destroy(),this.#i.destroy()}get hcmFilter(){return(0,ce.shadow)(this,"hcmFilter",this.#b?this.#u.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,ce.shadow)(this,"direction",getComputedStyle(this.#C).direction)}editAltText(m){this.#i?.editAltText(this,m)}onPageChanging({pageNumber:m}){this.#s=m-1}focusMainContainer(){this.#C.focus()}findParent(m,y){for(const k of this.#n.values()){const{x:s,y:p,width:i,height:D}=k.div.getBoundingClientRect();if(m>=s&&m<=s+i&&y>=p&&y<=p+D)return k}return null}disableUserSelect(m=!1){this.#N.classList.toggle("noUserSelect",m)}addShouldRescale(m){this.#g.add(m)}removeShouldRescale(m){this.#g.delete(m)}onScaleChanging({scale:m}){this.commitOrRemove(),this.viewParameters.realScale=m*he.PixelsPerInch.PDF_TO_CSS_UNITS;for(const y of this.#g)y.onScaleChanging()}onRotationChanging({pagesRotation:m}){this.commitOrRemove(),this.viewParameters.rotation=m}addToAnnotationStorage(m){!m.isEmpty()&&this.#o&&!this.#o.has(m.id)&&this.#o.setValue(m.id,m)}#B(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#v)}#$(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#v)}blur(){if(!this.hasSelection)return;const{activeElement:m}=document;for(const y of this.#h)if(y.div.contains(m)){this.#m=[y,m],y._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[m,y]=this.#m;this.#m=null,y.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),y.focus()}#j(){window.addEventListener("keydown",this.#D,{capture:!0})}#P(){window.removeEventListener("keydown",this.#D,{capture:!0})}#M(){document.addEventListener("copy",this.#F),document.addEventListener("cut",this.#E),document.addEventListener("paste",this.#R)}#k(){document.removeEventListener("copy",this.#F),document.removeEventListener("cut",this.#E),document.removeEventListener("paste",this.#R)}addEditListeners(){this.#j(),this.#M()}removeEditListeners(){this.#P(),this.#k()}copy(m){if(m.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const y=[];for(const k of this.#h){const s=k.serialize(!0);s&&y.push(s)}0!==y.length&&m.clipboardData.setData("application/pdfjs",JSON.stringify(y))}cut(m){this.copy(m),this.delete()}paste(m){m.preventDefault();const{clipboardData:y}=m;for(const p of y.items)for(const i of this.#a)if(i.isHandlingMimeForPasting(p.type))return void i.paste(p,this.currentLayer);let k=y.getData("application/pdfjs");if(!k)return;try{k=JSON.parse(k)}catch(p){return void(0,ce.warn)(`paste: "${p.message}".`)}if(!Array.isArray(k))return;this.unselectAll();const s=this.currentLayer;try{const p=[];for(const b of k){const O=s.deserialize(b);if(!O)return;p.push(O)}this.addCommands({cmd:()=>{for(const b of p)this.#X(b);this.#z(p)},undo:()=>{for(const b of p)b.remove()},mustExec:!0})}catch(p){(0,ce.warn)(`paste: "${p.message}".`)}}keydown(m){this.getActive()?.shouldGetKeyboardEvents()||a._keyboardManager.exec(this,m)}onEditingAction(m){["undo","redo","delete","selectAll"].includes(m.name)&&this[m.name]()}#A(m){Object.entries(m).some(([k,s])=>this.#O[k]!==s)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#O,m)})}#U(m){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:m})}setEditingState(m){m?(this.#B(),this.#j(),this.#M(),this.#A({isEditing:this.#p!==ce.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#$(),this.#P(),this.#k(),this.#A({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(m){if(!this.#a){this.#a=m;for(const y of this.#a)this.#U(y.defaultPropertiesToUpdate)}}getId(){return this.#d.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(m){return this.#n.get(m)}get currentPageIndex(){return this.#s}addLayer(m){this.#n.set(m.pageIndex,m),this.#f?m.enable():m.disable()}removeLayer(m){this.#n.delete(m.pageIndex)}updateMode(m,y=null){if(this.#p!==m){if(this.#p=m,m===ce.AnnotationEditorType.NONE)return this.setEditingState(!1),void this.#W();this.setEditingState(!0),this.#G(),this.unselectAll();for(const k of this.#n.values())k.updateMode(m);if(y)for(const k of this.#t.values())if(k.annotationElementId===y){this.setSelected(k),k.enterInEditMode();break}}}updateToolbar(m){m!==this.#p&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:m})}updateParams(m,y){if(this.#a){if(m===ce.AnnotationEditorParamsType.CREATE)return void this.currentLayer.addNewEditor(m);for(const k of this.#h)k.updateParams(m,y);for(const k of this.#a)k.updateDefaultParams(m,y)}}enableWaiting(m=!1){if(this.#x!==m){this.#x=m;for(const y of this.#n.values())m?y.disableClick():y.enableClick(),y.div.classList.toggle("waiting",m)}}#G(){if(!this.#f){this.#f=!0;for(const m of this.#n.values())m.enable()}}#W(){if(this.unselectAll(),this.#f){this.#f=!1;for(const m of this.#n.values())m.disable()}}getEditors(m){const y=[];for(const k of this.#t.values())k.pageIndex===m&&y.push(k);return y}getEditor(m){return this.#t.get(m)}addEditor(m){this.#t.set(m.id,m)}removeEditor(m){this.#t.delete(m.id),this.unselect(m),(!m.annotationElementId||!this.#c.has(m.annotationElementId))&&this.#o?.remove(m.id)}addDeletedAnnotationElement(m){this.#c.add(m.annotationElementId),m.deleted=!0}isDeletedAnnotationElement(m){return this.#c.has(m)}removeDeletedAnnotationElement(m){this.#c.delete(m.annotationElementId),m.deleted=!1}#X(m){const y=this.#n.get(m.pageIndex);y?y.addOrRebuild(m):this.addEditor(m)}setActiveEditor(m){this.#e!==m&&(this.#e=m,m&&this.#U(m.propertiesToUpdate))}toggleSelected(m){if(this.#h.has(m))return this.#h.delete(m),m.unselect(),void this.#A({hasSelectedEditor:this.hasSelection});this.#h.add(m),m.select(),this.#U(m.propertiesToUpdate),this.#A({hasSelectedEditor:!0})}setSelected(m){for(const y of this.#h)y!==m&&y.unselect();this.#h.clear(),this.#h.add(m),m.select(),this.#U(m.propertiesToUpdate),this.#A({hasSelectedEditor:!0})}isSelected(m){return this.#h.has(m)}unselect(m){m.unselect(),this.#h.delete(m),this.#A({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#h.size}undo(){this.#r.undo(),this.#A({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#r.redo(),this.#A({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(m){this.#r.add(m),this.#A({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const m of this.#t.values())return m.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const m=[...this.#h];this.addCommands({cmd:()=>{for(const s of m)s.remove()},undo:()=>{for(const s of m)this.#X(s)},mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#z(m){this.#h.clear();for(const y of m)y.isEmpty()||(this.#h.add(y),y.select());this.#A({hasSelectedEditor:!0})}selectAll(){for(const m of this.#h)m.commit();this.#z(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(this.hasSelection){for(const m of this.#h)m.unselect();this.#h.clear(),this.#A({hasSelectedEditor:!1})}}translateSelectedEditors(m,y,k=!1){if(k||this.commitOrRemove(),!this.hasSelection)return;this.#w[0]+=m,this.#w[1]+=y;const[s,p]=this.#w,i=[...this.#h];this.#T&&clearTimeout(this.#T),this.#T=setTimeout(()=>{this.#T=null,this.#w[0]=this.#w[1]=0,this.addCommands({cmd:()=>{for(const b of i)this.#t.has(b.id)&&b.translateInPage(s,p)},undo:()=>{for(const b of i)this.#t.has(b.id)&&b.translateInPage(-s,-p)},mustExec:!1})},1e3);for(const b of i)b.translateInPage(m,y)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#l=new Map;for(const m of this.#h)this.#l.set(m,{savedX:m.x,savedY:m.y,savedPageIndex:m.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#l)return!1;this.disableUserSelect(!1);const m=this.#l;this.#l=null;let y=!1;for(const[{x:s,y:p,pageIndex:i},D]of m)D.newX=s,D.newY=p,D.newPageIndex=i,y||=s!==D.savedX||p!==D.savedY||i!==D.savedPageIndex;if(!y)return!1;const k=(s,p,i,D)=>{if(this.#t.has(s.id)){const b=this.#n.get(D);b?s._setParentAndPosition(b,p,i):(s.pageIndex=D,s.x=p,s.y=i)}};return this.addCommands({cmd:()=>{for(const[s,{newX:p,newY:i,newPageIndex:D}]of m)k(s,p,i,D)},undo:()=>{for(const[s,{savedX:p,savedY:i,savedPageIndex:D}]of m)k(s,p,i,D)},mustExec:!0}),!0}dragSelectedEditors(m,y){if(this.#l)for(const k of this.#l.keys())k.drag(m,y)}rebuild(m){if(null===m.parent){const y=this.getLayer(m.pageIndex);y?(y.changeParent(m),y.addOrRebuild(m)):(this.addEditor(m),this.addToAnnotationStorage(m),m.rebuild())}else m.parent.addOrRebuild(m)}isActive(m){return this.#e===m}getActive(){return this.#e}getMode(){return this.#p}get imageManager(){return(0,ce.shadow)(this,"imageManager",new j)}}se.AnnotationEditorUIManager=a},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.StatTimer=se.RenderingCancelledException=se.PixelsPerInch=se.PageViewport=se.PDFDateString=se.DOMStandardFontDataFactory=se.DOMSVGFactory=se.DOMFilterFactory=se.DOMCanvasFactory=se.DOMCMapReaderFactory=void 0,se.deprecated=function v(l){console.log("Deprecated API usage: "+l)},se.getColorValues=function L(l){const r=document.createElement("span");r.style.visibility="hidden",document.body.append(r);for(const f of l.keys()){r.style.color=f;const c=window.getComputedStyle(r).color;l.set(f,g(c))}r.remove()},se.getCurrentTransform=function C(l){const{a:r,b:f,c,d:u,e:I,f:A}=l.getTransform();return[r,f,c,u,I,A]},se.getCurrentTransformInverse=function h(l){const{a:r,b:f,c,d:u,e:I,f:A}=l.getTransform().invertSelf();return[r,f,c,u,I,A]},se.getFilenameFromUrl=function s(l,r=!1){return r||([l]=l.split(/[#?]/,1)),l.substring(l.lastIndexOf("/")+1)},se.getPdfFilenameFromUrl=function p(l,r="document.pdf"){if("string"!=typeof l)return r;if(y(l))return(0,he.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),r;const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,u=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(l);let I=c.exec(u[1])||c.exec(u[2])||c.exec(u[3]);if(I&&(I=I[0],I.includes("%")))try{I=c.exec(decodeURIComponent(I))[0]}catch{}return I||r},se.getRGB=g,se.getXfaPageViewport=function B(l,{scale:r=1,rotation:f=0}){const{width:c,height:u}=l.attributes.style,I=[0,0,parseInt(c),parseInt(u)];return new F({viewBox:I,scale:r,rotation:f})},se.isDataScheme=y,se.isPdfFile=function k(l){return"string"==typeof l&&/\.pdf$/i.test(l)},se.isValidFetchUrl=D,se.loadScript=function O(l,r=!1){return new Promise((f,c)=>{const u=document.createElement("script");u.src=l,u.onload=function(I){r&&u.remove(),f(I)},u.onerror=function(){c(new Error(`Cannot load script at: ${u.src}`))},(document.head||document.documentElement).append(u)})},se.noContextMenu=function b(l){l.preventDefault()},se.setLayerDimensions=function M(l,r,f=!1,c=!0){if(r instanceof F){const{pageWidth:u,pageHeight:I}=r.rawDims,{style:A}=l,P=he.FeatureTest.isCSSRoundSupported,$=`var(--scale-factor) * ${u}px`,_=`var(--scale-factor) * ${I}px`,w=P?`round(${$}, 1px)`:`calc(${$})`,T=P?`round(${_}, 1px)`:`calc(${_})`;f&&r.rotation%180!=0?(A.width=T,A.height=w):(A.width=w,A.height=T)}c&&l.setAttribute("data-main-rotation",r.rotation)};var ce=ye(7),he=ye(1);const E="http://www.w3.org/2000/svg";async function x(l,r=!1){if(D(l,document.baseURI)){const f=await fetch(l);if(!f.ok)throw new Error(f.statusText);return r?new Uint8Array(await f.arrayBuffer()):(0,he.stringToBytes)(await f.text())}return new Promise((f,c)=>{const u=new XMLHttpRequest;u.open("GET",l,!0),r&&(u.responseType="arraybuffer"),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE){if(200===u.status||0===u.status){let I;if(r&&u.response?I=new Uint8Array(u.response):!r&&u.responseText&&(I=(0,he.stringToBytes)(u.responseText)),I)return void f(I)}c(new Error(u.statusText))}},u.send(null)})}se.PixelsPerInch=class V{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},se.DOMFilterFactory=class n extends ce.BaseFilterFactory{#e;#t;#n;#i;#o;#r;#s;#c;#l;#a;#g=0;constructor({docId:r,ownerDocument:f=globalThis.document}={}){super(),this.#n=r,this.#i=f}get#u(){return this.#e||=new Map}get#d(){if(!this.#t){const r=this.#i.createElement("div"),{style:f}=r;f.visibility="hidden",f.contain="strict",f.width=f.height=0,f.position="absolute",f.top=f.left=0,f.zIndex=-1;const c=this.#i.createElementNS(E,"svg");c.setAttribute("width",0),c.setAttribute("height",0),this.#t=this.#i.createElementNS(E,"defs"),r.append(c),c.append(this.#t),this.#i.body.append(r)}return this.#t}addFilter(r){if(!r)return"none";let c,u,I,A,f=this.#u.get(r);if(f)return f;if(1===r.length){const w=r[0],T=new Array(256);for(let N=0;N<256;N++)T[N]=w[N]/255;A=c=u=I=T.join(",")}else{const[w,T,N]=r,H=new Array(256),z=new Array(256),U=new Array(256);for(let q=0;q<256;q++)H[q]=w[q]/255,z[q]=T[q]/255,U[q]=N[q]/255;c=H.join(","),u=z.join(","),I=U.join(","),A=`${c}${u}${I}`}if(f=this.#u.get(A),f)return this.#u.set(r,f),f;const P=`g_${this.#n}_transfer_map_${this.#g++}`,$=`url(#${P})`;this.#u.set(r,$),this.#u.set(A,$);const _=this.#x(P);return this.#p(c,u,I,_),$}addHCMFilter(r,f){const c=`${r}-${f}`;if(this.#r===c)return this.#s;if(this.#r=c,this.#s="none",this.#o?.remove(),!r||!f)return this.#s;const u=this.#h(r);r=he.Util.makeHexColor(...u);const I=this.#h(f);if(f=he.Util.makeHexColor(...I),this.#d.style.color="","#000000"===r&&"#ffffff"===f||r===f)return this.#s;const A=new Array(256);for(let T=0;T<=255;T++){const N=T/255;A[T]=N<=.03928?N/12.92:((N+.055)/1.055)**2.4}const P=A.join(","),$=`g_${this.#n}_hcm_filter`,_=this.#c=this.#x($);this.#p(P,P,P,_),this.#f(_);const w=(T,N)=>{const H=u[T]/255,z=I[T]/255,U=new Array(N+1);for(let q=0;q<=N;q++)U[q]=H+q/N*(z-H);return U.join(",")};return this.#p(w(0,5),w(1,5),w(2,5),_),this.#s=`url(#${$})`,this.#s}addHighlightHCMFilter(r,f,c,u){const I=`${r}-${f}-${c}-${u}`;if(this.#l===I)return this.#a;if(this.#l=I,this.#a="none",this.#c?.remove(),!r||!f)return this.#a;const[A,P]=[r,f].map(this.#h.bind(this));let $=Math.round(.2126*A[0]+.7152*A[1]+.0722*A[2]),_=Math.round(.2126*P[0]+.7152*P[1]+.0722*P[2]),[w,T]=[c,u].map(this.#h.bind(this));_<$&&([$,_,w,T]=[_,$,T,w]),this.#d.style.color="";const N=(U,q,J)=>{const oe=new Array(256),ne=(_-$)/J,Q=U/255,R=(q-U)/(255*J);let X=0;for(let G=0;G<=J;G++){const Y=Math.round($+G*ne),K=Q+G*R;for(let Z=X;Z<=Y;Z++)oe[Z]=K;X=Y+1}for(let G=X;G<256;G++)oe[G]=oe[X-1];return oe.join(",")},H=`g_${this.#n}_hcm_highlight_filter`,z=this.#c=this.#x(H);return this.#f(z),this.#p(N(w[0],T[0],5),N(w[1],T[1],5),N(w[2],T[2],5),z),this.#a=`url(#${H})`,this.#a}destroy(r=!1){r&&(this.#s||this.#a)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#g=0)}#f(r){const f=this.#i.createElementNS(E,"feColorMatrix");f.setAttribute("type","matrix"),f.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(f)}#x(r){const f=this.#i.createElementNS(E,"filter");return f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("id",r),this.#d.append(f),f}#m(r,f,c){const u=this.#i.createElementNS(E,f);u.setAttribute("type","discrete"),u.setAttribute("tableValues",c),r.append(u)}#p(r,f,c,u){const I=this.#i.createElementNS(E,"feComponentTransfer");u.append(I),this.#m(I,"feFuncR",r),this.#m(I,"feFuncG",f),this.#m(I,"feFuncB",c)}#h(r){return this.#d.style.color=r,g(getComputedStyle(this.#d).getPropertyValue("color"))}},se.DOMCanvasFactory=class j extends ce.BaseCanvasFactory{constructor({ownerDocument:r=globalThis.document}={}){super(),this._document=r}_createCanvas(r,f){const c=this._document.createElement("canvas");return c.width=r,c.height=f,c}},se.DOMCMapReaderFactory=class e extends ce.BaseCMapReaderFactory{_fetchData(r,f){return x(r,this.isCompressed).then(c=>({cMapData:c,compressionType:f}))}},se.DOMStandardFontDataFactory=class t extends ce.BaseStandardFontDataFactory{_fetchData(r){return x(r,!0)}},se.DOMSVGFactory=class a extends ce.BaseSVGFactory{_createSVG(r){return document.createElementNS(E,r)}};class F{constructor({viewBox:r,scale:f,rotation:c,offsetX:u=0,offsetY:I=0,dontFlip:A=!1}){this.viewBox=r,this.scale=f,this.rotation=c,this.offsetX=u,this.offsetY=I;const P=(r[2]+r[0])/2,$=(r[3]+r[1])/2;let _,w,T,N,H,z,U,q;switch((c%=360)<0&&(c+=360),c){case 180:_=-1,w=0,T=0,N=1;break;case 90:_=0,w=1,T=1,N=0;break;case 270:_=0,w=-1,T=-1,N=0;break;case 0:_=1,w=0,T=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}A&&(T=-T,N=-N),0===_?(H=Math.abs($-r[1])*f+u,z=Math.abs(P-r[0])*f+I,U=(r[3]-r[1])*f,q=(r[2]-r[0])*f):(H=Math.abs(P-r[0])*f+u,z=Math.abs($-r[1])*f+I,U=(r[2]-r[0])*f,q=(r[3]-r[1])*f),this.transform=[_*f,w*f,T*f,N*f,H-_*f*P-T*f*$,z-w*f*P-N*f*$],this.width=U,this.height=q}get rawDims(){const{viewBox:r}=this;return(0,he.shadow)(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:r=this.scale,rotation:f=this.rotation,offsetX:c=this.offsetX,offsetY:u=this.offsetY,dontFlip:I=!1}={}){return new F({viewBox:this.viewBox.slice(),scale:r,rotation:f,offsetX:c,offsetY:u,dontFlip:I})}convertToViewportPoint(r,f){return he.Util.applyTransform([r,f],this.transform)}convertToViewportRectangle(r){const f=he.Util.applyTransform([r[0],r[1]],this.transform),c=he.Util.applyTransform([r[2],r[3]],this.transform);return[f[0],f[1],c[0],c[1]]}convertToPdfPoint(r,f){return he.Util.applyInverseTransform([r,f],this.transform)}}function y(l){const r=l.length;let f=0;for(;f<r&&""===l[f].trim();)f++;return"data:"===l.substring(f,f+5).toLowerCase()}function D(l,r){try{const{protocol:f}=r?new URL(l,r):new URL(l);return"http:"===f||"https:"===f}catch{return!1}}let S;function g(l){if(l.startsWith("#")){const r=parseInt(l.slice(1),16);return[(16711680&r)>>16,(65280&r)>>8,255&r]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(r=>parseInt(r)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(r=>parseInt(r)).slice(0,3):((0,he.warn)(`Not a valid color format: "${l}"`),[0,0,0])}se.PageViewport=F,se.RenderingCancelledException=class m extends he.BaseException{constructor(r,f=0){super(r,"RenderingCancelledException"),this.extraDelay=f}},se.StatTimer=class i{started=Object.create(null);times=[];time(r){r in this.started&&(0,he.warn)(`Timer is already running for ${r}`),this.started[r]=Date.now()}timeEnd(r){r in this.started||(0,he.warn)(`Timer has not been started for ${r}`),this.times.push({name:r,start:this.started[r],end:Date.now()}),delete this.started[r]}toString(){const r=[];let f=0;for(const{name:c}of this.times)f=Math.max(c.length,f);for(const{name:c,start:u,end:I}of this.times)r.push(`${c.padEnd(f)} ${I-u}ms\n`);return r.join("")}},se.PDFDateString=class d{static toDateObject(r){if(!r||"string"!=typeof r)return null;S||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const f=S.exec(r);if(!f)return null;const c=parseInt(f[1],10);let u=parseInt(f[2],10);u=u>=1&&u<=12?u-1:0;let I=parseInt(f[3],10);I=I>=1&&I<=31?I:1;let A=parseInt(f[4],10);A=A>=0&&A<=23?A:0;let P=parseInt(f[5],10);P=P>=0&&P<=59?P:0;let $=parseInt(f[6],10);$=$>=0&&$<=59?$:0;const _=f[7]||"Z";let w=parseInt(f[8],10);w=w>=0&&w<=23?w:0;let T=parseInt(f[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===_?(A+=w,P+=T):"+"===_&&(A-=w,P-=T),new Date(Date.UTC(c,u,I,A,P,$))}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.BaseStandardFontDataFactory=se.BaseSVGFactory=se.BaseFilterFactory=se.BaseCanvasFactory=se.BaseCMapReaderFactory=void 0;var ce=ye(1);class he{constructor(){this.constructor===he&&(0,ce.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,a,F){return"none"}destroy(e=!1){}}se.BaseFilterFactory=he;class E{constructor(){this.constructor===E&&(0,ce.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(e,t);return{canvas:a,context:a.getContext("2d")}}reset(e,t,a){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,ce.unreachable)("Abstract method `_createCanvas` called.")}}se.BaseCanvasFactory=E;class V{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===V&&(0,ce.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetchData(t,this.isCompressed?ce.CMapCompressionType.BINARY:ce.CMapCompressionType.NONE).catch(F=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){(0,ce.unreachable)("Abstract method `_fetchData` called.")}}se.BaseCMapReaderFactory=V;class n{constructor({baseUrl:e=null}){this.constructor===n&&(0,ce.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(a=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){(0,ce.unreachable)("Abstract method `_fetchData` called.")}}se.BaseStandardFontDataFactory=n;class j{constructor(){this.constructor===j&&(0,ce.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t,a=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const F=this._createSVG("svg:svg");return F.setAttribute("version","1.1"),a||(F.setAttribute("width",`${e}px`),F.setAttribute("height",`${t}px`)),F.setAttribute("preserveAspectRatio","none"),F.setAttribute("viewBox",`0 0 ${e} ${t}`),F}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,ce.unreachable)("Abstract method `_createSVG` called.")}}se.BaseSVGFactory=j},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MurmurHash3_64=void 0;var ce=ye(1);const he=3285377520,E=4294901760,V=65535;se.MurmurHash3_64=class n{constructor(x){this.h1=x?4294967295&x:he,this.h2=x?4294967295&x:he}update(x){let e,t;if("string"==typeof x){e=new Uint8Array(2*x.length),t=0;for(let v=0,S=x.length;v<S;v++){const d=x.charCodeAt(v);d<=255?e[t++]=d:(e[t++]=d>>>8,e[t++]=255&d)}}else{if(!(0,ce.isArrayBuffer)(x))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=x.slice(),t=e.byteLength}const a=t>>2,F=t-4*a,m=new Uint32Array(e.buffer,0,a);let y=0,k=0,s=this.h1,p=this.h2;const i=3432918353,D=461845907,b=i&V,O=D&V;for(let v=0;v<a;v++)1&v?(y=m[v],y=y*i&E|y*b&V,y=y<<15|y>>>17,y=y*D&E|y*O&V,s^=y,s=s<<13|s>>>19,s=5*s+3864292196):(k=m[v],k=k*i&E|k*b&V,k=k<<15|k>>>17,k=k*D&E|k*O&V,p^=k,p=p<<13|p>>>19,p=5*p+3864292196);switch(y=0,F){case 3:y^=e[4*a+2]<<16;case 2:y^=e[4*a+1]<<8;case 1:y^=e[4*a],y=y*i&E|y*b&V,y=y<<15|y>>>17,y=y*D&E|y*O&V,1&a?s^=y:p^=y}this.h1=s,this.h2=p}hexdigest(){let x=this.h1,e=this.h2;return x^=e>>>1,x=3981806797*x&E|36045*x&V,e=4283543511*e&E|(2950163797*(e<<16|x>>>16)&E)>>>16,x^=e>>>1,x=444984403*x&E|60499*x&V,e=3301882366*e&E|(3120437893*(e<<16|x>>>16)&E)>>>16,x^=e>>>1,(x>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.FontLoader=se.FontFaceObject=void 0;var ce=ye(1);se.FontLoader=class he{#e=new Set;constructor({ownerDocument:n=globalThis.document,styleElement:j=null}){this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(n){this.nativeFontFaces.add(n),this._document.fonts.add(n)}removeNativeFontFace(n){this.nativeFontFaces.delete(n),this._document.fonts.delete(n)}insertRule(n){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const j=this.styleElement.sheet;j.insertRule(n,j.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(n){if(n&&!this.#e.has(n.loadedName)){if((0,ce.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:j,src:x,style:e}=n,t=new FontFace(j,x,e);this.addNativeFontFace(t);try{await t.load(),this.#e.add(j)}catch{(0,ce.warn)(`Cannot load system font: ${n.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(t)}return}(0,ce.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(n){if(n.attached||n.missingFile&&!n.systemFontInfo)return;if(n.attached=!0,n.systemFontInfo)return void await this.loadSystemFont(n.systemFontInfo);if(this.isFontLoadingAPISupported){const x=n.createNativeFontFace();if(x){this.addNativeFontFace(x);try{await x.loaded}catch(e){throw(0,ce.warn)(`Failed to load font '${x.family}': '${e}'.`),n.disableFontFace=!0,e}}return}const j=n.createFontFaceRule();if(j){if(this.insertRule(j),this.isSyncFontLoadingSupported)return;await new Promise(x=>{const e=this._queueLoadingCallback(x);this._prepareFontLoadEvent(n,e)})}}get isFontLoadingAPISupported(){return(0,ce.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let n=!1;return(ce.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(n=!0),(0,ce.shadow)(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){const{loadingRequests:x}=this,e={done:!1,complete:function j(){for((0,ce.assert)(!e.done,"completeRequest() cannot be called twice."),e.done=!0;x.length>0&&x[0].done;){const t=x.shift();setTimeout(t.callback,0)}},callback:n};return x.push(e),e}get _loadTestFont(){const n=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,ce.shadow)(this,"_loadTestFont",n)}_prepareFontLoadEvent(n,j){function x(B,g){return B.charCodeAt(g)<<24|B.charCodeAt(g+1)<<16|B.charCodeAt(g+2)<<8|255&B.charCodeAt(g+3)}function e(B,g,L,C){return B.substring(0,g)+C+B.substring(g+L)}let t,a;const F=this._document.createElement("canvas");F.width=1,F.height=1;const m=F.getContext("2d");let y=0;const s=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=e(p,976,s.length,s);const b=1482184792;let O=x(p,16);for(t=0,a=s.length-3;t<a;t+=4)O=O-b+x(s,t)|0;t<s.length&&(O=O-b+x(s+"XXX",t)|0),p=e(p,16,4,(0,ce.string32)(O));const v=`url(data:font/opentype;base64,${btoa(p)});`;this.insertRule(`@font-face {font-family:"${s}";src:${v}}`);const d=this._document.createElement("div");d.style.visibility="hidden",d.style.width=d.style.height="10px",d.style.position="absolute",d.style.top=d.style.left="0px";for(const B of[n.loadedName,s]){const g=this._document.createElement("span");g.textContent="Hi",g.style.fontFamily=B,d.append(g)}this._document.body.append(d),function k(B,g){if(++y>30)return(0,ce.warn)("Load test font never loaded."),void g();m.font="30px "+B,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0?g():setTimeout(k.bind(null,B,g))}(s,()=>{d.remove(),j.complete()})}},se.FontFaceObject=class E{constructor(n,{isEvalSupported:j=!0,disableFontFace:x=!1,ignoreErrors:e=!1,inspectFont:t=null}){this.compiledGlyphs=Object.create(null);for(const a in n)this[a]=n[a];this.isEvalSupported=!1!==j,this.disableFontFace=!0===x,this.ignoreErrors=!0===e,this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let n;if(this.cssFontInfo){const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}else n=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),n}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const n=(0,ce.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(n)});`;let x;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${j}}`}else x=`@font-face {font-family:"${this.loadedName}";src:${j}}`;return this._inspectFont?.(this,j),x}getPathGenerator(n,j){if(void 0!==this.compiledGlyphs[j])return this.compiledGlyphs[j];let x;try{x=n.get(this.loadedName+"_path_"+j)}catch(e){if(!this.ignoreErrors)throw e;return(0,ce.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[j]=function(t,a){}}if(this.isEvalSupported&&ce.FeatureTest.isEvalSupported){const e=[];for(const t of x){const a=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",a,");\n")}return this.compiledGlyphs[j]=new Function("c","size",e.join(""))}return this.compiledGlyphs[j]=function(e,t){for(const a of x)"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.NodeStandardFontDataFactory=se.NodeFilterFactory=se.NodeCanvasFactory=se.NodeCMapReaderFactory=void 0;var ce=ye(7);ye(1);const E=function(e){return new Promise((t,a)=>{require("fs").readFile(e,(m,y)=>{!m&&y?t(new Uint8Array(y)):a(new Error(m))})})};se.NodeFilterFactory=class V extends ce.BaseFilterFactory{},se.NodeCanvasFactory=class n extends ce.BaseCanvasFactory{_createCanvas(t,a){return require("canvas").createCanvas(t,a)}},se.NodeCMapReaderFactory=class j extends ce.BaseCMapReaderFactory{_fetchData(t,a){return E(t).then(F=>({cMapData:F,compressionType:a}))}},se.NodeStandardFontDataFactory=class x extends ce.BaseStandardFontDataFactory{_fetchData(t){return E(t)}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.CanvasGraphics=void 0;var ce=ye(1),he=ye(6),E=ye(12),V=ye(13);const x=4096,F=16;class y{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,u,I){let A;return void 0!==this.cache[c]?(A=this.cache[c],this.canvasFactory.reset(A,u,I)):(A=this.canvasFactory.create(u,I),this.cache[c]=A),A}delete(c){delete this.cache[c]}clear(){for(const c in this.cache)this.canvasFactory.destroy(this.cache[c]),delete this.cache[c]}}function k(f,c,u,I,A,P,$,_,w,T){const[N,H,z,U,q,J]=(0,he.getCurrentTransform)(f);if(0===H&&0===z){const R=Math.round($*N+q),G=Math.round(_*U+J),K=Math.abs(Math.round(($+w)*N+q)-R)||1,ae=Math.abs(Math.round((_+T)*U+J)-G)||1;return f.setTransform(Math.sign(N),0,0,Math.sign(U),R,G),f.drawImage(c,u,I,A,P,0,0,K,ae),f.setTransform(N,H,z,U,q,J),[K,ae]}if(0===N&&0===U){const R=Math.round(_*z+q),G=Math.round($*H+J),K=Math.abs(Math.round((_+T)*z+q)-R)||1,ae=Math.abs(Math.round(($+w)*H+J)-G)||1;return f.setTransform(0,Math.sign(H),Math.sign(z),0,R,G),f.drawImage(c,u,I,A,P,0,0,ae,K),f.setTransform(N,H,z,U,q,J),[ae,K]}return f.drawImage(c,u,I,A,P,$,_,w,T),[Math.hypot(N,H)*w,Math.hypot(z,U)*T]}class p{constructor(c,u){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ce.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=ce.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ce.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,c,u])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,u){this.x=c,this.y=u}updatePathMinMax(c,u,I){[u,I]=ce.Util.applyTransform([u,I],c),this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,I),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,I)}updateRectMinMax(c,u){const I=ce.Util.applyTransform(u,c),A=ce.Util.applyTransform(u.slice(2),c);this.minX=Math.min(this.minX,I[0],A[0]),this.minY=Math.min(this.minY,I[1],A[1]),this.maxX=Math.max(this.maxX,I[0],A[0]),this.maxY=Math.max(this.maxY,I[1],A[1])}updateScalingPathMinMax(c,u){ce.Util.scaleMinMax(c,u),this.minX=Math.min(this.minX,u[0]),this.maxX=Math.max(this.maxX,u[1]),this.minY=Math.min(this.minY,u[2]),this.maxY=Math.max(this.maxY,u[3])}updateCurvePathMinMax(c,u,I,A,P,$,_,w,T,N){const H=ce.Util.bezierBoundingBox(u,I,A,P,$,_,w,T);if(N)return N[0]=Math.min(N[0],H[0],H[2]),N[1]=Math.max(N[1],H[0],H[2]),N[2]=Math.min(N[2],H[1],H[3]),void(N[3]=Math.max(N[3],H[1],H[3]));this.updateRectMinMax(c,H)}getPathBoundingBox(c=E.PathType.FILL,u=null){const I=[this.minX,this.minY,this.maxX,this.maxY];if(c===E.PathType.STROKE){u||(0,ce.unreachable)("Stroke bounding box must include transform.");const A=ce.Util.singularValueDecompose2dScale(u),P=A[0]*this.lineWidth/2,$=A[1]*this.lineWidth/2;I[0]-=P,I[1]-=$,I[2]+=P,I[3]+=$}return I}updateClipFromPath(){const c=ce.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=E.PathType.FILL,u=null){return ce.Util.intersect(this.clipBox,this.getPathBoundingBox(c,u))}}function i(f,c){if(typeof ImageData<"u"&&c instanceof ImageData)return void f.putImageData(c,0,0);const u=c.height,I=c.width,A=u%F,P=(u-A)/F,$=0===A?P:P+1,_=f.createImageData(I,F);let T,w=0;const N=c.data,H=_.data;let z,U,q,J;if(c.kind===ce.ImageKind.GRAYSCALE_1BPP){const oe=N.byteLength,ne=new Uint32Array(H.buffer,0,H.byteLength>>2),Q=ne.length,R=I+7>>3,X=4294967295,G=ce.FeatureTest.isLittleEndian?4278190080:255;for(z=0;z<$;z++){for(q=z<P?F:A,T=0,U=0;U<q;U++){const Y=oe-w;let K=0;const Z=Y>R?I:8*Y-7,ae=-8&Z;let ie=0,te=0;for(;K<ae;K+=8)te=N[w++],ne[T++]=128&te?X:G,ne[T++]=64&te?X:G,ne[T++]=32&te?X:G,ne[T++]=16&te?X:G,ne[T++]=8&te?X:G,ne[T++]=4&te?X:G,ne[T++]=2&te?X:G,ne[T++]=1&te?X:G;for(;K<Z;K++)0===ie&&(te=N[w++],ie=128),ne[T++]=te&ie?X:G,ie>>=1}for(;T<Q;)ne[T++]=0;f.putImageData(_,0,z*F)}}else if(c.kind===ce.ImageKind.RGBA_32BPP){for(U=0,J=I*F*4,z=0;z<P;z++)H.set(N.subarray(w,w+J)),w+=J,f.putImageData(_,0,U),U+=F;z<$&&(J=I*A*4,H.set(N.subarray(w,w+J)),f.putImageData(_,0,U))}else{if(c.kind!==ce.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${c.kind}`);for(q=F,J=I*q,z=0;z<$;z++){for(z>=P&&(q=A,J=I*q),T=0,U=J;U--;)H[T++]=N[w++],H[T++]=N[w++],H[T++]=N[w++],H[T++]=255;f.putImageData(_,0,z*F)}}}function D(f,c){if(c.bitmap)return void f.drawImage(c.bitmap,0,0);const u=c.height,I=c.width,A=u%F,P=(u-A)/F,$=0===A?P:P+1,_=f.createImageData(I,F);let w=0;const T=c.data,N=_.data;for(let H=0;H<$;H++){const z=H<P?F:A;({srcPos:w}=(0,V.convertBlackAndWhiteToRGBA)({src:T,srcPos:w,dest:N,width:I,height:z,nonBlackColor:0})),f.putImageData(_,0,H*F)}}function b(f,c){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const I of u)void 0!==f[I]&&(c[I]=f[I]);void 0!==f.setLineDash&&(c.setLineDash(f.getLineDash()),c.lineDashOffset=f.lineDashOffset)}function O(f){if(f.strokeStyle=f.fillStyle="#000000",f.fillRule="nonzero",f.globalAlpha=1,f.lineWidth=1,f.lineCap="butt",f.lineJoin="miter",f.miterLimit=10,f.globalCompositeOperation="source-over",f.font="10px sans-serif",void 0!==f.setLineDash&&(f.setLineDash([]),f.lineDashOffset=0),!ce.isNodeJS){const{filter:c}=f;"none"!==c&&""!==c&&(f.filter="none")}}function v(f,c,u,I){const A=f.length;for(let P=3;P<A;P+=4){const $=f[P];if(0===$)f[P-3]=c,f[P-2]=u,f[P-1]=I;else if($<255){const _=255-$;f[P-3]=f[P-3]*$+c*_>>8,f[P-2]=f[P-2]*$+u*_>>8,f[P-1]=f[P-1]*$+I*_>>8}}}function S(f,c,u){const I=f.length;for(let P=3;P<I;P+=4)c[P]=c[P]*(u?u[f[P]]:f[P])*.00392156862745098|0}function d(f,c,u){const I=f.length;for(let A=3;A<I;A+=4){const P=77*f[A-3]+152*f[A-2]+28*f[A-1];c[A]=u?c[A]*u[P>>8]>>8:c[A]*P>>16}}function L(f,c){const u=ce.Util.singularValueDecompose2dScale(f);u[0]=Math.fround(u[0]),u[1]=Math.fround(u[1]);const I=Math.fround((globalThis.devicePixelRatio||1)*he.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==c?c:u[0]<=I||u[1]<=I}const C=["butt","round","square"],h=["miter","round","bevel"],M={},l={};class r{constructor(c,u,I,A,P,{optionalContentConfig:$,markedContentStack:_=null},w,T){this.ctx=c,this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=u,this.objs=I,this.canvasFactory=A,this.filterFactory=P,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=_||[],this.optionalContentConfig=$,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=w,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=T,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(c,u=null){return"string"==typeof c?c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c):u}beginDrawing({transform:c,viewport:u,transparency:I=!1,background:A=null}){const P=this.ctx.canvas.width,$=this.ctx.canvas.height,_=this.ctx.fillStyle;if(this.ctx.fillStyle=A||"#ffffff",this.ctx.fillRect(0,0,P,$),this.ctx.fillStyle=_,I){const w=this.cachedCanvases.getCanvas("transparent",P,$);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform(...(0,he.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),O(this.ctx),c&&(this.ctx.transform(...c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform(...u.transform),this.viewportScale=u.scale,this.baseTransform=(0,he.getCurrentTransform)(this.ctx)}executeOperatorList(c,u,I,A){const P=c.argsArray,$=c.fnArray;let _=u||0;const w=P.length;if(w===_)return _;const T=w-_>10&&"function"==typeof I,N=T?Date.now()+15:0;let H=0;const z=this.commonObjs,U=this.objs;let q;for(;;){if(void 0!==A&&_===A.nextBreakPoint)return A.breakIt(_,I),_;if(q=$[_],q!==ce.OPS.dependency)this[q].apply(this,P[_]);else for(const J of P[_]){const oe=J.startsWith("g_")?z:U;if(!oe.has(J))return oe.get(J,I),_}if(_++,_===w)return _;if(T&&++H>10){if(Date.now()>N)return I(),_;H=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const c of this._cachedBitmapsMap.values()){for(const u of c.values())typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement&&(u.width=u.height=0);c.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const c=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==c){const u=this.ctx.filter;this.ctx.filter=c,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=u}}}_scaleImage(c,u){const I=c.width,A=c.height;let N,H,P=Math.max(Math.hypot(u[0],u[1]),1),$=Math.max(Math.hypot(u[2],u[3]),1),_=I,w=A,T="prescale1";for(;P>2&&_>1||$>2&&w>1;){let z=_,U=w;P>2&&_>1&&(z=_>=16384?Math.floor(_/2)-1||1:Math.ceil(_/2),P/=_/z),$>2&&w>1&&(U=w>=16384?Math.floor(w/2)-1||1:Math.ceil(w)/2,$/=w/U),N=this.cachedCanvases.getCanvas(T,z,U),H=N.context,H.clearRect(0,0,z,U),H.drawImage(c,0,0,_,w,0,0,z,U),c=N.canvas,_=z,w=U,T="prescale1"===T?"prescale2":"prescale1"}return{img:c,paintWidth:_,paintHeight:w}}_createMaskCanvas(c){const u=this.ctx,{width:I,height:A}=c,P=this.current.fillColor,$=this.current.patternFill,_=(0,he.getCurrentTransform)(u);let w,T,N,H;if((c.bitmap||c.data)&&c.count>1){const K=c.bitmap||c.data.buffer;T=JSON.stringify($?_:[_.slice(0,4),P]),w=this._cachedBitmapsMap.get(K),w||(w=new Map,this._cachedBitmapsMap.set(K,w));const Z=w.get(T);if(Z&&!$)return{canvas:Z,offsetX:Math.round(Math.min(_[0],_[2])+_[4]),offsetY:Math.round(Math.min(_[1],_[3])+_[5])};N=Z}N||(H=this.cachedCanvases.getCanvas("maskCanvas",I,A),D(H.context,c));let z=ce.Util.transform(_,[1/I,0,0,-1/A,0,0]);z=ce.Util.transform(z,[1,0,0,1,0,-A]);const U=ce.Util.applyTransform([0,0],z),q=ce.Util.applyTransform([I,A],z),J=ce.Util.normalizeRect([U[0],U[1],q[0],q[1]]),oe=Math.round(J[2]-J[0])||1,ne=Math.round(J[3]-J[1])||1,Q=this.cachedCanvases.getCanvas("fillCanvas",oe,ne),R=Q.context,X=Math.min(U[0],q[0]),G=Math.min(U[1],q[1]);R.translate(-X,-G),R.transform(...z),N||(N=this._scaleImage(H.canvas,(0,he.getCurrentTransformInverse)(R)),N=N.img,w&&$&&w.set(T,N)),R.imageSmoothingEnabled=L((0,he.getCurrentTransform)(R),c.interpolate),k(R,N,0,0,N.width,N.height,0,0,I,A),R.globalCompositeOperation="source-in";const Y=ce.Util.transform((0,he.getCurrentTransformInverse)(R),[1,0,0,1,-X,-G]);return R.fillStyle=$?P.getPattern(u,this,Y,E.PathType.FILL):P,R.fillRect(0,0,I,A),w&&!$&&(this.cachedCanvases.delete("fillCanvas"),w.set(T,Q.canvas)),{canvas:Q.canvas,offsetX:Math.round(X),offsetY:Math.round(G)}}setLineWidth(c){c!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=C[c]}setLineJoin(c){this.ctx.lineJoin=h[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,u){const I=this.ctx;void 0!==I.setLineDash&&(I.setLineDash(c),I.lineDashOffset=u)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(const[u,I]of c)switch(u){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I[0],I[1]);break;case"CA":this.current.strokeAlpha=I;break;case"ca":this.current.fillAlpha=I,this.ctx.globalAlpha=I;break;case"BM":this.ctx.globalCompositeOperation=I;break;case"SMask":this.current.activeSMask=I?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(I)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=A.context;const P=this.ctx;P.setTransform(...(0,he.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,P),function m(f,c){if(f._removeMirroring)throw new Error("Context is already forwarding operations.");f.__originalSave=f.save,f.__originalRestore=f.restore,f.__originalRotate=f.rotate,f.__originalScale=f.scale,f.__originalTranslate=f.translate,f.__originalTransform=f.transform,f.__originalSetTransform=f.setTransform,f.__originalResetTransform=f.resetTransform,f.__originalClip=f.clip,f.__originalMoveTo=f.moveTo,f.__originalLineTo=f.lineTo,f.__originalBezierCurveTo=f.bezierCurveTo,f.__originalRect=f.rect,f.__originalClosePath=f.closePath,f.__originalBeginPath=f.beginPath,f._removeMirroring=()=>{f.save=f.__originalSave,f.restore=f.__originalRestore,f.rotate=f.__originalRotate,f.scale=f.__originalScale,f.translate=f.__originalTranslate,f.transform=f.__originalTransform,f.setTransform=f.__originalSetTransform,f.resetTransform=f.__originalResetTransform,f.clip=f.__originalClip,f.moveTo=f.__originalMoveTo,f.lineTo=f.__originalLineTo,f.bezierCurveTo=f.__originalBezierCurveTo,f.rect=f.__originalRect,f.closePath=f.__originalClosePath,f.beginPath=f.__originalBeginPath,delete f._removeMirroring},f.save=function(){c.save(),this.__originalSave()},f.restore=function(){c.restore(),this.__originalRestore()},f.translate=function(I,A){c.translate(I,A),this.__originalTranslate(I,A)},f.scale=function(I,A){c.scale(I,A),this.__originalScale(I,A)},f.transform=function(I,A,P,$,_,w){c.transform(I,A,P,$,_,w),this.__originalTransform(I,A,P,$,_,w)},f.setTransform=function(I,A,P,$,_,w){c.setTransform(I,A,P,$,_,w),this.__originalSetTransform(I,A,P,$,_,w)},f.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},f.rotate=function(I){c.rotate(I),this.__originalRotate(I)},f.clip=function(I){c.clip(I),this.__originalClip(I)},f.moveTo=function(u,I){c.moveTo(u,I),this.__originalMoveTo(u,I)},f.lineTo=function(u,I){c.lineTo(u,I),this.__originalLineTo(u,I)},f.bezierCurveTo=function(u,I,A,P,$,_){c.bezierCurveTo(u,I,A,P,$,_),this.__originalBezierCurveTo(u,I,A,P,$,_)},f.rect=function(u,I,A,P){c.rect(u,I,A,P),this.__originalRect(u,I,A,P)},f.closePath=function(){c.closePath(),this.__originalClosePath()},f.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}(P,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){this.current.activeSMask&&(c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function g(f,c,u,I){const A=I[0],P=I[1],$=I[2]-A,_=I[3]-P;0===$||0===_||(function B(f,c,u,I,A,P,$,_,w,T,N){const H=!!P,z=H?P[0]:0,U=H?P[1]:0,q=H?P[2]:0,J="Luminosity"===A?d:S,ne=Math.min(I,Math.ceil(1048576/u));for(let Q=0;Q<I;Q+=ne){const R=Math.min(ne,I-Q),X=f.getImageData(_-T,Q+(w-N),u,R),G=c.getImageData(_,Q+w,u,R);H&&v(X.data,z,U,q),J(X.data,G.data,$),c.putImageData(G,_,Q+w)}}(c.context,u,$,_,c.subtype,c.backdrop,c.transferMap,A,P,c.offsetX,c.offsetY),f.save(),f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),f.drawImage(u.canvas,0,0),f.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(c,u,I,A,P,$){this.ctx.transform(c,u,I,A,P,$),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(c,u,I){const A=this.ctx,P=this.current;let w,T,$=P.x,_=P.y;const N=(0,he.getCurrentTransform)(A),H=0===N[0]&&0===N[3]||0===N[1]&&0===N[2],z=H?I.slice(0):null;for(let U=0,q=0,J=c.length;U<J;U++)switch(0|c[U]){case ce.OPS.rectangle:$=u[q++],_=u[q++];const oe=u[q++],ne=u[q++],Q=$+oe,R=_+ne;A.moveTo($,_),0===oe||0===ne?A.lineTo(Q,R):(A.lineTo(Q,_),A.lineTo(Q,R),A.lineTo($,R)),H||P.updateRectMinMax(N,[$,_,Q,R]),A.closePath();break;case ce.OPS.moveTo:$=u[q++],_=u[q++],A.moveTo($,_),H||P.updatePathMinMax(N,$,_);break;case ce.OPS.lineTo:$=u[q++],_=u[q++],A.lineTo($,_),H||P.updatePathMinMax(N,$,_);break;case ce.OPS.curveTo:w=$,T=_,$=u[q+4],_=u[q+5],A.bezierCurveTo(u[q],u[q+1],u[q+2],u[q+3],$,_),P.updateCurvePathMinMax(N,w,T,u[q],u[q+1],u[q+2],u[q+3],$,_,z),q+=6;break;case ce.OPS.curveTo2:w=$,T=_,A.bezierCurveTo($,_,u[q],u[q+1],u[q+2],u[q+3]),P.updateCurvePathMinMax(N,w,T,$,_,u[q],u[q+1],u[q+2],u[q+3],z),$=u[q+2],_=u[q+3],q+=4;break;case ce.OPS.curveTo3:w=$,T=_,$=u[q+2],_=u[q+3],A.bezierCurveTo(u[q],u[q+1],$,_,$,_),P.updateCurvePathMinMax(N,w,T,u[q],u[q+1],$,_,$,_,z),q+=4;break;case ce.OPS.closePath:A.closePath()}H&&P.updateScalingPathMinMax(N,z),P.setCurrentPoint($,_)}closePath(){this.ctx.closePath()}stroke(c=!0){const u=this.ctx,I=this.current.strokeColor;u.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof I&&I?.getPattern?(u.save(),u.strokeStyle=I.getPattern(u,this,(0,he.getCurrentTransformInverse)(u),E.PathType.STROKE),this.rescaleAndStroke(!1),u.restore()):this.rescaleAndStroke(!0)),c&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c=!0){const u=this.ctx,I=this.current.fillColor;let P=!1;this.current.patternFill&&(u.save(),u.fillStyle=I.getPattern(u,this,(0,he.getCurrentTransformInverse)(u),E.PathType.FILL),P=!0);const $=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==$&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),P&&u.restore(),c&&this.consumePath($)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=M}eoClip(){this.pendingClip=l}beginText(){this.current.textMatrix=ce.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,u=this.ctx;if(void 0!==c){u.save(),u.beginPath();for(const I of c)u.setTransform(...I.transform),u.translate(I.x,I.y),I.addToPath(u,I.fontSize);u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}else u.beginPath()}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,u){const I=this.commonObjs.get(c),A=this.current;if(!I)throw new Error(`Can't find font for ${c}`);if(A.fontMatrix=I.fontMatrix||ce.FONT_IDENTITY_MATRIX,(0===A.fontMatrix[0]||0===A.fontMatrix[3])&&(0,ce.warn)("Invalid font matrix for font "+c),u<0?(u=-u,A.fontDirection=-1):A.fontDirection=1,this.current.font=I,this.current.fontSize=u,I.isType3Font)return;const $=I.systemFontInfo?.css||`"${I.loadedName||"sans-serif"}", ${I.fallbackName}`;let _="normal";I.black?_="900":I.bold&&(_="bold");const w=I.italic?"italic":"normal";let T=u;u<16?T=16:u>100&&(T=100),this.current.fontSizeScale=u/T,this.ctx.font=`${w} ${_} ${T}px ${$}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,u){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=u}setLeadingMoveText(c,u){this.setLeading(-u),this.moveText(c,u)}setTextMatrix(c,u,I,A,P,$){this.current.textMatrix=[c,u,I,A,P,$],this.current.textMatrixScale=Math.hypot(c,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,u,I,A){const P=this.ctx,$=this.current,_=$.font,w=$.textRenderingMode,T=$.fontSize/$.fontSizeScale,N=w&ce.TextRenderingMode.FILL_STROKE_MASK,H=!!(w&ce.TextRenderingMode.ADD_TO_PATH_FLAG),z=$.patternFill&&!_.missingFile;let U;(_.disableFontFace||H||z)&&(U=_.getPathGenerator(this.commonObjs,c)),_.disableFontFace||z?(P.save(),P.translate(u,I),P.beginPath(),U(P,T),A&&P.setTransform(...A),(N===ce.TextRenderingMode.FILL||N===ce.TextRenderingMode.FILL_STROKE)&&P.fill(),(N===ce.TextRenderingMode.STROKE||N===ce.TextRenderingMode.FILL_STROKE)&&P.stroke(),P.restore()):((N===ce.TextRenderingMode.FILL||N===ce.TextRenderingMode.FILL_STROKE)&&P.fillText(c,u,I),(N===ce.TextRenderingMode.STROKE||N===ce.TextRenderingMode.FILL_STROKE)&&P.strokeText(c,u,I)),H&&(this.pendingTextPaths||=[]).push({transform:(0,he.getCurrentTransform)(P),x:u,y:I,fontSize:T,addToPath:U})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);c.scale(1.5,1),c.fillText("I",0,10);const u=c.getImageData(0,0,10,10).data;let I=!1;for(let A=3;A<u.length;A+=4)if(u[A]>0&&u[A]<255){I=!0;break}return(0,ce.shadow)(this,"isFontSubpixelAAEnabled",I)}showText(c){const u=this.current,I=u.font;if(I.isType3Font)return this.showType3Text(c);const A=u.fontSize;if(0===A)return;const P=this.ctx,$=u.fontSizeScale,_=u.charSpacing,w=u.wordSpacing,T=u.fontDirection,N=u.textHScale*T,H=c.length,z=I.vertical,U=z?1:-1,q=I.defaultVMetrics,J=A*u.fontMatrix[0],oe=u.textRenderingMode===ce.TextRenderingMode.FILL&&!I.disableFontFace&&!u.patternFill;let ne;if(P.save(),P.transform(...u.textMatrix),P.translate(u.x,u.y+u.textRise),P.scale(N,T>0?-1:1),u.patternFill){P.save();const Y=u.fillColor.getPattern(P,this,(0,he.getCurrentTransformInverse)(P),E.PathType.FILL);ne=(0,he.getCurrentTransform)(P),P.restore(),P.fillStyle=Y}let Q=u.lineWidth;const R=u.textMatrixScale;if(0===R||0===Q){const Y=u.textRenderingMode&ce.TextRenderingMode.FILL_STROKE_MASK;(Y===ce.TextRenderingMode.STROKE||Y===ce.TextRenderingMode.FILL_STROKE)&&(Q=this.getSinglePixelWidth())}else Q/=R;if(1!==$&&(P.scale($,$),Q/=$),P.lineWidth=Q,I.isInvalidPDFjsFont){const Y=[];let K=0;for(const Z of c)Y.push(Z.unicode),K+=Z.width;return P.fillText(Y.join(""),0,0),u.x+=K*J*N,P.restore(),void this.compose()}let G,X=0;for(G=0;G<H;++G){const Y=c[G];if("number"==typeof Y){X+=U*Y*A/1e3;continue}let K=!1;const Z=(Y.isSpace?w:0)+_,ae=Y.fontChar,ie=Y.accent;let te,re,ee=Y.width;if(z){const ue=Y.vmetric||q,fe=-(Y.vmetric?ue[1]:.5*ee)*J;ee=ue?-ue[0]:ee,te=fe/$,re=(X+ue[2]*J)/$}else te=X/$,re=0;if(I.remeasure&&ee>0){const ue=1e3*P.measureText(ae).width/A*$;if(ee<ue&&this.isFontSubpixelAAEnabled){const fe=ee/ue;K=!0,P.save(),P.scale(fe,1),te/=fe}else ee!==ue&&(te+=(ee-ue)/2e3*A/$)}this.contentVisible&&(Y.isInFont||I.missingFile)&&(oe&&!ie?P.fillText(ae,te,re):(this.paintChar(ae,te,re,ne),ie&&this.paintChar(ie.fontChar,te+A*ie.offset.x/$,re-A*ie.offset.y/$,ne))),X+=z?ee*J-Z*T:ee*J+Z*T,K&&P.restore()}z?u.y-=X:u.x+=X*N,P.restore(),this.compose()}showType3Text(c){const u=this.ctx,I=this.current,A=I.font,P=I.fontSize,$=I.fontDirection,_=A.vertical?1:-1,w=I.charSpacing,T=I.wordSpacing,N=I.textHScale*$,H=I.fontMatrix||ce.FONT_IDENTITY_MATRIX,z=c.length;let q,J,oe,ne;if(I.textRenderingMode!==ce.TextRenderingMode.INVISIBLE&&0!==P){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,u.save(),u.transform(...I.textMatrix),u.translate(I.x,I.y),u.scale(N,$),q=0;q<z;++q){if(J=c[q],"number"==typeof J){ne=_*J*P/1e3,this.ctx.translate(ne,0),I.x+=ne*N;continue}const Q=(J.isSpace?T:0)+w,R=A.charProcOperatorList[J.operatorListId];R?(this.contentVisible&&(this.processingType3=J,this.save(),u.scale(P,P),u.transform(...H),this.executeOperatorList(R),this.restore()),oe=ce.Util.applyTransform([J.width,0],H)[0]*P+Q,u.translate(oe,0),I.x+=oe*N):(0,ce.warn)(`Type3 character "${J.operatorListId}" is not available.`)}u.restore(),this.processingType3=null}}setCharWidth(c,u){}setCharWidthAndBounds(c,u,I,A,P,$){this.ctx.rect(I,A,P-I,$-A),this.ctx.clip(),this.endPath()}getColorN_Pattern(c){let u;if("TilingPattern"===c[0]){const I=c[1],A=this.baseTransform||(0,he.getCurrentTransform)(this.ctx);u=new E.TilingPattern(c,I,this.ctx,{createCanvasGraphics:$=>new r($,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},A)}else u=this._getPattern(c[1],c[2]);return u}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,u,I){const A=ce.Util.makeHexColor(c,u,I);this.ctx.strokeStyle=A,this.current.strokeColor=A}setFillRGBColor(c,u,I){const A=ce.Util.makeHexColor(c,u,I);this.ctx.fillStyle=A,this.current.fillColor=A,this.current.patternFill=!1}_getPattern(c,u=null){let I;return this.cachedPatterns.has(c)?I=this.cachedPatterns.get(c):(I=(0,E.getShadingPattern)(this.getObject(c)),this.cachedPatterns.set(c,I)),u&&(I.matrix=u),I}shadingFill(c){if(!this.contentVisible)return;const u=this.ctx;this.save();const I=this._getPattern(c);u.fillStyle=I.getPattern(u,this,(0,he.getCurrentTransformInverse)(u),E.PathType.SHADING);const A=(0,he.getCurrentTransformInverse)(u);if(A){const{width:P,height:$}=u.canvas,[_,w,T,N]=ce.Util.getAxialAlignedBoundingBox([0,0,P,$],A);this.ctx.fillRect(_,w,T-_,N-w)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,ce.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,ce.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,u){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&6===c.length&&this.transform(...c),this.baseTransform=(0,he.getCurrentTransform)(this.ctx),u)&&(this.ctx.rect(u[0],u[1],u[2]-u[0],u[3]-u[1]),this.current.updateRectMinMax((0,he.getCurrentTransform)(this.ctx),u),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const u=this.ctx;c.isolated||(0,ce.info)("TODO: Support non-isolated groups."),c.knockout&&(0,ce.warn)("Knockout groups not supported.");const I=(0,he.getCurrentTransform)(u);if(c.matrix&&u.transform(...c.matrix),!c.bbox)throw new Error("Bounding box is required.");let A=ce.Util.getAxialAlignedBoundingBox(c.bbox,(0,he.getCurrentTransform)(u));A=ce.Util.intersect(A,[0,0,u.canvas.width,u.canvas.height])||[0,0,0,0];const $=Math.floor(A[0]),_=Math.floor(A[1]);let w=Math.max(Math.ceil(A[2])-$,1),T=Math.max(Math.ceil(A[3])-_,1),N=1,H=1;w>x&&(N=w/x,w=x),T>x&&(H=T/x,T=x),this.current.startNewPathAndClipBox([0,0,w,T]);let z="groupAt"+this.groupLevel;c.smask&&(z+="_smask_"+this.smaskCounter++%2);const U=this.cachedCanvases.getCanvas(z,w,T),q=U.context;q.scale(1/N,1/H),q.translate(-$,-_),q.transform(...I),c.smask?this.smaskStack.push({canvas:U.canvas,context:q,offsetX:$,offsetY:_,scaleX:N,scaleY:H,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate($,_),u.scale(N,H),u.save()),b(u,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx,I=this.groupStack.pop();if(this.ctx=I,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const A=(0,he.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...A);const P=ce.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],A);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(P)}}beginAnnotation(c,u,I,A,P){if(this.#e(),O(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(u)&&4===u.length){const $=u[2]-u[0],_=u[3]-u[1];if(P&&this.annotationCanvasMap){(I=I.slice())[4]-=u[0],I[5]-=u[1],(u=u.slice())[0]=u[1]=0,u[2]=$,u[3]=_;const[w,T]=ce.Util.singularValueDecompose2dScale((0,he.getCurrentTransform)(this.ctx)),{viewportScale:N}=this,H=Math.ceil($*this.outputScaleX*N),z=Math.ceil(_*this.outputScaleY*N);this.annotationCanvas=this.canvasFactory.create(H,z);const{canvas:U,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(c,U),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(w,0,0,-T,0,_*T),O(this.ctx)}else O(this.ctx),this.ctx.rect(u[0],u[1],$,_),this.ctx.clip(),this.endPath()}this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...I),this.transform(...A)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(c){if(!this.contentVisible)return;const u=c.count;(c=this.getObject(c.data,c)).count=u;const I=this.ctx,A=this.processingType3;if(A&&(void 0===A.compiled&&(A.compiled=function s(f){const{width:c,height:u}=f;if(c>1e3||u>1e3)return null;const A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=c+1;let _,w,T,$=new Uint8Array(P*(u+1));const N=c+7&-8;let H=new Uint8Array(N*u),z=0;for(const ne of f.data){let Q=128;for(;Q>0;)H[z++]=ne&Q?0:255,Q>>=1}let U=0;for(z=0,0!==H[z]&&($[0]=1,++U),w=1;w<c;w++)H[z]!==H[z+1]&&($[w]=H[z]?2:1,++U),z++;for(0!==H[z]&&($[w]=2,++U),_=1;_<u;_++){z=_*N,T=_*P,H[z-N]!==H[z]&&($[T]=H[z]?1:8,++U);let ne=(H[z]?4:0)+(H[z-N]?8:0);for(w=1;w<c;w++)ne=(ne>>2)+(H[z+1]?4:0)+(H[z-N+1]?8:0),A[ne]&&($[T+w]=A[ne],++U),z++;if(H[z-N]!==H[z]&&($[T+w]=H[z]?2:4,++U),U>1e3)return null}for(z=N*(u-1),T=_*P,0!==H[z]&&($[T]=8,++U),w=1;w<c;w++)H[z]!==H[z+1]&&($[T+w]=H[z]?4:8,++U),z++;if(0!==H[z]&&($[T+w]=4,++U),U>1e3)return null;const q=new Int32Array([0,P,-1,0,-P,0,0,0,1]),J=new Path2D;for(_=0;U&&_<=u;_++){let ne=_*P;const Q=ne+c;for(;ne<Q&&!$[ne];)ne++;if(ne===Q)continue;J.moveTo(ne%P,_);const R=ne;let X=$[ne];do{const G=q[X];do{ne+=G}while(!$[ne]);const Y=$[ne];5!==Y&&10!==Y?(X=Y,$[ne]=0):(X=Y&51*X>>4,$[ne]&=X>>2|X<<2),J.lineTo(ne%P,ne/P|0),$[ne]||--U}while(R!==ne);--_}return H=null,$=null,function(ne){ne.save(),ne.scale(1/c,-1/u),ne.translate(0,-u),ne.fill(J),ne.beginPath(),ne.restore()}}(c)),A.compiled))return void A.compiled(I);const P=this._createMaskCanvas(c),$=P.canvas;I.save(),I.setTransform(1,0,0,1,0,0),I.drawImage($,P.offsetX,P.offsetY),I.restore(),this.compose()}paintImageMaskXObjectRepeat(c,u,I=0,A=0,P,$){if(!this.contentVisible)return;c=this.getObject(c.data,c);const _=this.ctx;_.save();const w=(0,he.getCurrentTransform)(_);_.transform(u,I,A,P,0,0);const T=this._createMaskCanvas(c);_.setTransform(1,0,0,1,T.offsetX-w[4],T.offsetY-w[5]);for(let N=0,H=$.length;N<H;N+=2){const z=ce.Util.transform(w,[u,I,A,P,$[N],$[N+1]]),[U,q]=ce.Util.applyTransform([0,0],z);_.drawImage(T.canvas,U,q)}_.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const u=this.ctx,I=this.current.fillColor,A=this.current.patternFill;for(const P of c){const{data:$,width:_,height:w,transform:T}=P,N=this.cachedCanvases.getCanvas("maskCanvas",_,w),H=N.context;H.save(),D(H,this.getObject($,P)),H.globalCompositeOperation="source-in",H.fillStyle=A?I.getPattern(H,this,(0,he.getCurrentTransformInverse)(u),E.PathType.FILL):I,H.fillRect(0,0,_,w),H.restore(),u.save(),u.transform(...T),u.scale(1,-1),k(u,N.canvas,0,0,_,w,0,-1,1,1),u.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const u=this.getObject(c);u?this.paintInlineImageXObject(u):(0,ce.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(c,u,I,A){if(!this.contentVisible)return;const P=this.getObject(c);if(!P)return void(0,ce.warn)("Dependent image isn't ready yet");const $=P.width,_=P.height,w=[];for(let T=0,N=A.length;T<N;T+=2)w.push({transform:[u,0,0,I,A[T],A[T+1]],x:0,y:0,w:$,h:_});this.paintInlineImageXObjectGroup(P,w)}applyTransferMapsToCanvas(c){return"none"!==this.current.transferMaps&&(c.filter=this.current.transferMaps,c.drawImage(c.canvas,0,0),c.filter="none"),c.canvas}applyTransferMapsToBitmap(c){if("none"===this.current.transferMaps)return c.bitmap;const{bitmap:u,width:I,height:A}=c,P=this.cachedCanvases.getCanvas("inlineImage",I,A),$=P.context;return $.filter=this.current.transferMaps,$.drawImage(u,0,0),$.filter="none",P.canvas}paintInlineImageXObject(c){if(!this.contentVisible)return;const u=c.width,I=c.height,A=this.ctx;if(this.save(),!ce.isNodeJS){const{filter:_}=A;"none"!==_&&""!==_&&(A.filter="none")}let P;if(A.scale(1/u,-1/I),c.bitmap)P=this.applyTransferMapsToBitmap(c);else if("function"==typeof HTMLElement&&c instanceof HTMLElement||!c.data)P=c;else{const w=this.cachedCanvases.getCanvas("inlineImage",u,I).context;i(w,c),P=this.applyTransferMapsToCanvas(w)}const $=this._scaleImage(P,(0,he.getCurrentTransformInverse)(A));A.imageSmoothingEnabled=L((0,he.getCurrentTransform)(A),c.interpolate),k(A,$.img,0,0,$.paintWidth,$.paintHeight,0,-I,u,I),this.compose(),this.restore()}paintInlineImageXObjectGroup(c,u){if(!this.contentVisible)return;const I=this.ctx;let A;if(c.bitmap)A=c.bitmap;else{const w=this.cachedCanvases.getCanvas("inlineImage",c.width,c.height).context;i(w,c),A=this.applyTransferMapsToCanvas(w)}for(const P of u)I.save(),I.transform(...P.transform),I.scale(1,-1),k(I,A,P.x,P.y,P.w,P.h,0,-1,1,1),I.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,u){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,u){this.markedContentStack.push("OC"===c?{visible:this.optionalContentConfig.isVisible(u)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){const u=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const I=this.ctx;this.pendingClip&&(u||(this.pendingClip===l?I.clip("evenodd"):I.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),I.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const c=(0,he.getCurrentTransform)(this.ctx);if(0===c[1]&&0===c[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(c[0]),Math.abs(c[3]));else{const u=Math.abs(c[0]*c[3]-c[2]*c[1]),I=Math.hypot(c[0],c[2]),A=Math.hypot(c[1],c[3]);this._cachedGetSinglePixelWidth=Math.max(I,A)/u}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:c}=this.current,{a:u,b:I,c:A,d:P}=this.ctx.getTransform();let $,_;if(0===I&&0===A){const w=Math.abs(u),T=Math.abs(P);if(w===T)if(0===c)$=_=1/w;else{const N=w*c;$=_=N<1?1/N:1}else if(0===c)$=1/w,_=1/T;else{const N=w*c,H=T*c;$=N<1?1/N:1,_=H<1?1/H:1}}else{const w=Math.abs(u*P-I*A),T=Math.hypot(u,I),N=Math.hypot(A,P);if(0===c)$=N/w,_=T/w;else{const H=c*w;$=N>H?N/H:1,_=T>H?T/H:1}}this._cachedScaleForStroking[0]=$,this._cachedScaleForStroking[1]=_}return this._cachedScaleForStroking}rescaleAndStroke(c){const{ctx:u}=this,{lineWidth:I}=this.current,[A,P]=this.getScaleForStroking();if(u.lineWidth=I||1,1===A&&1===P)return void u.stroke();const $=u.getLineDash();if(c&&u.save(),u.scale(A,P),$.length>0){const _=Math.max(A,P);u.setLineDash($.map(w=>w/_)),u.lineDashOffset/=_}u.stroke(),c&&u.restore()}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}}se.CanvasGraphics=r;for(const f in ce.OPS)void 0!==r.prototype[f]&&(r.prototype[ce.OPS[f]]=r.prototype[f])},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.TilingPattern=se.PathType=void 0,se.getShadingPattern=function F(k){switch(k[0]){case"RadialAxial":return new j(k);case"Mesh":return new t(k);case"Dummy":return new a}throw new Error(`Unknown IR type: ${k[0]}`)};var ce=ye(1),he=ye(6);const E={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function V(k,s){if(!s)return;const p=s[2]-s[0],i=s[3]-s[1],D=new Path2D;D.rect(s[0],s[1],p,i),k.clip(D)}se.PathType=E;class n{constructor(){this.constructor===n&&(0,ce.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,ce.unreachable)("Abstract method `getPattern` called.")}}class j extends n{constructor(s){super(),this._type=s[1],this._bbox=s[2],this._colorStops=s[3],this._p0=s[4],this._p1=s[5],this._r0=s[6],this._r1=s[7],this.matrix=null}_createGradient(s){let p;"axial"===this._type?p=s.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(p=s.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)p.addColorStop(i[0],i[1]);return p}getPattern(s,p,i,D){let b;if(D===E.STROKE||D===E.FILL){const O=p.current.getClippedPathBoundingBox(D,(0,he.getCurrentTransform)(s))||[0,0,0,0],v=Math.ceil(O[2]-O[0])||1,S=Math.ceil(O[3]-O[1])||1,d=p.cachedCanvases.getCanvas("pattern",v,S,!0),B=d.context;B.clearRect(0,0,B.canvas.width,B.canvas.height),B.beginPath(),B.rect(0,0,B.canvas.width,B.canvas.height),B.translate(-O[0],-O[1]),i=ce.Util.transform(i,[1,0,0,1,O[0],O[1]]),B.transform(...p.baseTransform),this.matrix&&B.transform(...this.matrix),V(B,this._bbox),B.fillStyle=this._createGradient(B),B.fill(),b=s.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(i);b.setTransform(g)}else V(s,this._bbox),b=this._createGradient(s);return b}}function x(k,s,p,i,D,b,O,v){const S=s.coords,d=s.colors,B=k.data,g=4*k.width;let L;S[p+1]>S[i+1]&&(L=p,p=i,i=L,L=b,b=O,O=L),S[i+1]>S[D+1]&&(L=i,i=D,D=L,L=O,O=v,v=L),S[p+1]>S[i+1]&&(L=p,p=i,i=L,L=b,b=O,O=L);const C=(S[p]+s.offsetX)*s.scaleX,h=(S[p+1]+s.offsetY)*s.scaleY,M=(S[i]+s.offsetX)*s.scaleX,l=(S[i+1]+s.offsetY)*s.scaleY,r=(S[D]+s.offsetX)*s.scaleX,f=(S[D+1]+s.offsetY)*s.scaleY;if(h>=f)return;const c=d[b],u=d[b+1],I=d[b+2],A=d[O],P=d[O+1],$=d[O+2],_=d[v],w=d[v+1],T=d[v+2],N=Math.round(h),H=Math.round(f);let z,U,q,J,oe,ne,Q,R;for(let X=N;X<=H;X++){if(X<l){const ae=X<h?0:(h-X)/(h-l);z=C-(C-M)*ae,U=c-(c-A)*ae,q=u-(u-P)*ae,J=I-(I-$)*ae}else{let ae;ae=X>f?1:l===f?0:(l-X)/(l-f),z=M-(M-r)*ae,U=A-(A-_)*ae,q=P-(P-w)*ae,J=$-($-T)*ae}let G;G=X<h?0:X>f?1:(h-X)/(h-f),oe=C-(C-r)*G,ne=c-(c-_)*G,Q=u-(u-w)*G,R=I-(I-T)*G;const Y=Math.round(Math.min(z,oe)),K=Math.round(Math.max(z,oe));let Z=g*X+4*Y;for(let ae=Y;ae<=K;ae++)G=(z-ae)/(z-oe),G<0?G=0:G>1&&(G=1),B[Z++]=U-(U-ne)*G|0,B[Z++]=q-(q-Q)*G|0,B[Z++]=J-(J-R)*G|0,B[Z++]=255}}function e(k,s,p){const i=s.coords,D=s.colors;let b,O;switch(s.type){case"lattice":const v=s.verticesPerRow,S=Math.floor(i.length/v)-1,d=v-1;for(b=0;b<S;b++){let B=b*v;for(let g=0;g<d;g++,B++)x(k,p,i[B],i[B+1],i[B+v],D[B],D[B+1],D[B+v]),x(k,p,i[B+v+1],i[B+1],i[B+v],D[B+v+1],D[B+1],D[B+v])}break;case"triangles":for(b=0,O=i.length;b<O;b+=3)x(k,p,i[b],i[b+1],i[b+2],D[b],D[b+1],D[b+2]);break;default:throw new Error("illegal figure")}}class t extends n{constructor(s){super(),this._coords=s[2],this._colors=s[3],this._figures=s[4],this._bounds=s[5],this._bbox=s[7],this._background=s[8],this.matrix=null}_createMeshCanvas(s,p,i){const v=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-v,B=Math.ceil(this._bounds[3])-S,g=Math.min(Math.ceil(Math.abs(d*s[0]*1.1)),3e3),L=Math.min(Math.ceil(Math.abs(B*s[1]*1.1)),3e3),C=d/g,h=B/L,M={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-S,scaleX:1/C,scaleY:1/h},f=i.getCanvas("mesh",g+4,L+4,!1),c=f.context,u=c.createImageData(g,L);if(p){const A=u.data;for(let P=0,$=A.length;P<$;P+=4)A[P]=p[0],A[P+1]=p[1],A[P+2]=p[2],A[P+3]=255}for(const A of this._figures)e(u,A,M);return c.putImageData(u,2,2),{canvas:f.canvas,offsetX:v-2*C,offsetY:S-2*h,scaleX:C,scaleY:h}}getPattern(s,p,i,D){let b;if(V(s,this._bbox),D===E.SHADING)b=ce.Util.singularValueDecompose2dScale((0,he.getCurrentTransform)(s));else if(b=ce.Util.singularValueDecompose2dScale(p.baseTransform),this.matrix){const v=ce.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*v[0],b[1]*v[1]]}const O=this._createMeshCanvas(b,D===E.SHADING?null:this._background,p.cachedCanvases);return D!==E.SHADING&&(s.setTransform(...p.baseTransform),this.matrix&&s.transform(...this.matrix)),s.translate(O.offsetX,O.offsetY),s.scale(O.scaleX,O.scaleY),s.createPattern(O.canvas,"no-repeat")}}class a extends n{getPattern(){return"hotpink"}}class y{static MAX_PATTERN_SIZE=3e3;constructor(s,p,i,D,b){this.operatorList=s[2],this.matrix=s[3]||[1,0,0,1,0,0],this.bbox=s[4],this.xstep=s[5],this.ystep=s[6],this.paintType=s[7],this.tilingType=s[8],this.color=p,this.ctx=i,this.canvasGraphicsFactory=D,this.baseTransform=b}createPatternCanvas(s){const p=this.operatorList,i=this.bbox,D=this.xstep,b=this.ystep,O=this.paintType,S=this.color,d=this.canvasGraphicsFactory;(0,ce.info)("TilingType: "+this.tilingType);const B=i[0],g=i[1],L=i[2],C=i[3],h=ce.Util.singularValueDecompose2dScale(this.matrix),M=ce.Util.singularValueDecompose2dScale(this.baseTransform),l=[h[0]*M[0],h[1]*M[1]],r=this.getSizeAndScale(D,this.ctx.canvas.width,l[0]),f=this.getSizeAndScale(b,this.ctx.canvas.height,l[1]),c=s.cachedCanvases.getCanvas("pattern",r.size,f.size,!0),u=c.context,I=d.createCanvasGraphics(u);I.groupLevel=s.groupLevel,this.setFillAndStrokeStyleToContext(I,O,S);let A=B,P=g,$=L,_=C;return B<0&&(A=0,$+=Math.abs(B)),g<0&&(P=0,_+=Math.abs(g)),u.translate(-r.scale*A,-f.scale*P),I.transform(r.scale,0,0,f.scale,0,0),u.save(),this.clipBbox(I,A,P,$,_),I.baseTransform=(0,he.getCurrentTransform)(I.ctx),I.executeOperatorList(p),I.endDrawing(),{canvas:c.canvas,scaleX:r.scale,scaleY:f.scale,offsetX:A,offsetY:P}}getSizeAndScale(s,p,i){s=Math.abs(s);const D=Math.max(y.MAX_PATTERN_SIZE,p);let b=Math.ceil(s*i);return b>=D?b=D:i=b/s,{scale:i,size:b}}clipBbox(s,p,i,D,b){s.ctx.rect(p,i,D-p,b-i),s.current.updateRectMinMax((0,he.getCurrentTransform)(s.ctx),[p,i,D,b]),s.clip(),s.endPath()}setFillAndStrokeStyleToContext(s,p,i){const D=s.ctx,b=s.current;switch(p){case 1:const O=this.ctx;D.fillStyle=O.fillStyle,D.strokeStyle=O.strokeStyle,b.fillColor=O.fillStyle,b.strokeColor=O.strokeStyle;break;case 2:const v=ce.Util.makeHexColor(i[0],i[1],i[2]);D.fillStyle=v,D.strokeStyle=v,b.fillColor=v,b.strokeColor=v;break;default:throw new ce.FormatError(`Unsupported paint type: ${p}`)}}getPattern(s,p,i,D){let b=i;D!==E.SHADING&&(b=ce.Util.transform(b,p.baseTransform),this.matrix&&(b=ce.Util.transform(b,this.matrix)));const O=this.createPatternCanvas(p);let v=new DOMMatrix(b);v=v.translate(O.offsetX,O.offsetY),v=v.scale(1/O.scaleX,1/O.scaleY);const S=s.createPattern(O.canvas,"repeat");return S.setTransform(v),S}}se.TilingPattern=y},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.convertBlackAndWhiteToRGBA=E,se.convertToRGBA=function he(j){switch(j.kind){case ce.ImageKind.GRAYSCALE_1BPP:return E(j);case ce.ImageKind.RGB_24BPP:return function V({src:j,srcPos:x=0,dest:e,destPos:t=0}){let m=0;const y=j.length>>2,k=new Uint32Array(j.buffer,x,y);if(ce.FeatureTest.isLittleEndian){for(;m<y-2;m+=3,t+=4){const s=k[m],p=k[m+1],i=k[m+2];e[t]=4278190080|s,e[t+1]=s>>>24|p<<8|4278190080,e[t+2]=p>>>16|i<<16|4278190080,e[t+3]=i>>>8|4278190080}for(let s=4*m,p=j.length;s<p;s+=3)e[t++]=j[s]|j[s+1]<<8|j[s+2]<<16|4278190080}else{for(;m<y-2;m+=3,t+=4){const s=k[m],p=k[m+1],i=k[m+2];e[t]=255|s,e[t+1]=s<<24|p>>>8|255,e[t+2]=p<<16|i>>>16|255,e[t+3]=i<<8|255}for(let s=4*m,p=j.length;s<p;s+=3)e[t++]=j[s]<<24|j[s+1]<<16|j[s+2]<<8|255}return{srcPos:x,destPos:t}}(j)}return null},se.grayToRGBA=function n(j,x){if(ce.FeatureTest.isLittleEndian)for(let e=0,t=j.length;e<t;e++)x[e]=65793*j[e]|4278190080;else for(let e=0,t=j.length;e<t;e++)x[e]=16843008*j[e]|255};var ce=ye(1);function E({src:j,srcPos:x=0,dest:e,width:t,height:a,nonBlackColor:F=4294967295,inverseDecode:m=!1}){const y=ce.FeatureTest.isLittleEndian?4278190080:255,[k,s]=m?[F,y]:[y,F],p=t>>3,i=7&t,D=j.length;e=new Uint32Array(e.buffer);let b=0;for(let O=0;O<a;O++){for(const S=x+p;x<S;x++){const d=x<D?j[x]:255;e[b++]=128&d?s:k,e[b++]=64&d?s:k,e[b++]=32&d?s:k,e[b++]=16&d?s:k,e[b++]=8&d?s:k,e[b++]=4&d?s:k,e[b++]=2&d?s:k,e[b++]=1&d?s:k}if(0===i)continue;const v=x<D?j[x++]:255;for(let S=0;S<i;S++)e[b++]=v&1<<7-S?s:k}return{srcPos:x,destPos:b}}},(ke,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.GlobalWorkerOptions=void 0;const ye=Object.create(null);se.GlobalWorkerOptions=ye,ye.workerPort=null,ye.workerSrc=""},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MessageHandler=void 0;var ce=ye(1);function V(j){switch(j instanceof Error||"object"==typeof j&&null!==j||(0,ce.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),j.name){case"AbortException":return new ce.AbortException(j.message);case"MissingPDFException":return new ce.MissingPDFException(j.message);case"PasswordException":return new ce.PasswordException(j.message,j.code);case"UnexpectedResponseException":return new ce.UnexpectedResponseException(j.message,j.status);case"UnknownErrorException":return new ce.UnknownErrorException(j.message,j.details);default:return new ce.UnknownErrorException(j.message,j.toString())}}se.MessageHandler=class n{constructor(x,e,t){this.sourceName=x,this.targetName=e,this.comObj=t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=a=>{const F=a.data;if(F.targetName!==this.sourceName)return;if(F.stream)return void this.#t(F);if(F.callback){const y=F.callbackId,k=this.callbackCapabilities[y];if(!k)throw new Error(`Cannot resolve callback ${y}`);if(delete this.callbackCapabilities[y],1===F.callback)k.resolve(F.data);else{if(2!==F.callback)throw new Error("Unexpected callback case");k.reject(V(F.reason))}return}const m=this.actionHandler[F.action];if(!m)throw new Error(`Unknown action from worker: ${F.action}`);if(F.callbackId){const y=this.sourceName,k=F.sourceName;new Promise(function(s){s(m(F.data))}).then(function(s){t.postMessage({sourceName:y,targetName:k,callback:1,callbackId:F.callbackId,data:s})},function(s){t.postMessage({sourceName:y,targetName:k,callback:2,callbackId:F.callbackId,reason:V(s)})})}else F.streamId?this.#e(F):m(F.data)},t.addEventListener("message",this._onComObjOnMessage)}on(x,e){const t=this.actionHandler;if(t[x])throw new Error(`There is already an actionName called "${x}"`);t[x]=e}send(x,e,t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:x,data:e},t)}sendWithPromise(x,e,t){const a=this.callbackId++,F=new ce.PromiseCapability;this.callbackCapabilities[a]=F;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:x,callbackId:a,data:e},t)}catch(m){F.reject(m)}return F.promise}sendWithStream(x,e,t,a){const F=this.streamId++,m=this.sourceName,y=this.targetName,k=this.comObj;return new ReadableStream({start:s=>{const p=new ce.PromiseCapability;return this.streamControllers[F]={controller:s,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:m,targetName:y,action:x,streamId:F,data:e,desiredSize:s.desiredSize},a),p.promise},pull:s=>{const p=new ce.PromiseCapability;return this.streamControllers[F].pullCall=p,k.postMessage({sourceName:m,targetName:y,stream:6,streamId:F,desiredSize:s.desiredSize}),p.promise},cancel:s=>{(0,ce.assert)(s instanceof Error,"cancel must have a valid reason");const p=new ce.PromiseCapability;return this.streamControllers[F].cancelCall=p,this.streamControllers[F].isClosed=!0,k.postMessage({sourceName:m,targetName:y,stream:1,streamId:F,reason:V(s)}),p.promise}},t)}#e(x){const e=x.streamId,t=this.sourceName,a=x.sourceName,F=this.comObj,m=this,y=this.actionHandler[x.action],k={enqueue(s,p=1,i){if(this.isCancelled)return;const D=this.desiredSize;this.desiredSize-=p,D>0&&this.desiredSize<=0&&(this.sinkCapability=new ce.PromiseCapability,this.ready=this.sinkCapability.promise),F.postMessage({sourceName:t,targetName:a,stream:4,streamId:e,chunk:s},i)},close(){this.isCancelled||(this.isCancelled=!0,F.postMessage({sourceName:t,targetName:a,stream:3,streamId:e}),delete m.streamSinks[e])},error(s){(0,ce.assert)(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,F.postMessage({sourceName:t,targetName:a,stream:5,streamId:e,reason:V(s)}))},sinkCapability:new ce.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:x.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[e]=k,new Promise(function(s){s(y(x.data,k))}).then(function(){F.postMessage({sourceName:t,targetName:a,stream:8,streamId:e,success:!0})},function(s){F.postMessage({sourceName:t,targetName:a,stream:8,streamId:e,reason:V(s)})})}#t(x){const e=x.streamId,t=this.sourceName,a=x.sourceName,F=this.comObj,m=this.streamControllers[e],y=this.streamSinks[e];switch(x.stream){case 8:x.success?m.startCall.resolve():m.startCall.reject(V(x.reason));break;case 7:x.success?m.pullCall.resolve():m.pullCall.reject(V(x.reason));break;case 6:if(!y){F.postMessage({sourceName:t,targetName:a,stream:7,streamId:e,success:!0});break}y.desiredSize<=0&&x.desiredSize>0&&y.sinkCapability.resolve(),y.desiredSize=x.desiredSize,new Promise(function(k){k(y.onPull?.())}).then(function(){F.postMessage({sourceName:t,targetName:a,stream:7,streamId:e,success:!0})},function(k){F.postMessage({sourceName:t,targetName:a,stream:7,streamId:e,reason:V(k)})});break;case 4:if((0,ce.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(x.chunk);break;case 3:if((0,ce.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this.#n(m,e);break;case 5:(0,ce.assert)(m,"error should have stream controller"),m.controller.error(V(x.reason)),this.#n(m,e);break;case 2:x.success?m.cancelCall.resolve():m.cancelCall.reject(V(x.reason)),this.#n(m,e);break;case 1:if(!y)break;new Promise(function(k){k(y.onCancel?.(V(x.reason)))}).then(function(){F.postMessage({sourceName:t,targetName:a,stream:2,streamId:e,success:!0})},function(k){F.postMessage({sourceName:t,targetName:a,stream:2,streamId:e,reason:V(k)})}),y.sinkCapability.reject(V(x.reason)),y.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#n(x,e){await Promise.allSettled([x.startCall?.promise,x.pullCall?.promise,x.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.Metadata=void 0;var ce=ye(1);se.Metadata=class he{#e;#t;constructor({parsedData:V,rawData:n}){this.#e=V,this.#t=n}getRaw(){return this.#t}get(V){return this.#e.get(V)??null}getAll(){return(0,ce.objectFromMap)(this.#e)}has(V){return this.#e.has(V)}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.OptionalContentConfig=void 0;var ce=ye(1),he=ye(8);const E=Symbol("INTERNAL");class V{#e=!0;constructor(x,e){this.name=x,this.intent=e}get visible(){return this.#e}_setVisible(x,e){x!==E&&(0,ce.unreachable)("Internal method `_setVisible` called."),this.#e=e}}se.OptionalContentConfig=class n{#e=null;#t=new Map;#n=null;#i=null;constructor(x){if(this.name=null,this.creator=null,null!==x){this.name=x.name,this.creator=x.creator,this.#i=x.order;for(const e of x.groups)this.#t.set(e.id,new V(e.name,e.intent));if("OFF"===x.baseState)for(const e of this.#t.values())e._setVisible(E,!1);for(const e of x.on)this.#t.get(e)._setVisible(E,!0);for(const e of x.off)this.#t.get(e)._setVisible(E,!1);this.#n=this.getHash()}}#o(x){const e=x.length;if(e<2)return!0;const t=x[0];for(let a=1;a<e;a++){const F=x[a];let m;if(Array.isArray(F))m=this.#o(F);else{if(!this.#t.has(F))return(0,ce.warn)(`Optional content group not found: ${F}`),!0;m=this.#t.get(F).visible}switch(t){case"And":if(!m)return!1;break;case"Or":if(m)return!0;break;case"Not":return!m;default:return!0}}return"And"===t}isVisible(x){if(0===this.#t.size)return!0;if(!x)return(0,ce.warn)("Optional content group not defined."),!0;if("OCG"===x.type)return this.#t.has(x.id)?this.#t.get(x.id).visible:((0,ce.warn)(`Optional content group not found: ${x.id}`),!0);if("OCMD"===x.type){if(x.expression)return this.#o(x.expression);if(!x.policy||"AnyOn"===x.policy){for(const e of x.ids){if(!this.#t.has(e))return(0,ce.warn)(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}if("AllOn"===x.policy){for(const e of x.ids){if(!this.#t.has(e))return(0,ce.warn)(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}if("AnyOff"===x.policy){for(const e of x.ids){if(!this.#t.has(e))return(0,ce.warn)(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}if("AllOff"===x.policy){for(const e of x.ids){if(!this.#t.has(e))return(0,ce.warn)(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return(0,ce.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,ce.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,e=!0){this.#t.has(x)?(this.#t.get(x)._setVisible(E,!!e),this.#e=null):(0,ce.warn)(`Optional content group not found: ${x}`)}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,ce.objectFromMap)(this.#t):null}getGroup(x){return this.#t.get(x)||null}getHash(){if(null!==this.#e)return this.#e;const x=new he.MurmurHash3_64;for(const[e,t]of this.#t)x.update(`${e}:${t.visible}`);return this.#e=x.hexdigest()}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFDataTransportStream=void 0;var ce=ye(1),he=ye(6);se.PDFDataTransportStream=class E{constructor({length:x,initialData:e,progressiveDone:t=!1,contentDispositionFilename:a=null,disableRange:F=!1,disableStream:m=!1},y){if((0,ce.assert)(y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t,this._contentDispositionFilename=a,e?.length>0){const k=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;this._queuedChunks.push(k)}this._pdfDataRangeTransport=y,this._isStreamingSupported=!m,this._isRangeSupported=!F,this._contentLength=x,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((k,s)=>{this._onReceiveData({begin:k,chunk:s})}),this._pdfDataRangeTransport.addProgressListener((k,s)=>{this._onProgress({loaded:k,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(k=>{this._onReceiveData({chunk:k})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:x,chunk:e}){const t=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(void 0===x)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const a=this._rangeReaders.some(function(F){return F._begin===x&&(F._enqueue(t),!0)});(0,ce.assert)(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(x){void 0===x.total?this._rangeReaders[0]?.onProgress?.({loaded:x.loaded}):this._fullRequestReader?.onProgress?.({loaded:x.loaded,total:x.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(x){const e=this._rangeReaders.indexOf(x);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,ce.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const x=this._queuedChunks;return this._queuedChunks=null,new V(this,x,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(x,e){if(e<=this._progressiveDataLength)return null;const t=new n(this,x,e);return this._pdfDataRangeTransport.requestDataRange(x,e),this._rangeReaders.push(t),t}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const e of this._rangeReaders.slice(0))e.cancel(x);this._pdfDataRangeTransport.abort()}};class V{constructor(x,e,t=!1,a=null){this._stream=x,this._done=t||!1,this._filename=(0,he.isPdfFile)(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const F of this._queuedChunks)this._loaded+=F.byteLength;this._requests=[],this._headersReady=Promise.resolve(),x._fullRequestReader=this,this.onProgress=null}_enqueue(x){this._done||(this._requests.length>0?this._requests.shift().resolve({value:x,done:!1}):this._queuedChunks.push(x),this._loaded+=x.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const x=new ce.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class n{constructor(x,e,t){this._stream=x,this._begin=e,this._end=t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(x){if(!this._done){if(0===this._requests.length)this._queuedChunk=x;else{this._requests.shift().resolve({value:x,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const x=new ce.PromiseCapability;return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFFetchStream=void 0;var ce=ye(1),he=ye(20);function E(t,a,F){return{method:"GET",headers:t,signal:F.signal,mode:"cors",credentials:a?"include":"same-origin",redirect:"follow"}}function V(t){const a=new Headers;for(const F in t){const m=t[F];void 0!==m&&a.append(F,m)}return a}function n(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:((0,ce.warn)(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}se.PDFFetchStream=class j{constructor(a){this.source=a,this.isHttp=/^https?:/i.test(a.url),this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,ce.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(a,F){if(F<=this._progressiveDataLength)return null;const m=new e(this,a,F);return this._rangeRequestReaders.push(m),m}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const F of this._rangeRequestReaders.slice(0))F.cancel(a)}};class x{constructor(a){this._stream=a,this._reader=null,this._loaded=0,this._filename=null;const F=a.source;this._withCredentials=F.withCredentials||!1,this._contentLength=F.length,this._headersCapability=new ce.PromiseCapability,this._disableRange=F.disableRange||!1,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._headers=V(this._stream.httpHeaders);const m=F.url;fetch(m,E(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,he.validateResponseStatus)(y.status))throw(0,he.createResponseStatusError)(y.status,m);this._reader=y.body.getReader(),this._headersCapability.resolve();const k=i=>y.headers.get(i),{allowRangeRequests:s,suggestedLength:p}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=p||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(k),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ce.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:a,done:F}=await this._reader.read();return F?{value:a,done:F}:(this._loaded+=a.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:n(a),done:!1})}cancel(a){this._reader?.cancel(a),this._abortController.abort()}}class e{constructor(a,F,m){this._stream=a,this._reader=null,this._loaded=0;const y=a.source;this._withCredentials=y.withCredentials||!1,this._readCapability=new ce.PromiseCapability,this._isStreamingSupported=!y.disableStream,this._abortController=new AbortController,this._headers=V(this._stream.httpHeaders),this._headers.append("Range",`bytes=${F}-${m-1}`);const k=y.url;fetch(k,E(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,he.validateResponseStatus)(s.status))throw(0,he.createResponseStatusError)(s.status,k);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:a,done:F}=await this._reader.read();return F?{value:a,done:F}:(this._loaded+=a.byteLength,this.onProgress?.({loaded:this._loaded}),{value:n(a),done:!1})}cancel(a){this._reader?.cancel(a),this._abortController.abort()}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.createResponseStatusError=function j(e,t){return 404===e||0===e&&t.startsWith("file:")?new ce.MissingPDFException('Missing PDF "'+t+'".'):new ce.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},se.extractFilenameFromHeader=function n(e){const t=e("Content-Disposition");if(t){let a=(0,he.getFilenameFromContentDispositionHeader)(t);if(a.includes("%"))try{a=decodeURIComponent(a)}catch{}if((0,E.isPdfFile)(a))return a}return null},se.validateRangeRequestCapabilities=function V({getResponseHeader:e,isHttp:t,rangeChunkSize:a,disableRange:F}){const m={allowRangeRequests:!1,suggestedLength:void 0},y=parseInt(e("Content-Length"),10);return!Number.isInteger(y)||(m.suggestedLength=y,y<=2*a)||F||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(m.allowRangeRequests=!0),m},se.validateResponseStatus=function x(e){return 200===e||206===e};var ce=ye(1),he=ye(21),E=ye(6)},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.getFilenameFromContentDispositionHeader=function he(E){let V=!0,n=j("filename\\*","i").exec(E);if(n){n=n[1];let y=a(n);return y=unescape(y),y=F(y),y=m(y),e(y)}if(n=function t(y){const k=[];let s;const p=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(s=p.exec(y));){let[,D,b,O]=s;if(D=parseInt(D,10),D in k){if(0===D)break}else k[D]=[b,O]}const i=[];for(let D=0;D<k.length&&D in k;++D){let[b,O]=k[D];O=a(O),b&&(O=unescape(O),0===D&&(O=F(O))),i.push(O)}return i.join("")}(E),n)return e(m(n));if(n=j("filename","i").exec(E),n){n=n[1];let y=a(n);return y=m(y),e(y)}function j(y,k){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function x(y,k){if(y){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const s=new TextDecoder(y,{fatal:!0}),p=(0,ce.stringToBytes)(k);k=s.decode(p),V=!1}catch{}}return k}function e(y){return V&&/[\x80-\xff]/.test(y)&&(y=x("utf-8",y),V&&(y=x("iso-8859-1",y))),y}function a(y){if(y.startsWith('"')){const k=y.slice(1).split('\\"');for(let s=0;s<k.length;++s){const p=k[s].indexOf('"');-1!==p&&(k[s]=k[s].slice(0,p),k.length=s+1),k[s]=k[s].replaceAll(/\\(.)/g,"$1")}y=k.join('"')}return y}function F(y){const k=y.indexOf("'");return-1===k?y:x(y.slice(0,k),y.slice(k+1).replace(/^[^']*'/,""))}function m(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,s,p,i){if("q"===p||"Q"===p)return x(s,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(D,b){return String.fromCharCode(parseInt(b,16))}));try{i=atob(i)}catch{}return x(s,i)})}return""};var ce=ye(1)},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFNetworkStream=void 0;var ce=ye(1),he=ye(20);class j{constructor(F,m={}){this.url=F,this.isHttp=/^https?:/i.test(F),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(F,m,y){const k={begin:F,end:m};for(const s in y)k[s]=y[s];return this.request(k)}requestFull(F){return this.request(F)}request(F){const m=new XMLHttpRequest,y=this.currXhrId++,k=this.pendingRequests[y]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const p=this.httpHeaders[s];void 0!==p&&m.setRequestHeader(s,p)}return this.isHttp&&"begin"in F&&"end"in F?(m.setRequestHeader("Range",`bytes=${F.begin}-${F.end-1}`),k.expectedStatus=206):k.expectedStatus=200,m.responseType="arraybuffer",F.onError&&(m.onerror=function(s){F.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,y),m.onprogress=this.onProgress.bind(this,y),k.onHeadersReceived=F.onHeadersReceived,k.onDone=F.onDone,k.onError=F.onError,k.onProgress=F.onProgress,m.send(null),y}onProgress(F,m){const y=this.pendingRequests[F];y&&y.onProgress?.(m)}onStateChange(F,m){const y=this.pendingRequests[F];if(!y)return;const k=y.xhr;if(k.readyState>=2&&y.onHeadersReceived&&(y.onHeadersReceived(),delete y.onHeadersReceived),4!==k.readyState||!(F in this.pendingRequests))return;if(delete this.pendingRequests[F],0===k.status&&this.isHttp)return void y.onError?.(k.status);const s=k.status||200;if((200!==s||206!==y.expectedStatus)&&s!==y.expectedStatus)return void y.onError?.(k.status);const i=function n(a){const F=a.response;return"string"!=typeof F?F:(0,ce.stringToBytes)(F).buffer}(k);if(206===s){const D=k.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(D);y.onDone({begin:parseInt(b[1],10),chunk:i})}else i?y.onDone({begin:0,chunk:i}):y.onError?.(k.status)}getRequestXhr(F){return this.pendingRequests[F].xhr}isPendingRequest(F){return F in this.pendingRequests}abortRequest(F){const m=this.pendingRequests[F].xhr;delete this.pendingRequests[F],m.abort()}}se.PDFNetworkStream=class x{constructor(F){this._source=F,this._manager=new j(F.url,{httpHeaders:F.httpHeaders,withCredentials:F.withCredentials}),this._rangeChunkSize=F.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(F){const m=this._rangeRequestReaders.indexOf(F);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,ce.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new e(this._manager,this._source),this._fullRequestReader}getRangeReader(F,m){const y=new t(this._manager,F,m);return y.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(y),y}cancelAllRequests(F){this._fullRequestReader?.cancel(F);for(const m of this._rangeRequestReaders.slice(0))m.cancel(F)}};class e{constructor(F,m){this._manager=F;const y={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=F.requestFull(y),this._headersReceivedCapability=new ce.PromiseCapability,this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const F=this._fullRequestId,m=this._manager.getRequestXhr(F),y=p=>m.getResponseHeader(p),{allowRangeRequests:k,suggestedLength:s}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(y),this._isRangeSupported&&this._manager.abortRequest(F),this._headersReceivedCapability.resolve()}_onDone(F){if(F&&(this._requests.length>0?this._requests.shift().resolve({value:F.chunk,done:!1}):this._cachedChunks.push(F.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(F){this._storedError=(0,he.createResponseStatusError)(F,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(F){this.onProgress?.({loaded:F.loaded,total:F.lengthComputable?F.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const F=new ce.PromiseCapability;return this._requests.push(F),F.promise}cancel(F){this._done=!0,this._headersReceivedCapability.reject(F);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class t{constructor(F,m,y){this._manager=F;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._requestId=F.requestRange(m,y,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(F){const m=F.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(F){this._storedError=(0,he.createResponseStatusError)(F,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(F){this.isStreamingSupported||this.onProgress?.({loaded:F.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const F=new ce.PromiseCapability;return this._requests.push(F),F.promise}cancel(F){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFNodeStream=void 0;var ce=ye(1),he=ye(20);const E=/^file:\/\/\/[a-zA-Z]:\//;se.PDFNodeStream=class n{constructor(k){this.source=k,this.url=function V(y){const k=require("url"),s=k.parse(y);return"file:"===s.protocol||s.host?s:/^[a-z]:[/\\]/i.test(y)?k.parse(`file:///${y}`):(s.host||(s.protocol="file:"),s)}(k.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,ce.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F(this):new t(this),this._fullRequestReader}getRangeReader(k,s){if(s<=this._progressiveDataLength)return null;const p=this.isFsUrl?new m(this,k,s):new a(this,k,s);return this._rangeRequestReaders.push(p),p}cancelAllRequests(k){this._fullRequestReader?.cancel(k);for(const s of this._rangeRequestReaders.slice(0))s.cancel(k)}};class j{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=k.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=new ce.PromiseCapability,this._headersCapability=new ce.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return null===k?(this._readCapability=new ce.PromiseCapability,this.read()):(this._loaded+=k.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){this._readableStream?this._readableStream.destroy(k):this._error(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ce.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new ce.PromiseCapability,this._isStreamingSupported=!k.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return null===k?(this._readCapability=new ce.PromiseCapability,this.read()):(this._loaded+=k.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){this._readableStream?this._readableStream.destroy(k):this._error(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function e(y,k){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:k}}class t extends j{constructor(k){super(k);const s=p=>{if(404===p.statusCode){const O=new ce.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=O,void this._headersCapability.reject(O)}this._headersCapability.resolve(),this._setReadableStream(p);const i=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:D,suggestedLength:b}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:k.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=D,this._contentLength=b||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(i)};if(this._request=null,"http:"===this._url.protocol){const p=require("http");this._request=p.request(e(this._url,k.httpHeaders),s)}else{const p=require("https");this._request=p.request(e(this._url,k.httpHeaders),s)}this._request.on("error",p=>{this._storedError=p,this._headersCapability.reject(p)}),this._request.end()}}class a extends x{constructor(k,s,p){super(k),this._httpHeaders={};for(const D in k.httpHeaders){const b=k.httpHeaders[D];void 0!==b&&(this._httpHeaders[D]=b)}this._httpHeaders.Range=`bytes=${s}-${p-1}`;const i=D=>{if(404!==D.statusCode)this._setReadableStream(D);else{const b=new ce.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b}};if(this._request=null,"http:"===this._url.protocol){const D=require("http");this._request=D.request(e(this._url,this._httpHeaders),i)}else{const D=require("https");this._request=D.request(e(this._url,this._httpHeaders),i)}this._request.on("error",D=>{this._storedError=D}),this._request.end()}}class F extends j{constructor(k){super(k);let s=decodeURIComponent(this._url.path);E.test(this._url.href)&&(s=s.replace(/^\//,""));const p=require("fs");p.lstat(s,(i,D)=>{if(i)return"ENOENT"===i.code&&(i=new ce.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=D.size,this._setReadableStream(p.createReadStream(s)),this._headersCapability.resolve()})}}class m extends x{constructor(k,s,p){super(k);let i=decodeURIComponent(this._url.path);E.test(this._url.href)&&(i=i.replace(/^\//,""));const D=require("fs");this._setReadableStream(D.createReadStream(i,{start:s,end:p-1}))}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.SVGGraphics=void 0;var ce=ye(6),he=ye(1);const j=["butt","round","square"],x=["miter","round","bevel"],e=function(D,b="",O=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!O)return URL.createObjectURL(new Blob([D],{type:b}));const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let S=`data:${b};base64,`;for(let d=0,B=D.length;d<B;d+=3){const g=255&D[d],L=255&D[d+1],C=255&D[d+2];S+=v[g>>2]+v[(3&g)<<4|L>>4]+v[d+1<B?(15&L)<<2|C>>6:64]+v[d+2<B?63&C:64]}return S},t=function(){const D=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,O=new Int32Array(256);for(let C=0;C<256;C++){let h=C;for(let M=0;M<8;M++)h=1&h?3988292384^h>>1&2147483647:h>>1&2147483647;O[C]=h}function S(C,h,M,l){let r=l;const f=h.length;M[r]=f>>24&255,M[r+1]=f>>16&255,M[r+2]=f>>8&255,M[r+3]=255&f,r+=4,M[r]=255&C.charCodeAt(0),M[r+1]=255&C.charCodeAt(1),M[r+2]=255&C.charCodeAt(2),M[r+3]=255&C.charCodeAt(3),r+=4,M.set(h,r),r+=h.length;const c=function v(C,h,M){let l=-1;for(let r=h;r<M;r++)l=l>>>8^O[255&(l^C[r])];return-1^l}(M,l+4,r);M[r]=c>>24&255,M[r+1]=c>>16&255,M[r+2]=c>>8&255,M[r+3]=255&c}function g(C){let h=C.length;const M=65535,l=Math.ceil(h/M),r=new Uint8Array(2+h+5*l+4);let f=0;r[f++]=120,r[f++]=156;let c=0;for(;h>M;)r[f++]=0,r[f++]=255,r[f++]=255,r[f++]=0,r[f++]=0,r.set(C.subarray(c,c+M),f),f+=M,c+=M,h-=M;r[f++]=1,r[f++]=255&h,r[f++]=h>>8&255,r[f++]=255&~h,r[f++]=(65535&~h)>>8&255,r.set(C.subarray(c),f),f+=C.length-c;const u=function d(C,h,M){let l=1,r=0;for(let f=h;f<M;++f)l=(l+(255&C[f]))%65521,r=(r+l)%65521;return r<<16|l}(C,0,C.length);return r[f++]=u>>24&255,r[f++]=u>>16&255,r[f++]=u>>8&255,r[f++]=255&u,r}return function(h,M,l){return function L(C,h,M,l){const r=C.width,f=C.height;let c,u,I;const A=C.data;switch(h){case he.ImageKind.GRAYSCALE_1BPP:u=0,c=1,I=r+7>>3;break;case he.ImageKind.RGB_24BPP:u=2,c=8,I=3*r;break;case he.ImageKind.RGBA_32BPP:u=6,c=8,I=4*r;break;default:throw new Error("invalid format")}const P=new Uint8Array((1+I)*f);let $=0,_=0;for(let U=0;U<f;++U)P[$++]=0,P.set(A.subarray(_,_+I),$),_+=I,$+=I;if(h===he.ImageKind.GRAYSCALE_1BPP&&l){$=0;for(let U=0;U<f;U++){$++;for(let q=0;q<I;q++)P[$++]^=255}}const w=new Uint8Array([r>>24&255,r>>16&255,r>>8&255,255&r,f>>24&255,f>>16&255,f>>8&255,255&f,c,u,0,0,0]),T=function B(C){if(!he.isNodeJS)return g(C);try{const h=parseInt(process.versions.node)>=8?C:Buffer.from(C),M=require("zlib").deflateSync(h,{level:9});return M instanceof Uint8Array?M:new Uint8Array(M)}catch(h){(0,he.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+h)}return g(C)}(P),H=new Uint8Array(D.length+3*b+w.length+T.length);let z=0;return H.set(D,z),z+=D.length,S("IHDR",w,H,z),z+=b+w.length,S("IDATA",T,H,z),z+=b+T.length,S("IEND",new Uint8Array(0),H,z),e(H,"image/png",M)}(h,void 0===h.kind?he.ImageKind.GRAYSCALE_1BPP:h.kind,M,l)}}();class a{constructor(){this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=he.IDENTITY_MATRIX,this.fontMatrix=he.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=he.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,O){this.x=b,this.y=O}}function m(D){if(Number.isInteger(D))return D.toString();const b=D.toFixed(10);let O=b.length-1;if("0"!==b[O])return b;do{O--}while("0"===b[O]);return b.substring(0,"."===b[O]?O:O+1)}function y(D){if(0===D[4]&&0===D[5]){if(0===D[1]&&0===D[2])return 1===D[0]&&1===D[3]?"":`scale(${m(D[0])} ${m(D[3])})`;if(D[0]===D[3]&&D[1]===-D[2])return`rotate(${m(180*Math.acos(D[0])/Math.PI)})`}else if(1===D[0]&&0===D[1]&&0===D[2]&&1===D[3])return`translate(${m(D[4])} ${m(D[5])})`;return`matrix(${m(D[0])} ${m(D[1])} ${m(D[2])} ${m(D[3])} ${m(D[4])} ${m(D[5])})`}let k=0,s=0,p=0;se.SVGGraphics=class i{constructor(b,O,v=!1){(0,ce.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new ce.DOMSVGFactory,this.current=new a,this.transformMatrix=he.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=O,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const S in he.OPS)this._operatorIdMapping[he.OPS[S]]=S}getObject(b,O=null){return"string"==typeof b?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):O}save(){this.transformStack.push(this.transformMatrix);const b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){const O=b.fnArray,v=b.argsArray;for(let S=0,d=O.length;S<d;S++)if(O[S]===he.OPS.dependency)for(const B of v[S]){const g=B.startsWith("g_")?this.commonObjs:this.objs,L=new Promise(C=>{g.get(B,C)});this.current.dependencies.push(L)}return Promise.all(this.current.dependencies)}transform(b,O,v,S,d,B){this.transformMatrix=he.Util.transform(this.transformMatrix,[b,O,v,S,d,B]),this.tgrp=null}getSVG(b,O){this.viewport=O;const v=this._initialize(O);return this.loadDependencies(b).then(()=>(this.transformMatrix=he.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),v))}convertOpList(b){const O=this._operatorIdMapping,v=b.argsArray,S=b.fnArray,d=[];for(let B=0,g=S.length;B<g;B++){const L=S[B];d.push({fnId:L,fn:O[L],args:v[B]})}return function F(D){let b=[];const O=[];for(const v of D)"save"!==v.fn?"restore"===v.fn?b=O.pop():b.push(v):(b.push({fnId:92,fn:"group",items:[]}),O.push(b),b=b.at(-1).items);return b}(d)}executeOpTree(b){for(const O of b){const v=O.fn,d=O.args;switch(0|O.fnId){case he.OPS.beginText:this.beginText();break;case he.OPS.dependency:break;case he.OPS.setLeading:this.setLeading(d);break;case he.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case he.OPS.setFont:this.setFont(d);break;case he.OPS.showText:case he.OPS.showSpacedText:this.showText(d[0]);break;case he.OPS.endText:this.endText();break;case he.OPS.moveText:this.moveText(d[0],d[1]);break;case he.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case he.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case he.OPS.setHScale:this.setHScale(d[0]);break;case he.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case he.OPS.setTextRise:this.setTextRise(d[0]);break;case he.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case he.OPS.setLineWidth:this.setLineWidth(d[0]);break;case he.OPS.setLineJoin:this.setLineJoin(d[0]);break;case he.OPS.setLineCap:this.setLineCap(d[0]);break;case he.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case he.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case he.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case he.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case he.OPS.setFillColorN:this.setFillColorN(d);break;case he.OPS.shadingFill:this.shadingFill(d[0]);break;case he.OPS.setDash:this.setDash(d[0],d[1]);break;case he.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case he.OPS.setFlatness:this.setFlatness(d[0]);break;case he.OPS.setGState:this.setGState(d[0]);break;case he.OPS.fill:this.fill();break;case he.OPS.eoFill:this.eoFill();break;case he.OPS.stroke:this.stroke();break;case he.OPS.fillStroke:this.fillStroke();break;case he.OPS.eoFillStroke:this.eoFillStroke();break;case he.OPS.clip:this.clip("nonzero");break;case he.OPS.eoClip:this.clip("evenodd");break;case he.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case he.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case he.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case he.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case he.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case he.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case he.OPS.closePath:this.closePath();break;case he.OPS.closeStroke:this.closeStroke();break;case he.OPS.closeFillStroke:this.closeFillStroke();break;case he.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case he.OPS.nextLine:this.nextLine();break;case he.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case he.OPS.constructPath:this.constructPath(d[0],d[1]);break;case he.OPS.endPath:this.endPath();break;case 92:this.group(O.items);break;default:(0,he.warn)(`Unimplemented operator ${v}`)}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,O,v,S,d,B){const g=this.current;g.textMatrix=g.lineMatrix=[b,O,v,S,d,B],g.textMatrixScale=Math.hypot(b,O),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${m(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",m(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.append(g.tspan)}beginText(){const b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=he.IDENTITY_MATRIX,b.lineMatrix=he.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,O){const v=this.current;v.x=v.lineX+=b,v.y=v.lineY+=O,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${m(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",m(-v.y))}showText(b){const O=this.current,v=O.font,S=O.fontSize;if(0===S)return;const d=O.fontSizeScale,B=O.charSpacing,g=O.wordSpacing,L=O.fontDirection,C=O.textHScale*L,h=v.vertical,M=h?1:-1,l=v.defaultVMetrics,r=S*O.fontMatrix[0];let f=0;for(const I of b){if(null===I){f+=L*g;continue}if("number"==typeof I){f+=M*I*S/1e3;continue}const A=(I.isSpace?g:0)+B,P=I.fontChar;let $,_,w=I.width;if(h){let N;const H=I.vmetric||l;N=I.vmetric?H[1]:.5*w,N=-N*r,w=H?-H[0]:w,$=N/d,_=(f+H[2]*r)/d}else $=f/d,_=0;(I.isInFont||v.missingFile)&&(O.xcoords.push(O.x+$),h&&O.ycoords.push(-O.y+_),O.tspan.textContent+=P),f+=h?w*r-A*L:w*r+A*L}O.tspan.setAttributeNS(null,"x",O.xcoords.map(m).join(" ")),O.tspan.setAttributeNS(null,"y",h?O.ycoords.map(m).join(" "):m(-O.y)),h?O.y-=f:O.x+=f*C,O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${m(O.fontSize)}px`),"normal"!==O.fontStyle&&O.tspan.setAttributeNS(null,"font-style",O.fontStyle),"normal"!==O.fontWeight&&O.tspan.setAttributeNS(null,"font-weight",O.fontWeight);const c=O.textRenderingMode&he.TextRenderingMode.FILL_STROKE_MASK;c===he.TextRenderingMode.FILL||c===he.TextRenderingMode.FILL_STROKE?("#000000"!==O.fillColor&&O.tspan.setAttributeNS(null,"fill",O.fillColor),O.fillAlpha<1&&O.tspan.setAttributeNS(null,"fill-opacity",O.fillAlpha)):O.tspan.setAttributeNS(null,"fill",O.textRenderingMode===he.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(c===he.TextRenderingMode.STROKE||c===he.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(O.tspan,1/(O.textMatrixScale||1));let u=O.textMatrix;0!==O.textRise&&(u=u.slice(),u[5]+=O.textRise),O.txtElement.setAttributeNS(null,"transform",`${y(u)} scale(${m(C)}, -1)`),O.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),O.txtElement.append(O.tspan),O.txtgrp.append(O.txtElement),this._ensureTransformGroup().append(O.txtElement)}setLeadingMoveText(b,O){this.setLeading(-O),this.moveText(b,O)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const O=e(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${O}); }\n`}setFont(b){const O=this.current,v=this.commonObjs.get(b[0]);let S=b[1];O.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),O.fontMatrix=v.fontMatrix||he.FONT_IDENTITY_MATRIX;let d="normal";v.black?d="900":v.bold&&(d="bold");const B=v.italic?"italic":"normal";S<0?(S=-S,O.fontDirection=-1):O.fontDirection=1,O.fontSize=S,O.fontFamily=v.loadedName,O.fontWeight=d,O.fontStyle=B,O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"y",m(-O.y)),O.xcoords=[],O.ycoords=[]}endText(){const b=this.current;b.textRenderingMode&he.TextRenderingMode.ADD_TO_PATH_FLAG&&b.txtElement?.hasChildNodes()&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=j[b]}setLineJoin(b){this.current.lineJoin=x[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,O,v){this.current.strokeColor=he.Util.makeHexColor(b,O,v)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,O,v){this.current.fillColor=he.Util.makeHexColor(b,O,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){const{width:O,height:v}=this.viewport,S=he.Util.inverseTransform(this.transformMatrix),[d,B,g,L]=he.Util.getAxialAlignedBoundingBox([0,0,O,v],S),C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x",d),C.setAttributeNS(null,"y",B),C.setAttributeNS(null,"width",g-d),C.setAttributeNS(null,"height",L-B),C.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&C.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(C)}_makeColorN_Pattern(b){return"TilingPattern"===b[0]?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){const O=b[1],v=b[2],S=b[3]||he.IDENTITY_MATRIX,[d,B,g,L]=b[4],C=b[5],h=b[6],M=b[7],l="shading"+p++,[r,f,c,u]=he.Util.normalizeRect([...he.Util.applyTransform([d,B],S),...he.Util.applyTransform([g,L],S)]),[I,A]=he.Util.singularValueDecompose2dScale(S),P=C*I,$=h*A,_=this.svgFactory.createElement("svg:pattern");_.setAttributeNS(null,"id",l),_.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_.setAttributeNS(null,"width",P),_.setAttributeNS(null,"height",$),_.setAttributeNS(null,"x",`${r}`),_.setAttributeNS(null,"y",`${f}`);const w=this.svg,T=this.transformMatrix,N=this.current.fillColor,H=this.current.strokeColor,z=this.svgFactory.create(c-r,u-f);if(this.svg=z,this.transformMatrix=S,2===M){const U=he.Util.makeHexColor(...O);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(v)),this.svg=w,this.transformMatrix=T,this.current.fillColor=N,this.current.strokeColor=H,_.append(z.childNodes[0]),this.defs.append(_),`url(#${l})`}_makeShadingPattern(b){switch("string"==typeof b&&(b=this.objs.get(b)),b[0]){case"RadialAxial":const O="shading"+p++,v=b[3];let S;switch(b[1]){case"axial":const d=b[4],B=b[5];S=this.svgFactory.createElement("svg:linearGradient"),S.setAttributeNS(null,"id",O),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"x1",d[0]),S.setAttributeNS(null,"y1",d[1]),S.setAttributeNS(null,"x2",B[0]),S.setAttributeNS(null,"y2",B[1]);break;case"radial":const g=b[4],L=b[5],C=b[6],h=b[7];S=this.svgFactory.createElement("svg:radialGradient"),S.setAttributeNS(null,"id",O),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"cx",L[0]),S.setAttributeNS(null,"cy",L[1]),S.setAttributeNS(null,"r",h),S.setAttributeNS(null,"fx",g[0]),S.setAttributeNS(null,"fy",g[1]),S.setAttributeNS(null,"fr",C);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(const d of v){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",d[0]),B.setAttributeNS(null,"stop-color",d[1]),S.append(B)}return this.defs.append(S),`url(#${O})`;case"Mesh":return(0,he.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,O){this.current.dashArray=b,this.current.dashPhase=O}constructPath(b,O){const v=this.current;let S=v.x,d=v.y,B=[],g=0;for(const L of b)switch(0|L){case he.OPS.rectangle:S=O[g++],d=O[g++];const M=S+O[g++],l=d+O[g++];B.push("M",m(S),m(d),"L",m(M),m(d),"L",m(M),m(l),"L",m(S),m(l),"Z");break;case he.OPS.moveTo:S=O[g++],d=O[g++],B.push("M",m(S),m(d));break;case he.OPS.lineTo:S=O[g++],d=O[g++],B.push("L",m(S),m(d));break;case he.OPS.curveTo:S=O[g+4],d=O[g+5],B.push("C",m(O[g]),m(O[g+1]),m(O[g+2]),m(O[g+3]),m(S),m(d)),g+=6;break;case he.OPS.curveTo2:B.push("C",m(S),m(d),m(O[g]),m(O[g+1]),m(O[g+2]),m(O[g+3])),S=O[g+2],d=O[g+3],g+=4;break;case he.OPS.curveTo3:S=O[g+2],d=O[g+3],B.push("C",m(O[g]),m(O[g+1]),m(S),m(d),m(S),m(d)),g+=4;break;case he.OPS.closePath:B.push("Z")}B=B.join(" "),v.path&&b.length>0&&b[0]!==he.OPS.rectangle&&b[0]!==he.OPS.moveTo?B=v.path.getAttributeNS(null,"d")+B:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(v.path)),v.path.setAttributeNS(null,"d",B),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(S,d)}endPath(){const b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element)return void(this.pendingClip=null);const O="clippath"+k++,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",O),v.setAttributeNS(null,"transform",y(this.transformMatrix));const S=b.element.cloneNode(!0);if(S.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,v.append(S),this.defs.append(v),b.activeClipUrl){b.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;v.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${O})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){const b=this.current;if(b.path){const O=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",O)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[O,v]of b)switch(O){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,he.warn)(`Unimplemented graphic state operator ${O}`)}}fill(){const b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){const b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,O=1){const v=this.current;let S=v.dashArray;1!==O&&S.length>0&&(S=S.map(function(d){return O*d})),b.setAttributeNS(null,"stroke",v.strokeColor),b.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",m(v.miterLimit)),b.setAttributeNS(null,"stroke-linecap",v.lineCap),b.setAttributeNS(null,"stroke-linejoin",v.lineJoin),b.setAttributeNS(null,"stroke-width",m(O*v.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",S.map(m).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",m(O*v.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(b)}paintImageXObject(b){const O=this.getObject(b);O?this.paintInlineImageXObject(O):(0,he.warn)(`Dependent image with object ID ${b} is not ready yet`)}paintInlineImageXObject(b,O){const v=b.width,S=b.height,d=t(b,this.forceDataSchema,!!O),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",m(v)),B.setAttributeNS(null,"height",m(S)),this.current.element=B,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",m(-S)),g.setAttributeNS(null,"width",m(v)+"px"),g.setAttributeNS(null,"height",m(S)+"px"),g.setAttributeNS(null,"transform",`scale(${m(1/v)} ${m(-1/S)})`),O?O.append(g):this._ensureTransformGroup().append(g)}paintImageMaskXObject(b){const O=this.getObject(b.data,b);if(O.bitmap)return void(0,he.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const v=this.current,S=O.width,d=O.height,B=v.fillColor;v.maskId="mask"+s++;const g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",v.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",m(S)),L.setAttributeNS(null,"height",m(d)),L.setAttributeNS(null,"fill",B),L.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.append(g),this._ensureTransformGroup().append(L),this.paintInlineImageXObject(O,g)}paintFormXObjectBegin(b,O){if(Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),O){const v=O[2]-O[0],S=O[3]-O[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",O[0]),d.setAttributeNS(null,"y",O[1]),d.setAttributeNS(null,"width",m(v)),d.setAttributeNS(null,"height",m(S)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){const O=this.svgFactory.create(b.width,b.height),v=this.svgFactory.createElement("svg:defs");O.append(v),this.defs=v;const S=this.svgFactory.createElement("svg:g");return S.setAttributeNS(null,"transform",y(b.transform)),O.append(S),this.svg=S,O}_ensureClipGroup(){if(!this.current.clipGroup){const b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(ke,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.XfaText=void 0;class ye{static textContent(he){const E=[],V={items:E,styles:Object.create(null)};return function n(j){if(!j)return;let x=null;const e=j.name;if("#text"===e)x=j.value;else{if(!ye.shouldBuildText(e))return;j?.attributes?.textContent?x=j.attributes.textContent:j.value&&(x=j.value)}if(null!==x&&E.push({str:x}),j.children)for(const t of j.children)n(t)}(he),V}static shouldBuildText(he){return!("textarea"===he||"input"===he||"option"===he||"select"===he)}}se.XfaText=ye},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.TextLayerRenderTask=void 0,se.renderTextLayer=function y(s){!s.textContentSource&&(s.textContent||s.textContentStream)&&((0,he.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),s.textContentSource=s.textContent||s.textContentStream);const{container:p,viewport:i}=s,D=getComputedStyle(p),b=D.getPropertyValue("visibility"),O=parseFloat(D.getPropertyValue("--scale-factor"));"visible"===b&&(!O||Math.abs(O-i.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const v=new m(s);return v._render(),v},se.updateTextLayer=function k({container:s,viewport:p,textDivs:i,textDivProperties:D,isOffscreenCanvasSupported:b,mustRotate:O=!0,mustRescale:v=!0}){if(O&&(0,he.setLayerDimensions)(s,{rotation:p.rotation}),v){const S=x(0,b),B={prevFontSize:null,prevFontFamily:null,div:null,scale:p.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:S};for(const g of i)B.properties=D.get(g),B.div=g,a(B)}};var ce=ye(1),he=ye(6);const V=30,n=.8,j=new Map;function x(s,p){let i;if(p&&ce.FeatureTest.isOffscreenCanvasSupported)i=new OffscreenCanvas(s,s).getContext("2d",{alpha:!1});else{const D=document.createElement("canvas");D.width=D.height=s,i=D.getContext("2d",{alpha:!1})}return i}function t(s,p,i){const D=document.createElement("span"),b={angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL,fontSize:0};s._textDivs.push(D);const O=ce.Util.transform(s._transform,p.transform);let v=Math.atan2(O[1],O[0]);const S=i[p.fontName];S.vertical&&(v+=Math.PI/2);const d=Math.hypot(O[2],O[3]),B=d*function e(s,p){const i=j.get(s);if(i)return i;const D=x(V,p);D.font=`${V}px ${s}`;const b=D.measureText("");let O=b.fontBoundingBoxAscent,v=Math.abs(b.fontBoundingBoxDescent);if(O){const d=O/(O+v);return j.set(s,d),D.canvas.width=D.canvas.height=0,d}D.strokeStyle="red",D.clearRect(0,0,V,V),D.strokeText("g",0,0);let S=D.getImageData(0,0,V,V).data;v=0;for(let d=S.length-1-3;d>=0;d-=4)if(S[d]>0){v=Math.ceil(d/4/V);break}D.clearRect(0,0,V,V),D.strokeText("A",0,V),S=D.getImageData(0,0,V,V).data,O=0;for(let d=0,B=S.length;d<B;d+=4)if(S[d]>0){O=V-Math.floor(d/4/V);break}if(D.canvas.width=D.canvas.height=0,O){const d=O/(O+v);return j.set(s,d),d}return j.set(s,n),n}(S.fontFamily,s._isOffscreenCanvasSupported);let g,L;0===v?(g=O[4],L=O[5]-B):(g=O[4]+B*Math.sin(v),L=O[5]-B*Math.cos(v));const C="calc(var(--scale-factor)*",h=D.style;s._container===s._rootContainer?(h.left=`${(100*g/s._pageWidth).toFixed(2)}%`,h.top=`${(100*L/s._pageHeight).toFixed(2)}%`):(h.left=`${C}${g.toFixed(2)}px)`,h.top=`${C}${L.toFixed(2)}px)`),h.fontSize=`${C}${d.toFixed(2)}px)`,h.fontFamily=S.fontFamily,b.fontSize=d,D.setAttribute("role","presentation"),D.textContent=p.str,D.dir=p.dir,s._fontInspectorEnabled&&(D.dataset.fontName=p.fontName),0!==v&&(b.angle=v*(180/Math.PI));let M=!1;if(p.str.length>1)M=!0;else if(" "!==p.str&&p.transform[0]!==p.transform[3]){const l=Math.abs(p.transform[0]),r=Math.abs(p.transform[3]);l!==r&&Math.max(l,r)/Math.min(l,r)>1.5&&(M=!0)}M&&(b.canvasWidth=S.vertical?p.height:p.width),s._textDivProperties.set(D,b),s._isReadableStream&&s._layoutText(D)}function a(s){const{div:p,scale:i,properties:D,ctx:b,prevFontSize:O,prevFontFamily:v}=s,{style:S}=p;let d="";if(0!==D.canvasWidth&&D.hasText){const{fontFamily:B}=S,{canvasWidth:g,fontSize:L}=D;(O!==L||v!==B)&&(b.font=`${L*i}px ${B}`,s.prevFontSize=L,s.prevFontFamily=B);const{width:C}=b.measureText(p.textContent);C>0&&(d=`scaleX(${g*i/C})`)}0!==D.angle&&(d=`rotate(${D.angle}deg) ${d}`),d.length>0&&(S.transform=d)}class m{constructor({textContentSource:p,container:i,viewport:D,textDivs:b,textDivProperties:O,textContentItemsStr:v,isOffscreenCanvasSupported:S}){this._textContentSource=p,this._isReadableStream=p instanceof ReadableStream,this._container=this._rootContainer=i,this._textDivs=b||[],this._textContentItemsStr=v||[],this._isOffscreenCanvasSupported=S,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=O||new WeakMap,this._canceled=!1,this._capability=new ce.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:D.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:x(0,S)};const{pageWidth:d,pageHeight:B,pageX:g,pageY:L}=D.rawDims;this._transform=[1,0,0,-1,-g,L+B],this._pageWidth=d,this._pageHeight=B,(0,he.setLayerDimensions)(i,D),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new ce.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new ce.AbortException("TextLayer task cancelled."))}_processItems(p,i){for(const D of p)if(void 0!==D.str)this._textContentItemsStr.push(D.str),t(this,D,i);else if("beginMarkedContentProps"===D.type||"beginMarkedContent"===D.type){const b=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==D.id&&this._container.setAttribute("id",`${D.id}`),b.append(this._container)}else"endMarkedContent"===D.type&&(this._container=this._container.parentNode)}_layoutText(p){const i=this._layoutTextParams.properties=this._textDivProperties.get(p);if(this._layoutTextParams.div=p,a(this._layoutTextParams),i.hasText&&this._container.append(p),i.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),this._container.append(D)}}_render(){const p=new ce.PromiseCapability;let i=Object.create(null);if(this._isReadableStream){const D=()=>{this._reader.read().then(({value:b,done:O})=>{O?p.resolve():(Object.assign(i,b.styles),this._processItems(b.items,i),D())},p.reject)};this._reader=this._textContentSource.getReader(),D()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:D,styles:b}=this._textContentSource;this._processItems(D,b),p.resolve()}}p.promise.then(()=>{i=null,function F(s){if(s._canceled)return;const p=s._textDivs,i=s._capability;if(p.length>1e5)i.resolve();else{if(!s._isReadableStream)for(const b of p)s._layoutText(b);i.resolve()}}(this)},this._capability.reject)}}se.TextLayerRenderTask=m},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AnnotationEditorLayer=void 0;var ce=ye(1),he=ye(4),E=ye(28),V=ye(33),n=ye(6),j=ye(34);class x{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#r=new Map;#s=!1;#c=!1;#l=!1;#a;static _initialized=!1;constructor({uiManager:t,pageIndex:a,div:F,accessibilityManager:m,annotationLayer:y,viewport:k,l10n:s}){const p=[E.FreeTextEditor,V.InkEditor,j.StampEditor];if(!x._initialized){x._initialized=!0;for(const i of p)i.initialize(s)}t.registerEditorTypes(p),this.#a=t,this.pageIndex=a,this.div=F,this.#e=m,this.#n=y,this.viewport=k,this.#a.addLayer(this)}get isEmpty(){return 0===this.#r.size}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){this.#f(),t===ce.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),t!==ce.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",t===ce.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",t===ce.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",t===ce.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(t){if(t||this.#a.getMode()===ce.AnnotationEditorType.INK){if(!t)for(const F of this.#r.values())if(F.isEmpty())return void F.setInBackground();this.#u({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}enable(){this.div.style.pointerEvents="auto";const t=new Set;for(const F of this.#r.values())F.enableEditing(),F.annotationElementId&&t.add(F.annotationElementId);if(!this.#n)return;const a=this.#n.getEditableAnnotations();for(const F of a){if(F.hide(),this.#a.isDeletedAnnotationElement(F.data.id)||t.has(F.data.id))continue;const m=this.deserialize(F);m&&(this.addOrRebuild(m),m.enableEditing())}}disable(){this.#l=!0,this.div.style.pointerEvents="none";const t=new Set;for(const a of this.#r.values())a.disableEditing(),a.annotationElementId&&null===a.serialize()?(this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()):t.add(a.annotationElementId);if(this.#n){const a=this.#n.getEditableAnnotations();for(const F of a){const{id:m}=F.data;t.has(m)||this.#a.isDeletedAnnotationElement(m)||F.show()}}this.#f(),this.isEmpty&&(this.div.hidden=!0),this.#l=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#i)}attach(t){this.#r.set(t.id,t);const{annotationElementId:a}=t;a&&this.#a.isDeletedAnnotationElement(a)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#l&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.contains(document.activeElement)&&setTimeout(()=>{this.#a.focusMainContainer()},0),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),he.AnnotationEditor.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){const a=t.render();this.div.append(a),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#a.addToAnnotationStorage(t)}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:a}=document;t.div.contains(a)&&(t._focusEventsAllowed=!1,setTimeout(()=>{t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),a.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#a.getId()}#g(t){switch(this.#a.getMode()){case ce.AnnotationEditorType.FREETEXT:return new E.FreeTextEditor(t);case ce.AnnotationEditorType.INK:return new V.InkEditor(t);case ce.AnnotationEditorType.STAMP:return new j.StampEditor(t)}return null}pasteEditor(t,a){this.#a.updateToolbar(t),this.#a.updateMode(t);const{offsetX:F,offsetY:m}=this.#d(),y=this.getNextId(),k=this.#g({parent:this,id:y,x:F,y:m,uiManager:this.#a,isCentered:!0,...a});k&&this.add(k)}deserialize(t){switch(t.annotationType??t.annotationEditorType){case ce.AnnotationEditorType.FREETEXT:return E.FreeTextEditor.deserialize(t,this,this.#a);case ce.AnnotationEditorType.INK:return V.InkEditor.deserialize(t,this,this.#a);case ce.AnnotationEditorType.STAMP:return j.StampEditor.deserialize(t,this,this.#a)}return null}#u(t,a){const F=this.getNextId(),m=this.#g({parent:this,id:F,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:a});return m&&this.add(m),m}#d(){const{x:t,y:a,width:F,height:m}=this.div.getBoundingClientRect(),y=Math.max(0,t),k=Math.max(0,a),i=(y+Math.min(window.innerWidth,t+F))/2-t,D=(k+Math.min(window.innerHeight,a+m))/2-a,[b,O]=this.viewport.rotation%180==0?[i,D]:[D,i];return{offsetX:b,offsetY:O}}addNewEditor(){this.#u(this.#d(),!0)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}isSelected(t){return this.#a.isSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){const{isMac:a}=ce.FeatureTest.platform;if(!(0!==t.button||t.ctrlKey&&a)&&t.target===this.div&&this.#s){if(this.#s=!1,!this.#t)return void(this.#t=!0);if(this.#a.getMode()===ce.AnnotationEditorType.STAMP)return void this.#a.unselectAll();this.#u(t,!1)}}pointerdown(t){if(this.#s)return void(this.#s=!1);const{isMac:a}=ce.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&a||t.target!==this.div)return;this.#s=!0;const F=this.#a.getActive();this.#t=!F||F.isEmpty()}findNewParent(t,a,F){const m=this.#a.findParent(a,F);return null!==m&&m!==this&&(m.changeParent(t),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null));for(const t of this.#r.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#a.removeLayer(this)}#f(){this.#c=!0;for(const t of this.#r.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,(0,n.setLayerDimensions)(this.div,t);for(const a of this.#a.getEditors(this.pageIndex))this.add(a);this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.viewport=t,(0,n.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:t,pageHeight:a}=this.viewport.rawDims;return[t,a]}}se.AnnotationEditorLayer=x},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.FreeTextEditor=void 0;var ce=ye(1),he=ye(5),E=ye(4),V=ye(29);class n extends E.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#o;#r="";#s=`${this.id}-editor`;#c;#l=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const x=n.prototype,e=F=>F.isEmpty(),t=he.AnnotationEditorUIManager.TRANSLATE_SMALL,a=he.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,ce.shadow)(this,"_keyboardManager",new he.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],x.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],x.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],x._translateEmpty,{args:[-t,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],x._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],x._translateEmpty,{args:[t,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],x._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],x._translateEmpty,{args:[0,-t],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],x._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],x._translateEmpty,{args:[0,t],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],x._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";constructor(x){super({...x,name:"freeTextEditor"}),this.#o=x.color||n._defaultColor||E.AnnotationEditor._defaultLineColor,this.#c=x.fontSize||n._defaultFontSize}static initialize(x){E.AnnotationEditor.initialize(x,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(x,e){switch(x){case ce.AnnotationEditorParamsType.FREETEXT_SIZE:n._defaultFontSize=e;break;case ce.AnnotationEditorParamsType.FREETEXT_COLOR:n._defaultColor=e}}updateParams(x,e){switch(x){case ce.AnnotationEditorParamsType.FREETEXT_SIZE:this.#a(e);break;case ce.AnnotationEditorParamsType.FREETEXT_COLOR:this.#g(e)}}static get defaultPropertiesToUpdate(){return[[ce.AnnotationEditorParamsType.FREETEXT_SIZE,n._defaultFontSize],[ce.AnnotationEditorParamsType.FREETEXT_COLOR,n._defaultColor||E.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[ce.AnnotationEditorParamsType.FREETEXT_SIZE,this.#c],[ce.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#a(x){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-this.#c)*this.parentScale),this.#c=a,this.#d()},t=this.#c;this.addCommands({cmd:()=>{e(x)},undo:()=>{e(t)},mustExec:!0,type:ce.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#g(x){const e=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=x},undo:()=>{this.#o=this.editorDiv.style.color=e},mustExec:!0,type:ce.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(x,e){this._uiManager.translateSelectedEditors(x,e,!0)}getInitialTranslation(){const x=this.parentScale;return[-n._internalPadding*x,-(n._internalPadding+this.#c)*x]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ce.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(x){this._focusEventsAllowed&&(super.focusin(x),x.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width?this.#m():(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#u(){const x=this.editorDiv.getElementsByTagName("div");if(0===x.length)return this.editorDiv.innerText;const e=[];for(const t of x)e.push(t.innerText.replace(/\r\n?|\n/,""));return e.join("\n")}#d(){const[x,e]=this.parentDimensions;let t;if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{const{currentLayer:a,div:F}=this,m=F.style.display;F.style.display="hidden",a.div.append(this.div),t=F.getBoundingClientRect(),F.remove(),F.style.display=m}this.rotation%180==this.parentRotation%180?(this.width=t.width/x,this.height=t.height/e):(this.width=t.height/x,this.height=t.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const x=this.#r,e=this.#r=this.#u().trimEnd();if(x===e)return;const t=a=>{this.#r=a,a?(this.#f(),this._uiManager.rebuild(this),this.#d()):this.remove()};this.addCommands({cmd:()=>{t(e)},undo:()=>{t(x)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(x){this.enterInEditMode()}keydown(x){x.target===this.div&&"Enter"===x.key&&(this.enterInEditMode(),x.preventDefault())}editorDivKeydown(x){n._keyboardManager.exec(this,x)}editorDivFocus(x){this.isEditing=!0}editorDivBlur(x){this.isEditing=!1}editorDivInput(x){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let x,e;this.width&&(x=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),E.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(a=>this.editorDiv?.setAttribute("aria-label",a)),E.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(a=>this.editorDiv?.setAttribute("default-content",a)),this.editorDiv.contentEditable=!0;const{style:t}=this.editorDiv;if(t.fontSize=`calc(${this.#c}px * var(--scale-factor))`,t.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,he.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[a,F]=this.parentDimensions;if(this.annotationElementId){const{position:m}=this.#l;let[y,k]=this.getInitialTranslation();[y,k]=this.pageTranslationToScreen(y,k);const[s,p]=this.pageDimensions,[i,D]=this.pageTranslation;let b,O;switch(this.rotation){case 0:b=x+(m[0]-i)/s,O=e+this.height-(m[1]-D)/p;break;case 90:b=x+(m[0]-i)/s,O=e-(m[1]-D)/p,[y,k]=[k,-y];break;case 180:b=x-this.width+(m[0]-i)/s,O=e-(m[1]-D)/p,[y,k]=[-y,-k];break;case 270:b=x+(m[0]-i-this.height*p)/s,O=e+(m[1]-D-this.width*s)/p,[y,k]=[-k,y]}this.setAt(b*a,O*F,y,k)}else this.setAt(x*a,e*F,this.width*a,this.height*F);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#f(){if(this.editorDiv.replaceChildren(),this.#r)for(const x of this.#r.split("\n")){const e=document.createElement("div");e.append(x?document.createTextNode(x):document.createElement("br")),this.editorDiv.append(e)}}get contentDiv(){return this.editorDiv}static deserialize(x,e,t){let a=null;if(x instanceof V.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:m,fontColor:y},rect:k,rotation:s,id:p},textContent:i,textPosition:D,parent:{page:{pageNumber:b}}}=x;if(!i||0===i.length)return null;a=x={annotationType:ce.AnnotationEditorType.FREETEXT,color:Array.from(y),fontSize:m,value:i.join("\n"),position:D,pageIndex:b-1,rect:k,rotation:s,id:p,deleted:!1}}const F=super.deserialize(x,e,t);return F.#c=x.fontSize,F.#o=ce.Util.makeHexColor(...x.color),F.#r=x.value,F.annotationElementId=x.id||null,F.#l=a,F}serialize(x=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=n._internalPadding*this.parentScale,t=this.getRect(e,e),a=E.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),F={annotationType:ce.AnnotationEditorType.FREETEXT,color:a,fontSize:this.#c,value:this.#r,pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return x?F:this.annotationElementId&&!this.#x(F)?null:(F.id=this.annotationElementId,F)}#x(x){const{value:e,fontSize:t,color:a,rect:F,pageIndex:m}=this.#l;return x.value!==e||x.fontSize!==t||x.rect.some((y,k)=>Math.abs(y-F[k])>=1)||x.color.some((y,k)=>y!==a[k])||x.pageIndex!==m}#m(x=!1){if(!this.annotationElementId)return;if(this.#d(),!x&&(0===this.width||0===this.height))return void setTimeout(()=>this.#m(!0),0);const e=n._internalPadding*this.parentScale;this.#l.rect=this.getRect(e,e)}}se.FreeTextEditor=n},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.StampAnnotationElement=se.InkAnnotationElement=se.FreeTextAnnotationElement=se.AnnotationLayer=void 0;var ce=ye(1),he=ye(6),E=ye(3),V=ye(30),n=ye(31),j=ye(32);const x=1e3,t=new WeakSet;function a(_){return{width:_[2]-_[0],height:_[3]-_[1]}}class F{static create(w){switch(w.data.annotationType){case ce.AnnotationType.LINK:return new y(w);case ce.AnnotationType.TEXT:return new k(w);case ce.AnnotationType.WIDGET:switch(w.data.fieldType){case"Tx":return new p(w);case"Btn":return w.data.radioButton?new b(w):w.data.checkBox?new D(w):new O(w);case"Ch":return new v(w);case"Sig":return new i(w)}return new s(w);case ce.AnnotationType.POPUP:return new S(w);case ce.AnnotationType.FREETEXT:return new B(w);case ce.AnnotationType.LINE:return new g(w);case ce.AnnotationType.SQUARE:return new L(w);case ce.AnnotationType.CIRCLE:return new C(w);case ce.AnnotationType.POLYLINE:return new h(w);case ce.AnnotationType.CARET:return new l(w);case ce.AnnotationType.INK:return new r(w);case ce.AnnotationType.POLYGON:return new M(w);case ce.AnnotationType.HIGHLIGHT:return new f(w);case ce.AnnotationType.UNDERLINE:return new c(w);case ce.AnnotationType.SQUIGGLY:return new u(w);case ce.AnnotationType.STRIKEOUT:return new I(w);case ce.AnnotationType.STAMP:return new A(w);case ce.AnnotationType.FILEATTACHMENT:return new P(w);default:return new m(w)}}}class m{#e=!1;constructor(w,{isRenderable:T=!1,ignoreBorder:N=!1,createQuadrilaterals:H=!1}={}){this.isRenderable=T,this.data=w.data,this.layer=w.layer,this.linkService=w.linkService,this.downloadManager=w.downloadManager,this.imageResourcesPath=w.imageResourcesPath,this.renderForms=w.renderForms,this.svgFactory=w.svgFactory,this.annotationStorage=w.annotationStorage,this.enableScripting=w.enableScripting,this.hasJSActions=w.hasJSActions,this._fieldObjects=w.fieldObjects,this.parent=w.parent,T&&(this.container=this._createContainer(N)),H&&this._createQuadrilaterals()}static _hasPopupData({titleObj:w,contentsObj:T,richText:N}){return!!(w?.str||T?.str||N?.str)}get hasPopupData(){return m._hasPopupData(this.data)}_createContainer(w){const{data:T,parent:{page:N,viewport:H}}=this,z=document.createElement("section");z.setAttribute("data-annotation-id",T.id),this instanceof s||(z.tabIndex=x),z.style.zIndex=this.parent.zIndex++,this.data.popupRef&&z.setAttribute("aria-haspopup","dialog"),T.noRotate&&z.classList.add("norotate");const{pageWidth:U,pageHeight:q,pageX:J,pageY:oe}=H.rawDims;if(!T.rect||this instanceof S){const{rotation:G}=T;return!T.hasOwnCanvas&&0!==G&&this.setRotation(G,z),z}const{width:ne,height:Q}=a(T.rect),R=ce.Util.normalizeRect([T.rect[0],N.view[3]-T.rect[1]+N.view[1],T.rect[2],N.view[3]-T.rect[3]+N.view[1]]);if(!w&&T.borderStyle.width>0){z.style.borderWidth=`${T.borderStyle.width}px`;const G=T.borderStyle.horizontalCornerRadius,Y=T.borderStyle.verticalCornerRadius;switch(G>0||Y>0?z.style.borderRadius=`calc(${G}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`:this instanceof b&&(z.style.borderRadius=`calc(${ne}px * var(--scale-factor)) / calc(${Q}px * var(--scale-factor))`),T.borderStyle.style){case ce.AnnotationBorderStyleType.SOLID:z.style.borderStyle="solid";break;case ce.AnnotationBorderStyleType.DASHED:z.style.borderStyle="dashed";break;case ce.AnnotationBorderStyleType.BEVELED:(0,ce.warn)("Unimplemented border style: beveled");break;case ce.AnnotationBorderStyleType.INSET:(0,ce.warn)("Unimplemented border style: inset");break;case ce.AnnotationBorderStyleType.UNDERLINE:z.style.borderBottomStyle="solid"}const K=T.borderColor||null;K?(this.#e=!0,z.style.borderColor=ce.Util.makeHexColor(0|K[0],0|K[1],0|K[2])):z.style.borderWidth=0}z.style.left=100*(R[0]-J)/U+"%",z.style.top=100*(R[1]-oe)/q+"%";const{rotation:X}=T;return T.hasOwnCanvas||0===X?(z.style.width=100*ne/U+"%",z.style.height=100*Q/q+"%"):this.setRotation(X,z),z}setRotation(w,T=this.container){if(!this.data.rect)return;const{pageWidth:N,pageHeight:H}=this.parent.viewport.rawDims,{width:z,height:U}=a(this.data.rect);let q,J;w%180==0?(q=100*z/N,J=100*U/H):(q=100*U/N,J=100*z/H),T.style.width=`${q}%`,T.style.height=`${J}%`,T.setAttribute("data-main-rotation",(360-w)%360)}get _commonActions(){const w=(T,N,H)=>{const z=H.detail[T],U=z[0],q=z.slice(1);H.target.style[N]=V.ColorConverters[`${U}_HTML`](q),this.annotationStorage.setValue(this.data.id,{[N]:V.ColorConverters[`${U}_rgb`](q)})};return(0,ce.shadow)(this,"_commonActions",{display:T=>{const{display:N}=T.detail,H=N%2==1;this.container.style.visibility=H?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:H,noPrint:1===N||2===N})},print:T=>{this.annotationStorage.setValue(this.data.id,{noPrint:!T.detail.print})},hidden:T=>{const{hidden:N}=T.detail;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:N,noView:N})},focus:T=>{setTimeout(()=>T.target.focus({preventScroll:!1}),0)},userName:T=>{T.target.title=T.detail.userName},readonly:T=>{T.target.disabled=T.detail.readonly},required:T=>{this._setRequired(T.target,T.detail.required)},bgColor:T=>{w("bgColor","backgroundColor",T)},fillColor:T=>{w("fillColor","backgroundColor",T)},fgColor:T=>{w("fgColor","color",T)},textColor:T=>{w("textColor","color",T)},borderColor:T=>{w("borderColor","borderColor",T)},strokeColor:T=>{w("strokeColor","borderColor",T)},rotation:T=>{const N=T.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(w,T){const N=this._commonActions;for(const H of Object.keys(T.detail))(w[H]||N[H])?.(T)}_setDefaultPropertiesFromJS(w){if(!this.enableScripting)return;const T=this.annotationStorage.getRawValue(this.data.id);if(!T)return;const N=this._commonActions;for(const[H,z]of Object.entries(T)){const U=N[H];U&&(U({detail:{[H]:z},target:w}),delete T[H])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:w}=this.data;if(!w)return;const[T,N,H,z]=this.data.rect;if(1===w.length){const[,{x:Y,y:K},{x:Z,y:ae}]=w[0];if(H===Y&&z===K&&T===Z&&N===ae)return}const{style:U}=this.container;let q;if(this.#e){const{borderColor:Y,borderWidth:K}=U;U.borderWidth=0,q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Y}" stroke-width="${K}">`],this.container.classList.add("hasBorder")}const J=H-T,oe=z-N,{svgFactory:ne}=this,Q=ne.createElement("svg");Q.classList.add("quadrilateralsContainer"),Q.setAttribute("width",0),Q.setAttribute("height",0);const R=ne.createElement("defs");Q.append(R);const X=ne.createElement("clipPath"),G=`clippath_${this.data.id}`;X.setAttribute("id",G),X.setAttribute("clipPathUnits","objectBoundingBox"),R.append(X);for(const[,{x:Y,y:K},{x:Z,y:ae}]of w){const ie=ne.createElement("rect"),te=(Z-T)/J,re=(z-K)/oe,ee=(Y-Z)/J,le=(K-ae)/oe;ie.setAttribute("x",te),ie.setAttribute("y",re),ie.setAttribute("width",ee),ie.setAttribute("height",le),X.append(ie),q?.push(`<rect vector-effect="non-scaling-stroke" x="${te}" y="${re}" width="${ee}" height="${le}"/>`)}this.#e&&(q.push("</g></svg>')"),U.backgroundImage=q.join("")),this.container.append(Q),this.container.style.clipPath=`url(#${G})`}_createPopup(){const{container:w,data:T}=this;w.setAttribute("aria-haspopup","dialog");const N=new S({data:{color:T.color,titleObj:T.titleObj,modificationDate:T.modificationDate,contentsObj:T.contentsObj,richText:T.richText,parentRect:T.rect,borderStyle:0,id:`popup_${T.id}`,rotation:T.rotation},parent:this.parent,elements:[this]});this.parent.div.append(N.render())}render(){(0,ce.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(w,T=null){const N=[];if(this._fieldObjects){const H=this._fieldObjects[w];if(H)for(const{page:z,id:U,exportValues:q}of H){if(-1===z||U===T)continue;const J="string"==typeof q?q:null,oe=document.querySelector(`[data-element-id="${U}"]`);!oe||t.has(oe)?N.push({id:U,exportValue:J,domElement:oe}):(0,ce.warn)(`_getElementsByName - element not allowed: ${U}`)}return N}for(const H of document.getElementsByName(w)){const{exportValue:z}=H,U=H.getAttribute("data-element-id");U!==T&&t.has(H)&&N.push({id:U,exportValue:z,domElement:H})}return N}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const w=this.getElementsToTriggerPopup();if(Array.isArray(w))for(const T of w)T.classList.add("highlightArea");else w.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:w,data:{id:T}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:w,editId:T})})}}class y extends m{constructor(w,T=null){super(w,{isRenderable:!0,ignoreBorder:!!T?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=w.data.isTooltipOnly}render(){const{data:w,linkService:T}=this,N=document.createElement("a");N.setAttribute("data-element-id",w.id);let H=!1;return w.url?(T.addLinkAttributes(N,w.url,w.newWindow),H=!0):w.action?(this._bindNamedAction(N,w.action),H=!0):w.attachment?(this._bindAttachment(N,w.attachment),H=!0):w.setOCGState?(this.#t(N,w.setOCGState),H=!0):w.dest?(this._bindLink(N,w.dest),H=!0):(w.actions&&(w.actions.Action||w.actions["Mouse Up"]||w.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,w),H=!0),w.resetForm?(this._bindResetFormAction(N,w.resetForm),H=!0):this.isTooltipOnly&&!H&&(this._bindLink(N,""),H=!0)),this.container.classList.add("linkAnnotation"),H&&this.container.append(N),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(w,T){w.href=this.linkService.getDestinationHash(T),w.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||""===T)&&this.#e()}_bindNamedAction(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeNamedAction(T),!1),this.#e()}_bindAttachment(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,T.content,T.filename),!1),this.#e()}#t(w,T){w.href=this.linkService.getAnchorUrl(""),w.onclick=()=>(this.linkService.executeSetOCGState(T),!1),this.#e()}_bindJSAction(w,T){w.href=this.linkService.getAnchorUrl("");const N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const H of Object.keys(T.actions)){const z=N.get(H);z&&(w[z]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:H}}),!1))}w.onclick||(w.onclick=()=>!1),this.#e()}_bindResetFormAction(w,T){const N=w.onclick;if(N||(w.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return(0,ce.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(N||(w.onclick=()=>!1));w.onclick=()=>{N?.();const{fields:H,refs:z,include:U}=T,q=[];if(0!==H.length||0!==z.length){const ne=new Set(z);for(const Q of H){const R=this._fieldObjects[Q]||[];for(const{id:X}of R)ne.add(X)}for(const Q of Object.values(this._fieldObjects))for(const R of Q)ne.has(R.id)===U&&q.push(R)}else for(const ne of Object.values(this._fieldObjects))q.push(...ne);const J=this.annotationStorage,oe=[];for(const ne of q){const{id:Q}=ne;switch(oe.push(Q),ne.type){case"text":case"combobox":case"listbox":J.setValue(Q,{value:ne.defaultValue||""});break;case"checkbox":case"radiobutton":J.setValue(Q,{value:ne.defaultValue===ne.exportValues});break;default:continue}const R=document.querySelector(`[data-element-id="${Q}"]`);R&&(t.has(R)?R.dispatchEvent(new Event("resetform")):(0,ce.warn)(`_bindResetFormAction - element not allowed: ${Q}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:oe,name:"ResetForm"}}),!1}}}class k extends m{constructor(w){super(w,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const w=document.createElement("img");return w.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",w.alt="[{{type}} Annotation]",w.dataset.l10nId="text_annotation_type",w.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(w),this.container}}class s extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(w){this.data.hasOwnCanvas&&("CANVAS"===w.previousSibling?.nodeName&&(w.previousSibling.hidden=!0),w.hidden=!1)}_getKeyModifier(w){const{isWin:T,isMac:N}=ce.FeatureTest.platform;return T&&w.ctrlKey||N&&w.metaKey}_setEventListener(w,T,N,H,z){N.includes("mouse")?w.addEventListener(N,U=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:H,value:z(U),shift:U.shiftKey,modifier:this._getKeyModifier(U)}})}):w.addEventListener(N,U=>{if("blur"===N){if(!T.focused||!U.relatedTarget)return;T.focused=!1}else if("focus"===N){if(T.focused)return;T.focused=!0}z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:H,value:z(U)}})})}_setEventListeners(w,T,N,H){for(const[z,U]of N)("Action"===U||this.data.actions?.[U])&&(("Focus"===U||"Blur"===U)&&(T||={focused:!1}),this._setEventListener(w,T,z,U,H),"Focus"!==U||this.data.actions?.Blur?"Blur"===U&&!this.data.actions?.Focus&&this._setEventListener(w,T,"focus","Focus",null):this._setEventListener(w,T,"blur","Blur",null))}_setBackgroundColor(w){const T=this.data.backgroundColor||null;w.style.backgroundColor=null===T?"transparent":ce.Util.makeHexColor(T[0],T[1],T[2])}_setTextStyle(w){const{fontColor:N}=this.data.defaultAppearanceData,H=this.data.defaultAppearanceData.fontSize||9,z=w.style;let U;const J=oe=>Math.round(10*oe)/10;if(this.data.multiLine){const oe=Math.abs(this.data.rect[3]-this.data.rect[1]-2),ne=Math.round(oe/(ce.LINE_FACTOR*H))||1;U=Math.min(H,J(oe/ne/ce.LINE_FACTOR))}else{const oe=Math.abs(this.data.rect[3]-this.data.rect[1]-2);U=Math.min(H,J(oe/ce.LINE_FACTOR))}z.fontSize=`calc(${U}px * var(--scale-factor))`,z.color=ce.Util.makeHexColor(N[0],N[1],N[2]),null!==this.data.textAlignment&&(z.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(w,T){T?w.setAttribute("required",!0):w.removeAttribute("required"),w.setAttribute("aria-required",T)}}class p extends s{constructor(w){super(w,{isRenderable:w.renderForms||!w.data.hasAppearance&&!!w.data.fieldValue})}setPropertyOnSiblings(w,T,N,H){const z=this.annotationStorage;for(const U of this._getElementsByName(w.name,w.id))U.domElement&&(U.domElement[T]=N),z.setValue(U.id,{[H]:N})}render(){const w=this.annotationStorage,T=this.data.id;this.container.classList.add("textWidgetAnnotation");let N=null;if(this.renderForms){const H=w.getValue(T,{value:this.data.fieldValue});let z=H.value||"";const U=w.getValue(T,{charLimit:this.data.maxLen}).charLimit;U&&z.length>U&&(z=z.slice(0,U));let q=H.formattedValue||this.data.textContent?.join("\n")||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));const J={userValue:z,formattedValue:q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=q??z,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",q??z),this.data.doNotScroll&&(N.style.overflowX="hidden")),this.data.hasOwnCanvas&&(N.hidden=!0),t.add(N),N.setAttribute("data-element-id",T),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=x,this._setRequired(N,this.data.required),U&&(N.maxLength=U),N.addEventListener("input",ne=>{w.setValue(T,{value:ne.target.value}),this.setPropertyOnSiblings(N,"value",ne.target.value,"value"),J.formattedValue=null}),N.addEventListener("resetform",ne=>{N.value=J.userValue=this.data.defaultFieldValue??"",J.formattedValue=null});let oe=ne=>{const{formattedValue:Q}=J;null!=Q&&(ne.target.value=Q),ne.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",Q=>{if(J.focused)return;const{target:R}=Q;J.userValue&&(R.value=J.userValue),J.lastCommittedValue=R.value,J.commitKey=1,J.focused=!0}),N.addEventListener("updatefromsandbox",Q=>{this.showElementAndHideCanvas(Q.target),this._dispatchEventFromSandbox({value(X){J.userValue=X.detail.value??"",w.setValue(T,{value:J.userValue.toString()}),X.target.value=J.userValue},formattedValue(X){const{formattedValue:G}=X.detail;J.formattedValue=G,null!=G&&X.target!==document.activeElement&&(X.target.value=G),w.setValue(T,{formattedValue:G})},selRange(X){X.target.setSelectionRange(...X.detail.selRange)},charLimit:X=>{const{charLimit:G}=X.detail,{target:Y}=X;if(0===G)return void Y.removeAttribute("maxLength");Y.setAttribute("maxLength",G);let K=J.userValue;!K||K.length<=G||(K=K.slice(0,G),Y.value=J.userValue=K,w.setValue(T,{value:K}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:K,willCommit:!0,commitKey:1,selStart:Y.selectionStart,selEnd:Y.selectionEnd}}))}},Q)}),N.addEventListener("keydown",Q=>{J.commitKey=1;let R=-1;if("Escape"===Q.key?R=0:"Enter"!==Q.key||this.data.multiLine?"Tab"===Q.key&&(J.commitKey=3):R=2,-1===R)return;const{value:X}=Q.target;J.lastCommittedValue!==X&&(J.lastCommittedValue=X,J.userValue=X,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:X,willCommit:!0,commitKey:R,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}))});const ne=oe;oe=null,N.addEventListener("blur",Q=>{if(!J.focused||!Q.relatedTarget)return;J.focused=!1;const{value:R}=Q.target;J.userValue=R,J.lastCommittedValue!==R&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:R,willCommit:!0,commitKey:J.commitKey,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}),ne(Q)}),this.data.actions?.Keystroke&&N.addEventListener("beforeinput",Q=>{J.lastCommittedValue=null;const{data:R,target:X}=Q,{value:G,selectionStart:Y,selectionEnd:K}=X;let Z=Y,ae=K;switch(Q.inputType){case"deleteWordBackward":{const ie=G.substring(0,Y).match(/\w*[^\w]*$/);ie&&(Z-=ie[0].length);break}case"deleteWordForward":{const ie=G.substring(Y).match(/^[^\w]*\w*/);ie&&(ae+=ie[0].length);break}case"deleteContentBackward":Y===K&&(Z-=1);break;case"deleteContentForward":Y===K&&(ae+=1)}Q.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:G,change:R||"",willCommit:!1,selStart:Z,selEnd:ae}})}),this._setEventListeners(N,J,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.value)}if(oe&&N.addEventListener("blur",oe),this.data.comb){const Q=(this.data.rect[2]-this.data.rect[0])/U;N.classList.add("comb"),N.style.letterSpacing=`calc(${Q}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class i extends s{constructor(w){super(w,{isRenderable:!!w.data.hasOwnCanvas})}}class D extends s{constructor(w){super(w,{isRenderable:w.renderForms})}render(){const w=this.annotationStorage,T=this.data,N=T.id;let H=w.getValue(N,{value:T.exportValue===T.fieldValue}).value;"string"==typeof H&&(H="Off"!==H,w.setValue(N,{value:H})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const z=document.createElement("input");return t.add(z),z.setAttribute("data-element-id",N),z.disabled=T.readOnly,this._setRequired(z,this.data.required),z.type="checkbox",z.name=T.fieldName,H&&z.setAttribute("checked",!0),z.setAttribute("exportValue",T.exportValue),z.tabIndex=x,z.addEventListener("change",U=>{const{name:q,checked:J}=U.target;for(const oe of this._getElementsByName(q,N)){const ne=J&&oe.exportValue===T.exportValue;oe.domElement&&(oe.domElement.checked=ne),w.setValue(oe.id,{value:ne})}w.setValue(N,{value:J})}),z.addEventListener("resetform",U=>{U.target.checked=(T.defaultFieldValue||"Off")===T.exportValue}),this.enableScripting&&this.hasJSActions&&(z.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(J){J.target.checked="Off"!==J.detail.value,w.setValue(N,{value:J.target.checked})}},U)}),this._setEventListeners(z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)),this._setBackgroundColor(z),this._setDefaultPropertiesFromJS(z),this.container.append(z),this.container}}class b extends s{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const w=this.annotationStorage,T=this.data,N=T.id;let H=w.getValue(N,{value:T.fieldValue===T.buttonValue}).value;"string"==typeof H&&(H=H!==T.buttonValue,w.setValue(N,{value:H}));const z=document.createElement("input");if(t.add(z),z.setAttribute("data-element-id",N),z.disabled=T.readOnly,this._setRequired(z,this.data.required),z.type="radio",z.name=T.fieldName,H&&z.setAttribute("checked",!0),z.tabIndex=x,z.addEventListener("change",U=>{const{name:q,checked:J}=U.target;for(const oe of this._getElementsByName(q,N))w.setValue(oe.id,{value:!1});w.setValue(N,{value:J})}),z.addEventListener("resetform",U=>{const q=T.defaultFieldValue;U.target.checked=null!=q&&q===T.buttonValue}),this.enableScripting&&this.hasJSActions){const U=T.buttonValue;z.addEventListener("updatefromsandbox",q=>{this._dispatchEventFromSandbox({value:oe=>{const ne=U===oe.detail.value;for(const Q of this._getElementsByName(oe.target.name)){const R=ne&&Q.id===N;Q.domElement&&(Q.domElement.checked=R),w.setValue(Q.id,{value:R})}}},q)}),this._setEventListeners(z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(z),this._setDefaultPropertiesFromJS(z),this.container.append(z),this.container}}class O extends y{constructor(w){super(w,{ignoreBorder:w.data.hasAppearance})}render(){const w=super.render();w.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(w.title=this.data.alternativeText);const T=w.lastChild;return this.enableScripting&&this.hasJSActions&&T&&(this._setDefaultPropertiesFromJS(T),T.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),w}}class v extends s{constructor(w){super(w,{isRenderable:w.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const w=this.annotationStorage,T=this.data.id,N=w.getValue(T,{value:this.data.fieldValue}),H=document.createElement("select");t.add(H),H.setAttribute("data-element-id",T),H.disabled=this.data.readOnly,this._setRequired(H,this.data.required),H.name=this.data.fieldName,H.tabIndex=x;let z=this.data.combo&&this.data.options.length>0;this.data.combo||(H.size=this.data.options.length,this.data.multiSelect&&(H.multiple=!0)),H.addEventListener("resetform",ne=>{const Q=this.data.defaultFieldValue;for(const R of H.options)R.selected=R.value===Q});for(const ne of this.data.options){const Q=document.createElement("option");Q.textContent=ne.displayValue,Q.value=ne.exportValue,N.value.includes(ne.exportValue)&&(Q.setAttribute("selected",!0),z=!1),H.append(Q)}let U=null;if(z){const ne=document.createElement("option");ne.value=" ",ne.setAttribute("hidden",!0),ne.setAttribute("selected",!0),H.prepend(ne),U=()=>{ne.remove(),H.removeEventListener("input",U),U=null},H.addEventListener("input",U)}const q=ne=>{const Q=ne?"value":"textContent",{options:R,multiple:X}=H;return X?Array.prototype.filter.call(R,G=>G.selected).map(G=>G[Q]):-1===R.selectedIndex?null:R[R.selectedIndex][Q]};let J=q(!1);const oe=ne=>Array.prototype.map.call(ne.target.options,R=>({displayValue:R.textContent,exportValue:R.value}));return this.enableScripting&&this.hasJSActions?(H.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({value(R){U?.();const X=R.detail.value,G=new Set(Array.isArray(X)?X:[X]);for(const Y of H.options)Y.selected=G.has(Y.value);w.setValue(T,{value:q(!0)}),J=q(!1)},multipleSelection(R){H.multiple=!0},remove(R){const X=H.options,G=R.detail.remove;X[G].selected=!1,H.remove(G),X.length>0&&-1===Array.prototype.findIndex.call(X,K=>K.selected)&&(X[0].selected=!0),w.setValue(T,{value:q(!0),items:oe(R)}),J=q(!1)},clear(R){for(;0!==H.length;)H.remove(0);w.setValue(T,{value:null,items:[]}),J=q(!1)},insert(R){const{index:X,displayValue:G,exportValue:Y}=R.detail.insert,K=H.children[X],Z=document.createElement("option");Z.textContent=G,Z.value=Y,K?K.before(Z):H.append(Z),w.setValue(T,{value:q(!0),items:oe(R)}),J=q(!1)},items(R){const{items:X}=R.detail;for(;0!==H.length;)H.remove(0);for(const G of X){const{displayValue:Y,exportValue:K}=G,Z=document.createElement("option");Z.textContent=Y,Z.value=K,H.append(Z)}H.options.length>0&&(H.options[0].selected=!0),w.setValue(T,{value:q(!0),items:oe(R)}),J=q(!1)},indices(R){const X=new Set(R.detail.indices);for(const G of R.target.options)G.selected=X.has(G.index);w.setValue(T,{value:q(!0)}),J=q(!1)},editable(R){R.target.disabled=!R.detail.editable}},ne)}),H.addEventListener("input",ne=>{const Q=q(!0);w.setValue(T,{value:Q}),ne.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:J,changeEx:Q,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(H,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ne=>ne.target.value)):H.addEventListener("input",function(ne){w.setValue(T,{value:q(!0)})}),this.data.combo&&this._setTextStyle(H),this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class S extends m{constructor(w){const{data:T,elements:N}=w;super(w,{isRenderable:m._hasPopupData(T)}),this.elements=N}render(){this.container.classList.add("popupAnnotation");const w=new d({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),T=[];for(const N of this.elements)N.popup=w,T.push(N.data.id),N.addHighlightArea();return this.container.setAttribute("aria-controls",T.map(N=>`${ce.AnnotationPrefix}${N}`).join(",")),this.container}}class d{#e=null;#t=this.#h.bind(this);#n=this.#S.bind(this);#i=this.#v.bind(this);#o=this.#b.bind(this);#r=null;#s=null;#c=null;#l=null;#a=null;#g=null;#u=!1;#d=null;#f=null;#x=null;#m=null;#p=!1;constructor({container:w,color:T,elements:N,titleObj:H,modificationDate:z,contentsObj:U,richText:q,parent:J,rect:oe,parentRect:ne,open:Q}){this.#s=w,this.#m=H,this.#c=U,this.#x=q,this.#a=J,this.#r=T,this.#f=oe,this.#g=ne,this.#l=N;const R=he.PDFDateString.toDateObject(z);R&&(this.#e=J.l10n.get("annotation_date_string",{date:R.toLocaleDateString(),time:R.toLocaleTimeString()})),this.trigger=N.flatMap(X=>X.getElementsToTriggerPopup());for(const X of this.trigger)X.addEventListener("click",this.#o),X.addEventListener("mouseenter",this.#i),X.addEventListener("mouseleave",this.#n),X.classList.add("popupTriggerArea");for(const X of N)X.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,Q&&this.#b()}render(){if(this.#d)return;const{page:{view:w},viewport:{rawDims:{pageWidth:T,pageHeight:N,pageX:H,pageY:z}}}=this.#a,U=this.#d=document.createElement("div");if(U.className="popup",this.#r){const ie=U.style.outlineColor=ce.Util.makeHexColor(...this.#r);U.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${ie} 30%, white)`:ce.Util.makeHexColor(...this.#r.map(re=>Math.floor(.7*(255-re)+re)))}const q=document.createElement("span");q.className="header";const J=document.createElement("h1");if(q.append(J),({dir:J.dir,str:J.textContent}=this.#m),U.append(q),this.#e){const ie=document.createElement("span");ie.classList.add("popupDate"),this.#e.then(te=>{ie.textContent=te}),q.append(ie)}const oe=this.#c,ne=this.#x;if(!ne?.str||oe?.str&&oe.str!==ne.str){const ie=this._formatContents(oe);U.append(ie)}else j.XfaLayer.render({xfaHtml:ne.html,intent:"richText",div:U}),U.lastChild.classList.add("richText","popupContent");let Q=!!this.#g,R=Q?this.#g:this.#f;for(const ie of this.#l)if(!R||null!==ce.Util.intersect(ie.data.rect,R)){R=ie.data.rect,Q=!0;break}const X=ce.Util.normalizeRect([R[0],w[3]-R[1]+w[1],R[2],w[3]-R[3]+w[1]]),K=X[0]+(Q?R[2]-R[0]+5:0),Z=X[1],{style:ae}=this.#s;ae.left=100*(K-H)/T+"%",ae.top=100*(Z-z)/N+"%",this.#s.append(U)}_formatContents({str:w,dir:T}){const N=document.createElement("p");N.classList.add("popupContent"),N.dir=T;const H=w.split(/(?:\r\n?|\n)/);for(let z=0,U=H.length;z<U;++z)N.append(document.createTextNode(H[z])),z<U-1&&N.append(document.createElement("br"));return N}#h(w){w.altKey||w.shiftKey||w.ctrlKey||w.metaKey||("Enter"===w.key||"Escape"===w.key&&this.#u)&&this.#b()}#b(){this.#u=!this.#u,this.#u?(this.#v(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#S(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#v(){this.#d||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!this.#u&&this.isVisible&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#p=this.isVisible,this.#p&&(this.#s.hidden=!0)}maybeShow(){this.#p&&(this.#p=!1,this.#s.hidden=!1)}get isVisible(){return!1===this.#s.hidden}}class B extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.textContent=w.data.textContent,this.textPosition=w.data.textPosition,this.annotationEditorType=ce.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const w=document.createElement("div");w.classList.add("annotationTextContent"),w.setAttribute("role","comment");for(const T of this.textContent){const N=document.createElement("span");N.textContent=T,w.append(N)}this.container.append(w)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}se.FreeTextAnnotationElement=B;class g extends m{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const w=this.data,{width:T,height:N}=a(w.rect),H=this.svgFactory.create(T,N,!0),z=this.#e=this.svgFactory.createElement("svg:line");return z.setAttribute("x1",w.rect[2]-w.lineCoordinates[0]),z.setAttribute("y1",w.rect[3]-w.lineCoordinates[1]),z.setAttribute("x2",w.rect[2]-w.lineCoordinates[2]),z.setAttribute("y2",w.rect[3]-w.lineCoordinates[3]),z.setAttribute("stroke-width",w.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),H.append(z),this.container.append(H),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class L extends m{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const w=this.data,{width:T,height:N}=a(w.rect),H=this.svgFactory.create(T,N,!0),z=w.borderStyle.width,U=this.#e=this.svgFactory.createElement("svg:rect");return U.setAttribute("x",z/2),U.setAttribute("y",z/2),U.setAttribute("width",T-z),U.setAttribute("height",N-z),U.setAttribute("stroke-width",z||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),H.append(U),this.container.append(H),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class C extends m{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const w=this.data,{width:T,height:N}=a(w.rect),H=this.svgFactory.create(T,N,!0),z=w.borderStyle.width,U=this.#e=this.svgFactory.createElement("svg:ellipse");return U.setAttribute("cx",T/2),U.setAttribute("cy",N/2),U.setAttribute("rx",T/2-z/2),U.setAttribute("ry",N/2-z/2),U.setAttribute("stroke-width",z||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),H.append(U),this.container.append(H),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class h extends m{#e=null;constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const w=this.data,{width:T,height:N}=a(w.rect),H=this.svgFactory.create(T,N,!0);let z=[];for(const q of w.vertices)z.push(q.x-w.rect[0]+","+(w.rect[3]-q.y));z=z.join(" ");const U=this.#e=this.svgFactory.createElement(this.svgElementName);return U.setAttribute("points",z),U.setAttribute("stroke-width",w.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),H.append(U),this.container.append(H),!w.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class M extends h{constructor(w){super(w),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class l extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class r extends m{#e=[];constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ce.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const w=this.data,{width:T,height:N}=a(w.rect),H=this.svgFactory.create(T,N,!0);for(const z of w.inkLists){let U=[];for(const J of z)U.push(`${J.x-w.rect[0]},${w.rect[3]-J.y}`);U=U.join(" ");const q=this.svgFactory.createElement(this.svgElementName);this.#e.push(q),q.setAttribute("points",U),q.setAttribute("stroke-width",w.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),!w.popupRef&&this.hasPopupData&&this._createPopup(),H.append(q)}return this.container.append(H),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}se.InkAnnotationElement=r;class f extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class c extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class u extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class I extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class A extends m{constructor(w){super(w,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}se.StampAnnotationElement=A;class P extends m{#e=null;constructor(w){super(w,{isRenderable:!0});const{filename:T,content:N}=this.data.file;this.filename=(0,he.getFilenameFromUrl)(T,!0),this.content=N,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:T,content:N})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:w,data:T}=this;let N;T.hasAppearance||0===T.fillAlpha?N=document.createElement("div"):(N=document.createElement("img"),N.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(T.name)?"paperclip":"pushpin"}.svg`,T.fillAlpha&&T.fillAlpha<1&&(N.style=`filter: opacity(${Math.round(100*T.fillAlpha)}%);`)),N.addEventListener("dblclick",this.#t.bind(this)),this.#e=N;const{isMac:H}=ce.FeatureTest.platform;return w.addEventListener("keydown",z=>{"Enter"===z.key&&(H?z.metaKey:z.ctrlKey)&&this.#t()}),!T.popupRef&&this.hasPopupData?this._createPopup():N.classList.add("popupTriggerArea"),w.append(N),w}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}se.AnnotationLayer=class ${#e=null;#t=null;#n=new Map;constructor({div:w,accessibilityManager:T,annotationCanvasMap:N,l10n:H,page:z,viewport:U}){this.div=w,this.#e=T,this.#t=N,this.l10n=H,this.page=z,this.viewport=U,this.zIndex=0,this.l10n||=n.NullL10n}#i(w,T){const N=w.firstChild||w;N.id=`${ce.AnnotationPrefix}${T}`,this.div.append(w),this.#e?.moveElementInDOM(this.div,w,N,!1)}async render(w){const{annotations:T}=w,N=this.div;(0,he.setLayerDimensions)(N,this.viewport);const H=new Map,z={data:null,layer:N,linkService:w.linkService,downloadManager:w.downloadManager,imageResourcesPath:w.imageResourcesPath||"",renderForms:!1!==w.renderForms,svgFactory:new he.DOMSVGFactory,annotationStorage:w.annotationStorage||new E.AnnotationStorage,enableScripting:!0===w.enableScripting,hasJSActions:w.hasJSActions,fieldObjects:w.fieldObjects,parent:this,elements:null};for(const U of T){if(U.noHTML)continue;const q=U.annotationType===ce.AnnotationType.POPUP;if(q){const ne=H.get(U.id);if(!ne)continue;z.elements=ne}else{const{width:ne,height:Q}=a(U.rect);if(ne<=0||Q<=0)continue}z.data=U;const J=F.create(z);if(!J.isRenderable)continue;if(!q&&U.popupRef){const ne=H.get(U.popupRef);ne?ne.push(J):H.set(U.popupRef,[J])}J.annotationEditorType>0&&this.#n.set(J.data.id,J);const oe=J.render();U.hidden&&(oe.style.visibility="hidden"),this.#i(oe,U.id)}this.#o(),await this.l10n.translate(N)}update({viewport:w}){const T=this.div;this.viewport=w,(0,he.setLayerDimensions)(T,{rotation:w.rotation}),this.#o(),T.hidden=!1}#o(){if(!this.#t)return;const w=this.div;for(const[T,N]of this.#t){const H=w.querySelector(`[data-annotation-id="${T}"]`);if(!H)continue;const{firstChild:z}=H;z?"CANVAS"===z.nodeName?z.replaceWith(N):z.before(N):H.append(N)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(w){return this.#n.get(w)}}},(ke,se)=>{function ye(E){return Math.floor(255*Math.max(0,Math.min(1,E))).toString(16).padStart(2,"0")}function ce(E){return Math.max(0,Math.min(255,255*E))}Object.defineProperty(se,"__esModule",{value:!0}),se.ColorConverters=void 0,se.ColorConverters=class he{static CMYK_G([V,n,j,x]){return["G",1-Math.min(1,.3*V+.59*j+.11*n+x)]}static G_CMYK([V]){return["CMYK",0,0,0,1-V]}static G_RGB([V]){return["RGB",V,V,V]}static G_rgb([V]){return[V=ce(V),V,V]}static G_HTML([V]){const n=ye(V);return`#${n}${n}${n}`}static RGB_G([V,n,j]){return["G",.3*V+.59*n+.11*j]}static RGB_rgb(V){return V.map(ce)}static RGB_HTML(V){return`#${V.map(ye).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([V,n,j,x]){return["RGB",1-Math.min(1,V+x),1-Math.min(1,j+x),1-Math.min(1,n+x)]}static CMYK_rgb([V,n,j,x]){return[ce(1-Math.min(1,V+x)),ce(1-Math.min(1,j+x)),ce(1-Math.min(1,n+x))]}static CMYK_HTML(V){const n=this.CMYK_RGB(V).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([V,n,j]){const x=1-V,e=1-n,t=1-j;return["CMYK",x,e,t,Math.min(x,e,t)]}}},(ke,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.NullL10n=void 0,se.getL10nFallback=ce;const ye={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function ce(V,n){switch(V){case"find_match_count":V=`find_match_count[${1===n.total?"one":"other"}]`;break;case"find_match_count_limit":V=`find_match_count_limit[${1===n.limit?"one":"other"}]`}return ye[V]||""}ye.print_progress_percent="{{progress}}%",se.NullL10n={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(V,n=null,j=ce(V,n))=>function he(V,n){return n?V.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(j,x)=>x in n?n[x]:"{{"+x+"}}"):V}(j,n),async translate(V){}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.XfaLayer=void 0;var ce=ye(25);se.XfaLayer=class he{static setupStorage(V,n,j,x,e){const t=x.getValue(n,{value:null});switch(j.name){case"textarea":if(null!==t.value&&(V.textContent=t.value),"print"===e)break;V.addEventListener("input",a=>{x.setValue(n,{value:a.target.value})});break;case"input":if("radio"===j.attributes.type||"checkbox"===j.attributes.type){if(t.value===j.attributes.xfaOn?V.setAttribute("checked",!0):t.value===j.attributes.xfaOff&&V.removeAttribute("checked"),"print"===e)break;V.addEventListener("change",a=>{x.setValue(n,{value:a.target.getAttribute(a.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==t.value&&V.setAttribute("value",t.value),"print"===e)break;V.addEventListener("input",a=>{x.setValue(n,{value:a.target.value})})}break;case"select":if(null!==t.value){V.setAttribute("value",t.value);for(const a of j.children)a.attributes.value===t.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}V.addEventListener("input",a=>{const F=a.target.options;x.setValue(n,{value:-1===F.selectedIndex?"":F[F.selectedIndex].value})})}}static setAttributes({html:V,element:n,storage:j=null,intent:x,linkService:e}){const{attributes:t}=n,a=V instanceof HTMLAnchorElement;"radio"===t.type&&(t.name=`${t.name}-${x}`);for(const[F,m]of Object.entries(t))if(null!=m)switch(F){case"class":m.length&&V.setAttribute(F,m.join(" "));break;case"dataId":break;case"id":V.setAttribute("data-element-id",m);break;case"style":Object.assign(V.style,m);break;case"textContent":V.textContent=m;break;default:(!a||"href"!==F&&"newWindow"!==F)&&V.setAttribute(F,m)}a&&e.addLinkAttributes(V,t.href,t.newWindow),j&&t.dataId&&this.setupStorage(V,t.dataId,n,j)}static render(V){const n=V.annotationStorage,j=V.linkService,x=V.xfaHtml,e=V.intent||"display",t=document.createElement(x.name);x.attributes&&this.setAttributes({html:t,element:x,intent:e,linkService:j});const a=[[x,-1,t]],F=V.div;if(F.append(t),V.viewport){const y=`matrix(${V.viewport.transform.join(",")})`;F.style.transform=y}"richText"!==e&&F.setAttribute("class","xfaLayer xfaFont");const m=[];for(;a.length>0;){const[y,k,s]=a.at(-1);if(k+1===y.children.length){a.pop();continue}const p=y.children[++a.at(-1)[1]];if(null===p)continue;const{name:i}=p;if("#text"===i){const b=document.createTextNode(p.value);m.push(b),s.append(b);continue}const D=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,i):document.createElement(i);if(s.append(D),p.attributes&&this.setAttributes({html:D,element:p,storage:n,intent:e,linkService:j}),p.children&&p.children.length>0)a.push([p,-1,D]);else if(p.value){const b=document.createTextNode(p.value);ce.XfaText.shouldBuildText(i)&&m.push(b),D.append(b)}}for(const y of F.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:m}}static update(V){const n=`matrix(${V.viewport.transform.join(",")})`;V.div.style.transform=n,V.div.hidden=!1}}},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.InkEditor=void 0;var ce=ye(1),he=ye(4),E=ye(29),V=ye(6),n=ye(5);class j extends he.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#r=this.canvasPointerdown.bind(this);#s=new Path2D;#c=!1;#l=!1;#a=!1;#g=null;#u=0;#d=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){he.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case ce.AnnotationEditorParamsType.INK_THICKNESS:j._defaultThickness=t;break;case ce.AnnotationEditorParamsType.INK_COLOR:j._defaultColor=t;break;case ce.AnnotationEditorParamsType.INK_OPACITY:j._defaultOpacity=t/100}}updateParams(e,t){switch(e){case ce.AnnotationEditorParamsType.INK_THICKNESS:this.#x(t);break;case ce.AnnotationEditorParamsType.INK_COLOR:this.#m(t);break;case ce.AnnotationEditorParamsType.INK_OPACITY:this.#p(t)}}static get defaultPropertiesToUpdate(){return[[ce.AnnotationEditorParamsType.INK_THICKNESS,j._defaultThickness],[ce.AnnotationEditorParamsType.INK_COLOR,j._defaultColor||he.AnnotationEditor._defaultLineColor],[ce.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*j._defaultOpacity)]]}get propertiesToUpdate(){return[[ce.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||j._defaultThickness],[ce.AnnotationEditorParamsType.INK_COLOR,this.color||j._defaultColor||he.AnnotationEditor._defaultLineColor],[ce.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??j._defaultOpacity))]]}#x(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,this.#k()},undo:()=>{this.thickness=t,this.#k()},mustExec:!0,type:ce.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,this.#y()},undo:()=>{this.color=t,this.#y()},mustExec:!0,type:ce.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#p(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,this.#y()},undo:()=>{this.opacity=t,this.#y()},mustExec:!0,type:ce.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#I(),this.#O()),this.isAttachedToDOM||(this.parent.add(this),this.#w()),this.#k()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#g.disconnect(),this.#g=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions;this.setDimensions(this.width*e,this.height*t)}enableEditMode(){this.#c||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#r))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#r))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#h(){const{parentRotation:e,parentDimensions:[t,a]}=this;switch(e){case 90:return[0,a,a,t];case 180:return[t,a,t,a];case 270:return[t,0,a,t];default:return[0,0,t,a]}}#b(){const{ctx:e,color:t,opacity:a,thickness:F,parentScale:m,scaleFactor:y}=this;e.lineWidth=F*m/y,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,n.opacityToHex)(a)}`}#v(e,t){this.canvas.addEventListener("contextmenu",V.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#r),this.isEditing=!0,this.#a||(this.#a=!0,this.#w(),this.thickness||=j._defaultThickness,this.color||=j._defaultColor||he.AnnotationEditor._defaultLineColor,this.opacity??=j._defaultOpacity),this.currentPath.push([e,t]),this.#l=!1,this.#b(),this.#f=()=>{this.#R(),this.#f&&window.requestAnimationFrame(this.#f)},window.requestAnimationFrame(this.#f)}#S(e,t){const[a,F]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===a&&t===F)return;const m=this.currentPath;let y=this.#s;if(m.push([e,t]),this.#l=!0,m.length<=2)return y.moveTo(...m[0]),void y.lineTo(e,t);3===m.length&&(this.#s=y=new Path2D,y.moveTo(...m[0])),this.#D(y,...m.at(-3),...m.at(-2),e,t)}#F(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#s.lineTo(...e)}#E(e,t){let a;if(this.#f=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#S(e,t),this.#F(),1!==this.currentPath.length)a=this.#L();else{const s=[e,t];a=[[s,s.slice(),s.slice(),s]]}const F=this.#s,m=this.currentPath;this.currentPath=[],this.#s=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(m),this.paths.push(a),this.bezierPath2D.push(F),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#I(),this.#O()),this.#k())},mustExec:!0})}#R(){if(!this.#l)return;this.#l=!1;Math.ceil(this.thickness*this.parentScale);const t=this.currentPath.slice(-3),a=t.map(i=>i[0]),F=t.map(i=>i[1]),{ctx:p}=(Math.min(...a),Math.max(...a),Math.min(...F),Math.max(...F),this);p.save(),p.clearRect(0,0,this.canvas.width,this.canvas.height);for(const i of this.bezierPath2D)p.stroke(i);p.stroke(this.#s),p.restore()}#D(e,t,a,F,m,y,k){const s=(t+F)/2,p=(a+m)/2,i=(F+y)/2,D=(m+k)/2;e.bezierCurveTo(s+2*(F-s)/3,p+2*(m-p)/3,i+2*(F-i)/3,D+2*(m-D)/3,i,D)}#L(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let a,[F,m]=e[0];for(a=1;a<e.length-2;a++){const[b,O]=e[a],[v,S]=e[a+1],d=(b+v)/2,B=(O+S)/2;t.push([[F,m],[F+2*(b-F)/3,m+2*(O-m)/3],[d+2*(b-d)/3,B+2*(O-B)/3],[d,B]]),[F,m]=[d,B]}const[y,k]=e[a],[s,p]=e[a+1];return t.push([[F,m],[F+2*(y-F)/3,m+2*(k-m)/3],[s+2*(y-s)/3,p+2*(k-p)/3],[s,p]]),t}#y(){if(this.isEmpty())return void this.#C();this.#b();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#C();for(const a of this.bezierPath2D)t.stroke(a)}commit(){this.#c||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#c=!0,this.div.classList.add("disabled"),this.#k(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0!==e.button||!this.isInEditMode()||this.#c||(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),this.#v(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#S(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#_(e)}canvasPointerleave(e){this.#_(e)}#_(e){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#r),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",V.noContextMenu)},10),this.#E(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#I(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",he.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(e=>this.canvas?.setAttribute("aria-label",e)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#O(){this.#g=new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#g.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#c}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),he.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(k=>this.div?.setAttribute("aria-label",k));const[a,F,m,y]=this.#h();if(this.setAt(a,F,0,0),this.setDims(m,y),this.#I(),this.width){const[k,s]=this.parentDimensions;this.setAspectRatio(this.width*k,this.height*s),this.setAt(e*k,t*s,this.width*k,this.height*s),this.#a=!0,this.#w(),this.setDims(this.width*k,this.height*s),this.#y(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#O(),this.div}#w(){if(!this.#a)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#C()}setDimensions(e,t){const a=Math.round(e),F=Math.round(t);if(this.#u===a&&this.#d===F)return;this.#u=a,this.#d=F,this.canvas.style.visibility="hidden";const[m,y]=this.parentDimensions;this.width=e/m,this.height=t/y,this.fixAndSetPosition(),this.#c&&this.#T(e,t),this.#w(),this.#y(),this.canvas.style.visibility="visible",this.fixDims()}#T(e,t){const a=this.#M(),F=(e-a)/this.#t,m=(t-a)/this.#e;this.scaleFactor=Math.min(F,m)}#C(){const e=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#N(e){const t=new Path2D;for(let a=0,F=e.length;a<F;a++){const[m,y,k,s]=e[a];0===a&&t.moveTo(...m),t.bezierCurveTo(y[0],y[1],k[0],k[1],s[0],s[1])}return t}static#B(e,t,a){const[F,m,y,k]=t;switch(a){case 0:for(let s=0,p=e.length;s<p;s+=2)e[s]+=F,e[s+1]=k-e[s+1];break;case 90:for(let s=0,p=e.length;s<p;s+=2){const i=e[s];e[s]=e[s+1]+F,e[s+1]=i+m}break;case 180:for(let s=0,p=e.length;s<p;s+=2)e[s]=y-e[s],e[s+1]+=m;break;case 270:for(let s=0,p=e.length;s<p;s+=2){const i=e[s];e[s]=y-e[s+1],e[s+1]=k-i}break;default:throw new Error("Invalid rotation")}return e}static#$(e,t,a){const[F,m,y,k]=t;switch(a){case 0:for(let s=0,p=e.length;s<p;s+=2)e[s]-=F,e[s+1]=k-e[s+1];break;case 90:for(let s=0,p=e.length;s<p;s+=2){const i=e[s];e[s]=e[s+1]-m,e[s+1]=i-F}break;case 180:for(let s=0,p=e.length;s<p;s+=2)e[s]=y-e[s],e[s+1]-=m;break;case 270:for(let s=0,p=e.length;s<p;s+=2){const i=e[s];e[s]=k-e[s+1],e[s+1]=y-i}break;default:throw new Error("Invalid rotation")}return e}#j(e,t,a,F){const m=[],y=this.thickness/2,k=e*t+y,s=e*a+y;for(const p of this.paths){const i=[],D=[];for(let b=0,O=p.length;b<O;b++){const[v,S,d,B]=p[b],g=e*v[0]+k,L=e*v[1]+s,C=e*S[0]+k,h=e*S[1]+s,M=e*d[0]+k,l=e*d[1]+s,r=e*B[0]+k,f=e*B[1]+s;0===b&&(i.push(g,L),D.push(g,L)),i.push(C,h,M,l,r,f),D.push(C,h),b===O-1&&D.push(r,f)}m.push({bezier:j.#B(i,F,this.rotation),points:j.#B(D,F,this.rotation)})}return m}#P(){let e=1/0,t=-1/0,a=1/0,F=-1/0;for(const m of this.paths)for(const[y,k,s,p]of m){const i=ce.Util.bezierBoundingBox(...y,...k,...s,...p);e=Math.min(e,i[0]),a=Math.min(a,i[1]),t=Math.max(t,i[2]),F=Math.max(F,i[3])}return[e,a,t,F]}#M(){return this.#c?Math.ceil(this.thickness*this.parentScale):0}#k(e=!1){if(this.isEmpty())return;if(!this.#c)return void this.#y();const t=this.#P(),a=this.#M();this.#t=Math.max(he.AnnotationEditor.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(he.AnnotationEditor.MIN_SIZE,t[3]-t[1]);const F=Math.ceil(a+this.#t*this.scaleFactor),m=Math.ceil(a+this.#e*this.scaleFactor),[y,k]=this.parentDimensions;this.width=F/y,this.height=m/k,this.setAspectRatio(F,m);const s=this.translationX,p=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#w(),this.#y(),this.#u=F,this.#d=m,this.setDims(F,m);const i=e?a/this.scaleFactor/2:0;this.translate(s-this.translationX-i,p-this.translationY-i)}static deserialize(e,t,a){if(e instanceof E.InkAnnotationElement)return null;const F=super.deserialize(e,t,a);F.thickness=e.thickness,F.color=ce.Util.makeHexColor(...e.color),F.opacity=e.opacity;const[m,y]=F.pageDimensions,k=F.width*m,s=F.height*y,p=F.parentScale,i=e.thickness/2;F.#c=!0,F.#u=Math.round(k),F.#d=Math.round(s);const{paths:D,rect:b,rotation:O}=e;for(let{bezier:S}of D){S=j.#$(S,b,O);const d=[];F.paths.push(d);let B=p*(S[0]-i),g=p*(S[1]-i);for(let C=2,h=S.length;C<h;C+=6){const c=p*(S[C+4]-i),u=p*(S[C+5]-i);d.push([[B,g],[p*(S[C]-i),p*(S[C+1]-i)],[p*(S[C+2]-i),p*(S[C+3]-i)],[c,u]]),B=c,g=u}const L=this.#N(d);F.bezierPath2D.push(L)}const v=F.#P();return F.#t=Math.max(he.AnnotationEditor.MIN_SIZE,v[2]-v[0]),F.#e=Math.max(he.AnnotationEditor.MIN_SIZE,v[3]-v[1]),F.#T(k,s),F}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=he.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ce.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#j(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}se.InkEditor=j},(ke,se,ye)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.StampEditor=void 0;var ce=ye(1),he=ye(4),E=ye(6),V=ye(29);class n extends he.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#o=null;#r=null;#s=null;#c=null;#l=!1;#a=!1;static _type="stamp";constructor(x){super({...x,name:"stampEditor"}),this.#i=x.bitmapUrl,this.#o=x.bitmapFile}static initialize(x){he.AnnotationEditor.initialize(x)}static get supportedTypes(){return(0,ce.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return(0,ce.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(x){return this.supportedTypes.includes(x)}static paste(x,e){e.pasteEditor(ce.AnnotationEditorType.STAMP,{bitmapFile:x.getAsFile()})}#g(x,e=!1){x?(this.#e=x.bitmap,e||(this.#t=x.id,this.#l=x.isSvg),this.#f()):this.remove()}#u(){this.#n=null,this._uiManager.enableWaiting(!1),this.#r&&this.div.focus()}#d(){if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(e=>this.#g(e,!0)).finally(()=>this.#u());if(this.#i){const e=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(e).then(t=>this.#g(t)).finally(()=>this.#u()))}if(this.#o){const e=this.#o;return this.#o=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(e).then(t=>this.#g(t)).finally(()=>this.#u()))}const x=document.createElement("input");x.type="file",x.accept=n.supportedTypesStr,this.#n=new Promise(e=>{x.addEventListener("change",async()=>{if(x.files&&0!==x.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(x.files[0]);this.#g(t)}else this.remove();e()}),x.addEventListener("cancel",()=>{this.remove(),e()})}).finally(()=>this.#u()),x.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&this.#d(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#d()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let x,e;if(this.width&&(x=this.x,e=this.y),super.render(),this.div.hidden=!0,this.#e?this.#f():this.#d(),this.width){const[t,a]=this.parentDimensions;this.setAt(x*t,e*a,this.width*t,this.height*a)}return this.div}#f(){const{div:x}=this;let{width:e,height:t}=this.#e;const[a,F]=this.pageDimensions,m=.75;if(this.width)e=this.width*a,t=this.height*F;else if(e>m*a||t>m*F){const p=Math.min(m*a/e,m*F/t);e*=p,t*=p}const[y,k]=this.parentDimensions;this.setDims(e*y/a,t*k/F),this._uiManager.enableWaiting(!1);const s=this.#r=document.createElement("canvas");x.append(s),x.hidden=!1,this.#p(e,t),this.#b(),this.#a||(this.parent.addUndoableEditor(this),this.#a=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#x(x,e){const[t,a]=this.parentDimensions;this.width=x/t,this.height=e/a,this.setDims(x,e),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.#p(x,e)},200)}#m(x,e){const{width:t,height:a}=this.#e;let F=t,m=a,y=this.#e;for(;F>2*x||m>2*e;){const k=F,s=m;F>2*x&&(F=F>=16384?Math.floor(F/2)-1:Math.ceil(F/2)),m>2*e&&(m=m>=16384?Math.floor(m/2)-1:Math.ceil(m/2));const p=new OffscreenCanvas(F,m);p.getContext("2d").drawImage(y,0,0,k,s,0,0,F,m),y=p.transferToImageBitmap()}return y}#p(x,e){x=Math.ceil(x),e=Math.ceil(e);const t=this.#r;if(!t||t.width===x&&t.height===e)return;t.width=x,t.height=e;const a=this.#l?this.#e:this.#m(x,e),F=t.getContext("2d");F.filter=this._uiManager.hcmFilter,F.drawImage(a,0,0,a.width,a.height,0,0,x,e)}#h(x){if(x){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#e),e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#l){const[e,t]=this.pageDimensions,a=Math.round(this.width*e*E.PixelsPerInch.PDF_TO_CSS_UNITS),F=Math.round(this.height*t*E.PixelsPerInch.PDF_TO_CSS_UNITS),m=new OffscreenCanvas(a,F);return m.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,F),m.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this.#s=new ResizeObserver(x=>{const e=x[0].contentRect;e.width&&e.height&&this.#x(e.width,e.height)}),this.#s.observe(this.div)}static deserialize(x,e,t){if(x instanceof V.StampAnnotationElement)return null;const a=super.deserialize(x,e,t),{rect:F,bitmapUrl:m,bitmapId:y,isSvg:k,accessibilityData:s}=x;y&&t.imageManager.isValidId(y)?a.#t=y:a.#i=m,a.#l=k;const[p,i]=a.pageDimensions;return a.width=(F[2]-F[0])/p,a.height=(F[3]-F[1])/i,s&&(a.altTextData=s),a}serialize(x=!1,e=null){if(this.isEmpty())return null;const t={annotationType:ce.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(x)return t.bitmapUrl=this.#h(!0),t.accessibilityData=this.altTextData,t;const{decorative:a,altText:F}=this.altTextData;if(!a&&F&&(t.accessibilityData={type:"Figure",alt:F}),null===e)return t;e.stamps||=new Map;const m=this.#l?(t.rect[2]-t.rect[0])*(t.rect[3]-t.rect[1]):null;if(e.stamps.has(this.#t)){if(this.#l){const y=e.stamps.get(this.#t);m>y.area&&(y.area=m,y.serialized.bitmap.close(),y.serialized.bitmap=this.#h(!1))}}else e.stamps.set(this.#t,{area:m,serialized:t}),t.bitmap=this.#h(!1);return t}}se.StampEditor=n}],__webpack_module_cache__={};function __w_pdfjs_require__(ke){var se=__webpack_module_cache__[ke];if(void 0!==se)return se.exports;var ye=__webpack_module_cache__[ke]={exports:{}};return __webpack_modules__[ke](ye,ye.exports,__w_pdfjs_require__),ye.exports}var __webpack_exports__={};return(()=>{var ke=__webpack_exports__;Object.defineProperty(ke,"__esModule",{value:!0}),Object.defineProperty(ke,"AbortException",{enumerable:!0,get:function(){return se.AbortException}}),Object.defineProperty(ke,"AnnotationEditorLayer",{enumerable:!0,get:function(){return E.AnnotationEditorLayer}}),Object.defineProperty(ke,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return se.AnnotationEditorParamsType}}),Object.defineProperty(ke,"AnnotationEditorType",{enumerable:!0,get:function(){return se.AnnotationEditorType}}),Object.defineProperty(ke,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return V.AnnotationEditorUIManager}}),Object.defineProperty(ke,"AnnotationLayer",{enumerable:!0,get:function(){return n.AnnotationLayer}}),Object.defineProperty(ke,"AnnotationMode",{enumerable:!0,get:function(){return se.AnnotationMode}}),Object.defineProperty(ke,"CMapCompressionType",{enumerable:!0,get:function(){return se.CMapCompressionType}}),Object.defineProperty(ke,"DOMSVGFactory",{enumerable:!0,get:function(){return ce.DOMSVGFactory}}),Object.defineProperty(ke,"FeatureTest",{enumerable:!0,get:function(){return se.FeatureTest}}),Object.defineProperty(ke,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(ke,"ImageKind",{enumerable:!0,get:function(){return se.ImageKind}}),Object.defineProperty(ke,"InvalidPDFException",{enumerable:!0,get:function(){return se.InvalidPDFException}}),Object.defineProperty(ke,"MissingPDFException",{enumerable:!0,get:function(){return se.MissingPDFException}}),Object.defineProperty(ke,"OPS",{enumerable:!0,get:function(){return se.OPS}}),Object.defineProperty(ke,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ye.PDFDataRangeTransport}}),Object.defineProperty(ke,"PDFDateString",{enumerable:!0,get:function(){return ce.PDFDateString}}),Object.defineProperty(ke,"PDFWorker",{enumerable:!0,get:function(){return ye.PDFWorker}}),Object.defineProperty(ke,"PasswordResponses",{enumerable:!0,get:function(){return se.PasswordResponses}}),Object.defineProperty(ke,"PermissionFlag",{enumerable:!0,get:function(){return se.PermissionFlag}}),Object.defineProperty(ke,"PixelsPerInch",{enumerable:!0,get:function(){return ce.PixelsPerInch}}),Object.defineProperty(ke,"PromiseCapability",{enumerable:!0,get:function(){return se.PromiseCapability}}),Object.defineProperty(ke,"RenderingCancelledException",{enumerable:!0,get:function(){return ce.RenderingCancelledException}}),Object.defineProperty(ke,"SVGGraphics",{enumerable:!0,get:function(){return ye.SVGGraphics}}),Object.defineProperty(ke,"UnexpectedResponseException",{enumerable:!0,get:function(){return se.UnexpectedResponseException}}),Object.defineProperty(ke,"Util",{enumerable:!0,get:function(){return se.Util}}),Object.defineProperty(ke,"VerbosityLevel",{enumerable:!0,get:function(){return se.VerbosityLevel}}),Object.defineProperty(ke,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(ke,"build",{enumerable:!0,get:function(){return ye.build}}),Object.defineProperty(ke,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return se.createValidAbsoluteUrl}}),Object.defineProperty(ke,"getDocument",{enumerable:!0,get:function(){return ye.getDocument}}),Object.defineProperty(ke,"getFilenameFromUrl",{enumerable:!0,get:function(){return ce.getFilenameFromUrl}}),Object.defineProperty(ke,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return ce.getPdfFilenameFromUrl}}),Object.defineProperty(ke,"getXfaPageViewport",{enumerable:!0,get:function(){return ce.getXfaPageViewport}}),Object.defineProperty(ke,"isDataScheme",{enumerable:!0,get:function(){return ce.isDataScheme}}),Object.defineProperty(ke,"isPdfFile",{enumerable:!0,get:function(){return ce.isPdfFile}}),Object.defineProperty(ke,"loadScript",{enumerable:!0,get:function(){return ce.loadScript}}),Object.defineProperty(ke,"noContextMenu",{enumerable:!0,get:function(){return ce.noContextMenu}}),Object.defineProperty(ke,"normalizeUnicode",{enumerable:!0,get:function(){return se.normalizeUnicode}}),Object.defineProperty(ke,"renderTextLayer",{enumerable:!0,get:function(){return he.renderTextLayer}}),Object.defineProperty(ke,"setLayerDimensions",{enumerable:!0,get:function(){return ce.setLayerDimensions}}),Object.defineProperty(ke,"shadow",{enumerable:!0,get:function(){return se.shadow}}),Object.defineProperty(ke,"updateTextLayer",{enumerable:!0,get:function(){return he.updateTextLayer}}),Object.defineProperty(ke,"version",{enumerable:!0,get:function(){return ye.version}});var se=__w_pdfjs_require__(1),ye=__w_pdfjs_require__(2),ce=__w_pdfjs_require__(6),he=__w_pdfjs_require__(26),E=__w_pdfjs_require__(27),V=__w_pdfjs_require__(5),n=__w_pdfjs_require__(29),j=__w_pdfjs_require__(14),x=__w_pdfjs_require__(32)})(),__webpack_exports__})()),function ke(se,ye){"object"==typeof exports&&"object"==typeof module?module.exports=se.pdfjsWorker=ye():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf.worker",[],()=>se.pdfjsWorker=ye()):"object"==typeof exports?exports["pdfjs-dist/build/pdf.worker"]=se.pdfjsWorker=ye():se["pdfjs-dist/build/pdf.worker"]=se.pdfjsWorker=ye()}(globalThis,()=>(()=>{"use strict";var ke=[,(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.WorkerTask=E.WorkerMessageHandler=void 0;var n=V(2),j=V(3),x=V(4),e=V(6),t=V(10),a=V(68),F=V(73),m=V(104),y=V(105),k=V(72);class s{constructor(b){this.name=b,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}E.WorkerTask=s;class p{static setup(b,O){let v=!1;b.on("test",function(S){v||(v=!0,b.send("test",S instanceof Uint8Array))}),b.on("configure",function(S){(0,n.setVerbosityLevel)(S.verbosity)}),b.on("GetDocRequest",function(S){return p.createDocumentHandler(S,O)})}static createDocumentHandler(b,O){let v,S=!1,d=null;const B=new Set,g=(0,n.getVerbosityLevel)(),{docId:L,apiVersion:C}=b,h="3.11.174";if(C!==h)throw new Error(`The API version "${C}" does not match the Worker version "${h}".`);const M=[];for(const $ in[])M.push($);if(M.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+M.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const l=L+"_worker";let r=new m.MessageHandler(l,L,O);function f(){if(S)throw new Error("Worker was terminated")}function c($){B.add($)}function u($){$.finish(),B.delete($)}async function I($){await v.ensureDoc("checkHeader"),await v.ensureDoc("parseStartXRef"),await v.ensureDoc("parse",[$]),await v.ensureDoc("checkFirstPage",[$]),await v.ensureDoc("checkLastPage",[$]);const _=await v.ensureDoc("isPureXfa");if(_){const H=new s("loadXfaFonts");c(H),await Promise.all([v.loadXfaFonts(r,H).catch(z=>{}).then(()=>u(H)),v.loadXfaImages()])}const[w,T]=await Promise.all([v.ensureDoc("numPages"),v.ensureDoc("fingerprints")]);return{numPages:w,fingerprints:T,htmlForXfa:_?await v.ensureDoc("htmlForXfa"):null}}return r.on("GetPage",function($){return v.getPage($.pageIndex).then(function(_){return Promise.all([v.ensure(_,"rotate"),v.ensure(_,"ref"),v.ensure(_,"userUnit"),v.ensure(_,"view")]).then(function([w,T,N,H]){return{rotate:w,ref:T,userUnit:N,view:H}})})}),r.on("GetPageIndex",function($){const _=x.Ref.get($.num,$.gen);return v.ensureCatalog("getPageIndex",[_])}),r.on("GetDestinations",function($){return v.ensureCatalog("destinations")}),r.on("GetDestination",function($){return v.ensureCatalog("getDestination",[$.id])}),r.on("GetPageLabels",function($){return v.ensureCatalog("pageLabels")}),r.on("GetPageLayout",function($){return v.ensureCatalog("pageLayout")}),r.on("GetPageMode",function($){return v.ensureCatalog("pageMode")}),r.on("GetViewerPreferences",function($){return v.ensureCatalog("viewerPreferences")}),r.on("GetOpenAction",function($){return v.ensureCatalog("openAction")}),r.on("GetAttachments",function($){return v.ensureCatalog("attachments")}),r.on("GetDocJSActions",function($){return v.ensureCatalog("jsActions")}),r.on("GetPageJSActions",function({pageIndex:$}){return v.getPage($).then(function(_){return v.ensure(_,"jsActions")})}),r.on("GetOutline",function($){return v.ensureCatalog("documentOutline")}),r.on("GetOptionalContentConfig",function($){return v.ensureCatalog("optionalContentConfig")}),r.on("GetPermissions",function($){return v.ensureCatalog("permissions")}),r.on("GetMetadata",function($){return Promise.all([v.ensureDoc("documentInfo"),v.ensureCatalog("metadata")])}),r.on("GetMarkInfo",function($){return v.ensureCatalog("markInfo")}),r.on("GetData",function($){return v.requestLoadedStream().then(function(_){return _.bytes})}),r.on("GetAnnotations",function({pageIndex:$,intent:_}){return v.getPage($).then(function(w){const T=new s(`GetAnnotations: page ${$}`);return c(T),w.getAnnotationsData(r,T,_).then(N=>(u(T),N),N=>{throw u(T),N})})}),r.on("GetFieldObjects",function($){return v.ensureDoc("fieldObjects")}),r.on("HasJSActions",function($){return v.ensureDoc("hasJSActions")}),r.on("GetCalculationOrderIds",function($){return v.ensureDoc("calculationOrderIds")}),r.on("SaveDocument",async function({isPureXfa:$,numPages:_,annotationStorage:w,filename:T}){const N=[v.requestLoadedStream(),v.ensureCatalog("acroForm"),v.ensureCatalog("acroFormRef"),v.ensureDoc("startXRef"),v.ensureDoc("xref"),v.ensureDoc("linearization"),v.ensureCatalog("structTreeRoot")],H=[],z=$?null:(0,j.getNewAnnotationsMap)(w),[U,q,J,oe,ne,Q,R]=await Promise.all(N),X=ne.trailer.getRaw("Root")||null;let G;if(z){R?await R.canUpdateStructTree({pdfManager:v,newAnnotationsByPage:z})&&(G=R):await k.StructTreeRoot.canCreateStructureTree({catalogRef:X,pdfManager:v,newAnnotationsByPage:z})&&(G=null);const le=t.AnnotationFactory.generateImages(w.values(),ne,v.evaluatorOptions.isOffscreenCanvasSupported),ue=void 0===G?H:[];for(const[fe,Se]of z)ue.push(v.getPage(fe).then(Ce=>{const ve=new s(`Save (editor): page ${fe}`);return Ce.saveNewAnnotations(r,ve,Se,le).finally(function(){u(ve)})}));null===G?H.push(Promise.all(ue).then(async fe=>(await k.StructTreeRoot.createStructureTree({newAnnotationsByPage:z,xref:ne,catalogRef:X,pdfManager:v,newRefs:fe}),fe))):G&&H.push(Promise.all(ue).then(async fe=>(await G.updateStructureTree({newAnnotationsByPage:z,pdfManager:v,newRefs:fe}),fe)))}if($)H.push(v.serializeXfaData(w));else for(let le=0;le<_;le++)H.push(v.getPage(le).then(function(ue){const fe=new s(`Save: page ${le}`);return ue.save(r,fe,w).finally(function(){u(fe)})}));const Y=await Promise.all(H);let K=[],Z=null;if($){if(Z=Y[0],!Z)return U.bytes}else if(K=Y.flat(2),0===K.length)return U.bytes;const ae=J&&q instanceof x.Dict&&K.some(le=>le.needAppearances),ie=q instanceof x.Dict&&q.get("XFA")||null;let te=null,re=!1;if(Array.isArray(ie)){for(let le=0,ue=ie.length;le<ue;le+=2)"datasets"===ie[le]&&(te=ie[le+1],re=!0);null===te&&(te=ne.getNewTemporaryRef())}else ie&&(0,n.warn)("Unsupported XFA type.");let ee=Object.create(null);if(ne.trailer){const le=Object.create(null),ue=ne.trailer.get("Info")||null;ue instanceof x.Dict&&ue.forEach((fe,Se)=>{"string"==typeof Se&&(le[fe]=(0,n.stringToPDFString)(Se))}),ee={rootRef:X,encryptRef:ne.trailer.getRaw("Encrypt")||null,newRef:ne.getNewTemporaryRef(),infoRef:ne.trailer.getRaw("Info")||null,info:le,fileIds:ne.trailer.get("ID")||null,startXRef:Q?oe:ne.lastXRefStreamPos??oe,filename:T}}return(0,F.incrementalUpdate)({originalData:U.bytes,xrefInfo:ee,newRefs:K,xref:ne,hasXfa:!!ie,xfaDatasetsRef:te,hasXfaDatasetsEntry:re,needAppearances:ae,acroFormRef:J,acroForm:q,xfaData:Z}).finally(()=>{ne.resetNewTemporaryRef()})}),r.on("GetOperatorList",function($,_){const w=$.pageIndex;v.getPage(w).then(function(T){const N=new s(`GetOperatorList: page ${w}`);c(N);const H=g>=n.VerbosityLevel.INFOS?Date.now():0;T.getOperatorList({handler:r,sink:_,task:N,intent:$.intent,cacheKey:$.cacheKey,annotationStorage:$.annotationStorage}).then(function(z){u(N),H&&(0,n.info)(`page=${w+1} - getOperatorList: time=${Date.now()-H}ms, len=${z.length}`),_.close()},function(z){u(N),!N.terminated&&_.error(z)})})}),r.on("GetTextContent",function($,_){const{pageIndex:w,includeMarkedContent:T,disableNormalization:N}=$;v.getPage(w).then(function(H){const z=new s("GetTextContent: page "+w);c(z);const U=g>=n.VerbosityLevel.INFOS?Date.now():0;H.extractTextContent({handler:r,task:z,sink:_,includeMarkedContent:T,disableNormalization:N}).then(function(){u(z),U&&(0,n.info)(`page=${w+1} - getTextContent: time=${Date.now()-U}ms`),_.close()},function(q){u(z),!z.terminated&&_.error(q)})})}),r.on("GetStructTree",function($){return v.getPage($.pageIndex).then(function(_){return v.ensure(_,"getStructTree")})}),r.on("FontFallback",function($){return v.fontFallback($.id,r)}),r.on("Cleanup",function($){return v.cleanup(!0)}),r.on("Terminate",function($){S=!0;const _=[];if(v){v.terminate(new n.AbortException("Worker was terminated."));const w=v.cleanup();_.push(w),v=null}else(0,a.clearGlobalCaches)();d&&d(new n.AbortException("Worker was terminated."));for(const w of B)_.push(w.finished),w.terminate();return Promise.all(_).then(function(){r.destroy(),r=null})}),r.on("Ready",function($){(function P($){function _(N){f(),r.send("GetDoc",{pdfInfo:N})}function w(N){if(f(),N instanceof n.PasswordException){const H=new s(`PasswordException: response ${N.code}`);c(H),r.sendWithPromise("PasswordRequest",N).then(function({password:z}){u(H),v.updatePassword(z),T()}).catch(function(){u(H),r.send("DocException",N)})}else r.send("DocException",N instanceof n.InvalidPDFException||N instanceof n.MissingPDFException||N instanceof n.UnexpectedResponseException||N instanceof n.UnknownErrorException?N:new n.UnknownErrorException(N.message,N.toString()))}function T(){f(),I(!1).then(_,function(N){f(),N instanceof j.XRefParseException?v.requestLoadedStream().then(function(){f(),I(!0).then(_,w)}):w(N)})}f(),function A({data:$,password:_,disableAutoFetch:w,rangeChunkSize:T,length:N,docBaseUrl:H,enableXfa:z,evaluatorOptions:U}){const q={source:null,disableAutoFetch:w,docBaseUrl:H,docId:L,enableXfa:z,evaluatorOptions:U,handler:r,length:N,password:_,rangeChunkSize:T},J=new n.PromiseCapability;let oe;if($){try{q.source=$,oe=new e.LocalPdfManager(q),J.resolve(oe)}catch(Y){J.reject(Y)}return J.promise}let ne,Q=[];try{ne=new y.PDFWorkerStream(r)}catch(Y){return J.reject(Y),J.promise}const R=ne.getFullReader();R.headersReady.then(function(){if(R.isRangeSupported){q.source=ne,q.length=R.contentLength,q.disableAutoFetch||=R.isStreamingSupported,oe=new e.NetworkPdfManager(q);for(const Y of Q)oe.sendProgressiveData(Y);Q=[],J.resolve(oe),d=null}}).catch(function(Y){J.reject(Y),d=null});let X=0;return new Promise(function(Y,K){const Z=function({value:ae,done:ie}){try{if(f(),ie)return oe||function(){const Y=(0,j.arrayBuffersToBytes)(Q);N&&Y.length!==N&&(0,n.warn)("reported HTTP length is different from actual");try{q.source=Y,oe=new e.LocalPdfManager(q),J.resolve(oe)}catch(K){J.reject(K)}Q=[]}(),void(d=null);X+=ae.byteLength,R.isStreamingSupported||r.send("DocProgress",{loaded:X,total:Math.max(X,R.contentLength||0)}),oe?oe.sendProgressiveData(ae):Q.push(ae),R.read().then(Z,K)}catch(te){K(te)}};R.read().then(Z,K)}).catch(function(Y){J.reject(Y),d=null}),d=function(Y){ne.cancelAllRequests(Y)},J.promise}($).then(function(N){if(S)throw N.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");v=N,v.requestLoadedStream(!0).then(H=>{r.send("DataLoaded",{length:H.bytes.byteLength})})}).then(T,w)})(b),b=null}),l}static initializeFromPort(b){const O=new m.MessageHandler("worker","main",b);p.setup(O,b),O.send("ready",null)}}E.WorkerMessageHandler=p,typeof window>"u"&&!n.isNodeJS&&typeof self<"u"&&function i(D){return"function"==typeof D.postMessage&&"onmessage"in D}(self)&&p.initializeFromPort(self)},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.VerbosityLevel=E.Util=E.UnknownErrorException=E.UnexpectedResponseException=E.TextRenderingMode=E.RenderingIntentFlag=E.PromiseCapability=E.PermissionFlag=E.PasswordResponses=E.PasswordException=E.PageActionEventType=E.OPS=E.MissingPDFException=E.MAX_IMAGE_SIZE_TO_CACHE=E.LINE_FACTOR=E.LINE_DESCENT_FACTOR=E.InvalidPDFException=E.ImageKind=E.IDENTITY_MATRIX=E.FormatError=E.FeatureTest=E.FONT_IDENTITY_MATRIX=E.DocumentActionEventType=E.CMapCompressionType=E.BaseException=E.BASELINE_FACTOR=E.AnnotationType=E.AnnotationReplyType=E.AnnotationPrefix=E.AnnotationMode=E.AnnotationFlag=E.AnnotationFieldFlag=E.AnnotationEditorType=E.AnnotationEditorPrefix=E.AnnotationEditorParamsType=E.AnnotationBorderStyleType=E.AnnotationActionEventType=E.AbortException=void 0,E.assert=function P(be,pe){be||A(pe)},E.bytesToString=ne,E.createValidAbsoluteUrl=function _(be,pe=null,xe=null){if(!be)return null;try{if(xe&&"string"==typeof be&&(xe.addDefaultProtocol&&be.startsWith("www.")&&be.match(/\./g)?.length>=2&&(be=`http://${be}`),xe.tryConvertEncoding))try{be=ee(be)}catch{}const we=pe?new URL(be,pe):new URL(be);if(function $(be){switch(be?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(we))return we}catch{}return null},E.getModificationDate=function Se(be=new Date){return[be.getUTCFullYear().toString(),(be.getUTCMonth()+1).toString().padStart(2,"0"),be.getUTCDate().toString().padStart(2,"0"),be.getUTCHours().toString().padStart(2,"0"),be.getUTCMinutes().toString().padStart(2,"0"),be.getUTCSeconds().toString().padStart(2,"0")].join("")},E.getUuid=function ge(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const be=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(be);else for(let pe=0;pe<32;pe++)be[pe]=Math.floor(255*Math.random());return ne(be)},E.getVerbosityLevel=function c(){return r},E.info=function u(be){r>=C.INFOS&&console.log(`Info: ${be}`)},E.isArrayBuffer=function ue(be){return"object"==typeof be&&void 0!==be?.byteLength},E.isArrayEqual=function fe(be,pe){if(be.length!==pe.length)return!1;for(let xe=0,we=be.length;xe<we;xe++)if(be[xe]!==pe[xe])return!1;return!0},E.isNodeJS=void 0,E.normalizeUnicode=function de(be){return ve||(ve=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,me=new Map([["\ufb05","\u017ft"]])),be.replaceAll(ve,(pe,xe,we)=>xe?xe.normalize("NFKC"):me.get(we))},E.objectFromMap=function G(be){const pe=Object.create(null);for(const[xe,we]of be)pe[xe]=we;return pe},E.objectSize=function X(be){return Object.keys(be).length},E.setVerbosityLevel=function f(be){Number.isInteger(be)&&(r=be)},E.shadow=w,E.string32=function R(be){return String.fromCharCode(be>>24&255,be>>16&255,be>>8&255,255&be)},E.stringToBytes=Q,E.stringToPDFString=function re(be){if(be[0]>="\xef"){let xe;if("\xfe"===be[0]&&"\xff"===be[1]?xe="utf-16be":"\xff"===be[0]&&"\xfe"===be[1]?xe="utf-16le":"\xef"===be[0]&&"\xbb"===be[1]&&"\xbf"===be[2]&&(xe="utf-8"),xe)try{const we=new TextDecoder(xe,{fatal:!0}),Ne=Q(be);return we.decode(Ne)}catch(we){I(`stringToPDFString: "${we}".`)}}const pe=[];for(let xe=0,we=be.length;xe<we;xe++){const Ne=te[be.charCodeAt(xe)];pe.push(Ne?String.fromCharCode(Ne):be.charAt(xe))}return pe.join("")},E.stringToUTF8String=ee,E.unreachable=A,E.utf8StringToString=function le(be){return unescape(encodeURIComponent(be))},E.warn=I;const V=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);E.isNodeJS=V,E.IDENTITY_MATRIX=[1,0,0,1,0,0],E.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],E.MAX_IMAGE_SIZE_TO_CACHE=1e7,E.LINE_FACTOR=1.35,E.LINE_DESCENT_FACTOR=.35,E.BASELINE_FACTOR=.25925925925925924,E.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},E.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},E.AnnotationEditorPrefix="pdfjs_internal_editor_",E.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},E.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},E.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},E.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},E.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},E.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},E.AnnotationReplyType={GROUP:"Group",REPLY:"R"},E.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},E.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},E.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},E.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},E.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},E.PageActionEventType={O:"PageOpen",C:"PageClose"};const C={ERRORS:0,WARNINGS:1,INFOS:5};E.VerbosityLevel=C,E.CMapCompressionType={NONE:0,BINARY:1},E.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},E.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=C.WARNINGS;function I(be){r>=C.WARNINGS&&console.log(`Warning: ${be}`)}function A(be){throw new Error(be)}function w(be,pe,xe,we=!1){return Object.defineProperty(be,pe,{value:xe,enumerable:!we,configurable:!0,writable:!1}),xe}const T=function(){function pe(xe,we){this.constructor===pe&&A("Cannot initialize BaseException."),this.message=xe,this.name=we}return pe.prototype=new Error,pe.constructor=pe,pe}();function ne(be){("object"!=typeof be||void 0===be?.length)&&A("Invalid argument for bytesToString");const pe=be.length;if(pe<8192)return String.fromCharCode.apply(null,be);const we=[];for(let Ne=0;Ne<pe;Ne+=8192){const He=Math.min(Ne+8192,pe),$e=be.subarray(Ne,He);we.push(String.fromCharCode.apply(null,$e))}return we.join("")}function Q(be){"string"!=typeof be&&A("Invalid argument for stringToBytes");const pe=be.length,xe=new Uint8Array(pe);for(let we=0;we<pe;++we)xe[we]=255&be.charCodeAt(we);return xe}E.BaseException=T,E.PasswordException=class N extends T{constructor(pe,xe){super(pe,"PasswordException"),this.code=xe}},E.UnknownErrorException=class H extends T{constructor(pe,xe){super(pe,"UnknownErrorException"),this.details=xe}},E.InvalidPDFException=class z extends T{constructor(pe){super(pe,"InvalidPDFException")}},E.MissingPDFException=class U extends T{constructor(pe){super(pe,"MissingPDFException")}},E.UnexpectedResponseException=class q extends T{constructor(pe,xe){super(pe,"UnexpectedResponseException"),this.status=xe}},E.FormatError=class J extends T{constructor(pe){super(pe,"FormatError")}},E.AbortException=class oe extends T{constructor(pe){super(pe,"AbortException")}},E.FeatureTest=class Z{static get isLittleEndian(){return w(this,"isLittleEndian",function Y(){const be=new Uint8Array(4);return be[0]=1,1===new Uint32Array(be.buffer,0,1)[0]}())}static get isEvalSupported(){return w(this,"isEvalSupported",function K(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return w(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?w(this,"platform",{isWin:!1,isMac:!1}):w(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return w(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const ae=[...Array(256).keys()].map(be=>be.toString(16).padStart(2,"0"));E.Util=class ie{static makeHexColor(pe,xe,we){return`#${ae[pe]}${ae[xe]}${ae[we]}`}static scaleMinMax(pe,xe){let we;pe[0]?(pe[0]<0&&(we=xe[0],xe[0]=xe[1],xe[1]=we),xe[0]*=pe[0],xe[1]*=pe[0],pe[3]<0&&(we=xe[2],xe[2]=xe[3],xe[3]=we),xe[2]*=pe[3],xe[3]*=pe[3]):(we=xe[0],xe[0]=xe[2],xe[2]=we,we=xe[1],xe[1]=xe[3],xe[3]=we,pe[1]<0&&(we=xe[2],xe[2]=xe[3],xe[3]=we),xe[2]*=pe[1],xe[3]*=pe[1],pe[2]<0&&(we=xe[0],xe[0]=xe[1],xe[1]=we),xe[0]*=pe[2],xe[1]*=pe[2]),xe[0]+=pe[4],xe[1]+=pe[4],xe[2]+=pe[5],xe[3]+=pe[5]}static transform(pe,xe){return[pe[0]*xe[0]+pe[2]*xe[1],pe[1]*xe[0]+pe[3]*xe[1],pe[0]*xe[2]+pe[2]*xe[3],pe[1]*xe[2]+pe[3]*xe[3],pe[0]*xe[4]+pe[2]*xe[5]+pe[4],pe[1]*xe[4]+pe[3]*xe[5]+pe[5]]}static applyTransform(pe,xe){return[pe[0]*xe[0]+pe[1]*xe[2]+xe[4],pe[0]*xe[1]+pe[1]*xe[3]+xe[5]]}static applyInverseTransform(pe,xe){const we=xe[0]*xe[3]-xe[1]*xe[2];return[(pe[0]*xe[3]-pe[1]*xe[2]+xe[2]*xe[5]-xe[4]*xe[3])/we,(-pe[0]*xe[1]+pe[1]*xe[0]+xe[4]*xe[1]-xe[5]*xe[0])/we]}static getAxialAlignedBoundingBox(pe,xe){const we=this.applyTransform(pe,xe),Ne=this.applyTransform(pe.slice(2,4),xe),He=this.applyTransform([pe[0],pe[3]],xe),$e=this.applyTransform([pe[2],pe[1]],xe);return[Math.min(we[0],Ne[0],He[0],$e[0]),Math.min(we[1],Ne[1],He[1],$e[1]),Math.max(we[0],Ne[0],He[0],$e[0]),Math.max(we[1],Ne[1],He[1],$e[1])]}static inverseTransform(pe){const xe=pe[0]*pe[3]-pe[1]*pe[2];return[pe[3]/xe,-pe[1]/xe,-pe[2]/xe,pe[0]/xe,(pe[2]*pe[5]-pe[4]*pe[3])/xe,(pe[4]*pe[1]-pe[5]*pe[0])/xe]}static singularValueDecompose2dScale(pe){const xe=[pe[0],pe[2],pe[1],pe[3]],we=pe[0]*xe[0]+pe[1]*xe[2],$e=pe[2]*xe[1]+pe[3]*xe[3],qe=(we+$e)/2,Ke=Math.sqrt((we+$e)**2-4*(we*$e-(pe[2]*xe[0]+pe[3]*xe[2])*(pe[0]*xe[1]+pe[1]*xe[3])))/2,Pe=qe-Ke||1;return[Math.sqrt(qe+Ke||1),Math.sqrt(Pe)]}static normalizeRect(pe){const xe=pe.slice(0);return pe[0]>pe[2]&&(xe[0]=pe[2],xe[2]=pe[0]),pe[1]>pe[3]&&(xe[1]=pe[3],xe[3]=pe[1]),xe}static intersect(pe,xe){const we=Math.max(Math.min(pe[0],pe[2]),Math.min(xe[0],xe[2])),Ne=Math.min(Math.max(pe[0],pe[2]),Math.max(xe[0],xe[2]));if(we>Ne)return null;const He=Math.max(Math.min(pe[1],pe[3]),Math.min(xe[1],xe[3])),$e=Math.min(Math.max(pe[1],pe[3]),Math.max(xe[1],xe[3]));return He>$e?null:[we,He,Ne,$e]}static bezierBoundingBox(pe,xe,we,Ne,He,$e,qe,Ke){const Oe=[],Pe=[[],[]];let ze,Ze,Be,Je,Ye,Qe,lt,Ue;for(let St=0;St<2;++St)if(0===St?(Ze=6*pe-12*we+6*He,ze=-3*pe+9*we-9*He+3*qe,Be=3*we-3*pe):(Ze=6*xe-12*Ne+6*$e,ze=-3*xe+9*Ne-9*$e+3*Ke,Be=3*Ne-3*xe),Math.abs(ze)<1e-12){if(Math.abs(Ze)<1e-12)continue;Je=-Be/Ze,0<Je&&Je<1&&Oe.push(Je)}else lt=Ze*Ze-4*Be*ze,Ue=Math.sqrt(lt),!(lt<0)&&(Ye=(-Ze+Ue)/(2*ze),0<Ye&&Ye<1&&Oe.push(Ye),Qe=(-Ze-Ue)/(2*ze),0<Qe&&Qe<1&&Oe.push(Qe));let Xe,at=Oe.length;const pt=at;for(;at--;)Je=Oe[at],Xe=1-Je,Pe[0][at]=Xe*Xe*Xe*pe+3*Xe*Xe*Je*we+3*Xe*Je*Je*He+Je*Je*Je*qe,Pe[1][at]=Xe*Xe*Xe*xe+3*Xe*Xe*Je*Ne+3*Xe*Je*Je*$e+Je*Je*Je*Ke;return Pe[0][pt]=pe,Pe[1][pt]=xe,Pe[0][pt+1]=qe,Pe[1][pt+1]=Ke,Pe[0].length=Pe[1].length=pt+2,[Math.min(...Pe[0]),Math.min(...Pe[1]),Math.max(...Pe[0]),Math.max(...Pe[1])]}};const te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ee(be){return decodeURIComponent(escape(be))}E.PromiseCapability=class Ce{#e=!1;constructor(){this.promise=new Promise((pe,xe)=>{this.resolve=we=>{this.#e=!0,pe(we)},this.reject=we=>{this.#e=!0,xe(we)}})}get settled(){return this.#e}};let ve=null,me=null;E.AnnotationPrefix="pdfjs_internal_id_"},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XRefParseException=E.XRefEntryException=E.ParserEOFException=E.PDF_VERSION_REGEXP=E.MissingDataException=void 0,E.arrayBuffersToBytes=function k(_){const w=_.length;if(0===w)return new Uint8Array(0);if(1===w)return new Uint8Array(_[0]);let T=0;for(let z=0;z<w;z++)T+=_[z].byteLength;const N=new Uint8Array(T);let H=0;for(let z=0;z<w;z++){const U=new Uint8Array(_[z]);N.set(U,H),H+=U.byteLength}return N},E.collectActions=function C(_,w,T){const N=Object.create(null),H=s({dict:w,key:"AA",stopWhenFound:!1});if(H)for(let z=H.length-1;z>=0;z--){const U=H[z];if(U instanceof j.Dict)for(const q of U.getKeys()){const J=T[q];if(!J)continue;const Q=[];L(U.getRaw(q),_,Q,new j.RefSet),Q.length>0&&(N[J]=Q)}}if(w.has("A")){const q=[];L(w.get("A"),_,q,new j.RefSet),q.length>0&&(N.Action=q)}return(0,n.objectSize)(N)>0?N:null},E.encodeToXmlString=function M(_){const w=[];let T=0;for(let N=0,H=_.length;N<H;N++){const z=_.codePointAt(N);if(32<=z&&z<=126){const U=h[z];U&&(T<N&&w.push(_.substring(T,N)),w.push(U),T=N+1)}else T<N&&w.push(_.substring(T,N)),w.push(`&#x${z.toString(16).toUpperCase()};`),z>55295&&(z<57344||z>65533)&&N++,T=N+1}return 0===w.length?_:(T<_.length&&w.push(_.substring(T,_.length)),w.join(""))},E.escapePDFName=function B(_){const w=[];let T=0;for(let N=0,H=_.length;N<H;N++){const z=_.charCodeAt(N);(z<33||z>126||35===z||40===z||41===z||60===z||62===z||91===z||93===z||123===z||125===z||47===z||37===z)&&(T<N&&w.push(_.substring(T,N)),w.push(`#${z.toString(16)}`),T=N+1)}return 0===w.length?_:(T<_.length&&w.push(_.substring(T,_.length)),w.join(""))},E.escapeString=function g(_){return _.replaceAll(/([()\\\n\r])/g,w=>"\n"===w?"\\n":"\r"===w?"\\r":`\\${w}`)},E.getInheritableProperty=s,E.getLookupTableFactory=function t(_){let w;return function(){return _&&(w=Object.create(null),_(w),_=null),w}},E.getNewAnnotationsMap=function u(_){if(!_)return null;const w=new Map;for(const[T,N]of _){if(!T.startsWith(n.AnnotationEditorPrefix))continue;let H=w.get(N.pageIndex);H||(H=[],w.set(N.pageIndex,H)),H.push(N)}return w.size>0?w:null},E.getRotationMatrix=function $(_,w,T){switch(_){case 90:return[0,1,-1,0,w,0];case 180:return[-1,0,0,-1,w,T];case 270:return[0,-1,1,0,0,T];default:throw new Error("Invalid rotation")}},E.isAscii=function I(_){return/^[\x00-\x7F]*$/.test(_)},E.isWhiteSpace=function S(_){return 32===_||9===_||13===_||10===_},E.log2=function D(_){return _<=0?0:Math.ceil(Math.log2(_))},E.numberToString=function c(_){if(Number.isInteger(_))return _.toString();const w=Math.round(100*_);return w%100==0?(w/100).toString():_.toFixed(w%10==0?1:2)},E.parseXFAPath=function d(_){const w=/(.+)\[(\d+)\]$/;return _.split(".").map(T=>{const N=T.match(w);return N?{name:N[1],pos:parseInt(N[2],10)}:{name:T,pos:0}})},E.readInt8=function b(_,w){return _[w]<<24>>24},E.readUint16=function O(_,w){return _[w]<<8|_[w+1]},E.readUint32=function v(_,w){return(_[w]<<24|_[w+1]<<16|_[w+2]<<8|_[w+3])>>>0},E.recoverJsURL=function f(_){const N=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").replaceAll(".","\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i").exec(_);if(N?.[2]){let z=!1;return"true"===N[3]&&"app.launchURL"===N[1]&&(z=!0),{url:N[2],newWindow:z}}return null},E.stringToUTF16HexString=function A(_){const w=[];for(let T=0,N=_.length;T<N;T++){const H=_.charCodeAt(T);w.push((H>>8&255).toString(16).padStart(2,"0"),(255&H).toString(16).padStart(2,"0"))}return w.join("")},E.stringToUTF16String=function P(_,w=!1){const T=[];w&&T.push("\xfe\xff");for(let N=0,H=_.length;N<H;N++){const z=_.charCodeAt(N);T.push(String.fromCharCode(z>>8&255),String.fromCharCode(255&z))}return T.join("")},E.toRomanNumerals=function i(_,w=!1){(0,n.assert)(Number.isInteger(_)&&_>0,"The number should be a positive integer.");const T=[];let N;for(;_>=1e3;)_-=1e3,T.push("M");N=_/100|0,_%=100,T.push(p[N]),N=_/10|0,_%=10,T.push(p[10+N]),T.push(p[20+_]);const H=T.join("");return w?H.toLowerCase():H},E.validateCSSFont=function r(_){const N=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:H,fontWeight:z,italicAngle:U}=_;if(!l(H,!0))return!1;const q=z?z.toString():"";_.fontWeight=N.has(q)?q:"400";const J=parseFloat(U);return _.italicAngle=isNaN(J)||J<-90||J>90?"14":U.toString(),!0},E.validateFontName=l;var n=V(2),j=V(4),x=V(5);function s({dict:_,key:w,getArray:T=!1,stopWhenFound:N=!0}){let H;const z=new j.RefSet;for(;_ instanceof j.Dict&&(!_.objId||!z.has(_.objId));){_.objId&&z.put(_.objId);const U=T?_.getArray(w):_.get(w);if(void 0!==U){if(N)return U;(H||=[]).push(U)}_=_.get("Parent")}return H}E.PDF_VERSION_REGEXP=/^[1-9]\.\d$/,E.MissingDataException=class a extends n.BaseException{constructor(w,T){super(`Missing data [${w}, ${T})`,"MissingDataException"),this.begin=w,this.end=T}},E.ParserEOFException=class F extends n.BaseException{constructor(w){super(w,"ParserEOFException")}},E.XRefEntryException=class m extends n.BaseException{constructor(w){super(w,"XRefEntryException")}},E.XRefParseException=class y extends n.BaseException{constructor(w){super(w,"XRefParseException")}};const p=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function L(_,w,T,N){if(!_)return;let H=null;if(_ instanceof j.Ref){if(N.has(_))return;H=_,N.put(H),_=w.fetch(_)}if(Array.isArray(_))for(const z of _)L(z,w,T,N);else if(_ instanceof j.Dict){if((0,j.isName)(_.get("S"),"JavaScript")){const z=_.get("JS");let U;z instanceof x.BaseStream?U=z.getString():"string"==typeof z&&(U=z),U&&=(0,n.stringToPDFString)(U).replaceAll("\0",""),U&&T.push(U)}L(_.getRaw("Next"),w,T,N)}H&&N.remove(H)}const h={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function l(_,w=!1){const T=/^("|').*("|')$/.exec(_);if(T&&T[1]===T[2]){if(new RegExp(`[^\\\\]${T[1]}`).test(_.slice(1,-1)))return w&&(0,n.warn)(`FontFamily contains unescaped ${T[1]}: ${_}.`),!1}else for(const N of _.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(N)||!/^[\w-\\]+$/.test(N))return w&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${_}.`),!1;return!0}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.RefSetCache=E.RefSet=E.Ref=E.Name=E.EOF=E.Dict=E.Cmd=E.CIRCULAR_REF=void 0,E.clearPrimitiveCaches=function F(){e=Object.create(null),t=Object.create(null),a=Object.create(null)},E.isCmd=function O(d,B){return d instanceof y&&(void 0===B||d.cmd===B)},E.isDict=function v(d,B){return d instanceof s&&(void 0===B||b(d.get("Type"),B))},E.isName=b,E.isRefsEqual=function S(d,B){return d.num===B.num&&d.gen===B.gen};var n=V(2);const j=Symbol("CIRCULAR_REF");E.CIRCULAR_REF=j;const x=Symbol("EOF");E.EOF=x;let e=Object.create(null),t=Object.create(null),a=Object.create(null);class m{constructor(B){this.name=B}static get(B){return t[B]||=new m(B)}}E.Name=m;class y{constructor(B){this.cmd=B}static get(B){return e[B]||=new y(B)}}E.Cmd=y;const k=function(){return k};class s{constructor(B=null){this._map=Object.create(null),this.xref=B,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=k}assignXref(B){this.xref=B}get size(){return Object.keys(this._map).length}get(B,g,L){let C=this._map[B];return void 0===C&&void 0!==g&&(C=this._map[g],void 0===C&&void 0!==L&&(C=this._map[L])),C instanceof p&&this.xref?this.xref.fetch(C,this.suppressEncryption):C}async getAsync(B,g,L){let C=this._map[B];return void 0===C&&void 0!==g&&(C=this._map[g],void 0===C&&void 0!==L&&(C=this._map[L])),C instanceof p&&this.xref?this.xref.fetchAsync(C,this.suppressEncryption):C}getArray(B,g,L){let C=this._map[B];if(void 0===C&&void 0!==g&&(C=this._map[g],void 0===C&&void 0!==L&&(C=this._map[L])),C instanceof p&&this.xref&&(C=this.xref.fetch(C,this.suppressEncryption)),Array.isArray(C)){C=C.slice();for(let h=0,M=C.length;h<M;h++)C[h]instanceof p&&this.xref&&(C[h]=this.xref.fetch(C[h],this.suppressEncryption))}return C}getRaw(B){return this._map[B]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(B,g){this._map[B]=g}has(B){return void 0!==this._map[B]}forEach(B){for(const g in this._map)B(g,this.get(g))}static get empty(){const B=new s(null);return B.set=(g,L)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",B)}static merge({xref:B,dictArray:g,mergeSubDicts:L=!1}){const C=new s(B),h=new Map;for(const M of g)if(M instanceof s)for(const[l,r]of Object.entries(M._map)){let f=h.get(l);if(void 0===f)f=[],h.set(l,f);else if(!(L&&r instanceof s))continue;f.push(r)}for(const[M,l]of h){if(1===l.length||!(l[0]instanceof s)){C._map[M]=l[0];continue}const r=new s(B);for(const f of l)for(const[c,u]of Object.entries(f._map))void 0===r._map[c]&&(r._map[c]=u);r.size>0&&(C._map[M]=r)}return h.clear(),C.size>0?C:s.empty}clone(){const B=new s(this.xref);for(const g of this.getKeys())B.set(g,this.getRaw(g));return B}}E.Dict=s;class p{constructor(B,g){this.num=B,this.gen=g}toString(){return 0===this.gen?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(B){const g=a[B];if(g)return g;const L=/^(\d+)R(\d*)$/.exec(B);return L&&"0"!==L[1]?a[B]=new p(parseInt(L[1]),L[2]?parseInt(L[2]):0):null}static get(B,g){const L=0===g?`${B}R`:`${B}R${g}`;return a[L]||=new p(B,g)}}E.Ref=p;class i{constructor(B=null){this._set=new Set(B?._set)}has(B){return this._set.has(B.toString())}put(B){this._set.add(B.toString())}remove(B){this._set.delete(B.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}E.RefSet=i;class D{constructor(){this._map=new Map}get size(){return this._map.size}get(B){return this._map.get(B.toString())}has(B){return this._map.has(B.toString())}put(B,g){this._map.set(B.toString(),g)}putAlias(B,g){this._map.set(B.toString(),this.get(g))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function b(d,B){return d instanceof m&&(void 0===B||d.name===B)}E.RefSetCache=D},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.BaseStream=void 0;var n=V(2);class j{constructor(){this.constructor===j&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return-1!==e&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,a=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}E.BaseStream=j},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NetworkPdfManager=E.LocalPdfManager=void 0;var n=V(2),j=V(7),x=V(3),e=V(9),t=V(8);class F{constructor(s){this.constructor===F&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=function a(k){if(k){const s=(0,n.createValidAbsoluteUrl)(k);if(s)return s.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${k}".`)}return null}(s.docBaseUrl),this._docId=s.docId,this._password=s.password,this.enableXfa=s.enableXfa,s.evaluatorOptions.isOffscreenCanvasSupported&&=n.FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=s.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(s,p){return this.ensure(this.pdfDocument,s,p)}ensureXRef(s,p){return this.ensure(this.pdfDocument.xref,s,p)}ensureCatalog(s,p){return this.ensure(this.pdfDocument.catalog,s,p)}getPage(s){return this.pdfDocument.getPage(s)}fontFallback(s,p){return this.pdfDocument.fontFallback(s,p)}loadXfaFonts(s,p){return this.pdfDocument.loadXfaFonts(s,p)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(s){return this.pdfDocument.serializeXfaData(s)}cleanup(s=!1){return this.pdfDocument.cleanup(s)}async ensure(s,p,i){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(s,p){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(s=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(s){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(s){this._password=s}terminate(s){(0,n.unreachable)("Abstract method `terminate` called")}}E.LocalPdfManager=class m extends F{constructor(s){super(s);const p=new t.Stream(s.source);this.pdfDocument=new e.PDFDocument(this,p),this._loadedStreamPromise=Promise.resolve(p)}async ensure(s,p,i){const D=s[p];return"function"==typeof D?D.apply(s,i):D}requestRange(s,p){return Promise.resolve()}requestLoadedStream(s=!1){return this._loadedStreamPromise}terminate(s){}},E.NetworkPdfManager=class y extends F{constructor(s){super(s),this.streamManager=new j.ChunkedStreamManager(s.source,{msgHandler:s.handler,length:s.length,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(s,p,i){try{const D=s[p];return"function"==typeof D?D.apply(s,i):D}catch(D){if(!(D instanceof x.MissingDataException))throw D;return await this.requestRange(D.begin,D.end),this.ensure(s,p,i)}}requestRange(s,p){return this.streamManager.requestRange(s,p)}requestLoadedStream(s=!1){return this.streamManager.requestAllChunks(s)}sendProgressiveData(s){this.streamManager.onReceiveData({chunk:s})}terminate(s){this.streamManager.abort(s)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ChunkedStreamManager=E.ChunkedStream=void 0;var n=V(3),j=V(2),x=V(8);class e extends x.Stream{constructor(F,m,y){super(new Uint8Array(F),0,F,null),this.chunkSize=m,this._loadedChunks=new Set,this.numChunks=Math.ceil(F/m),this.manager=y,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const F=[];for(let m=0,y=this.numChunks;m<y;++m)this._loadedChunks.has(m)||F.push(m);return F}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(F,m){const y=this.chunkSize;if(F%y!=0)throw new Error(`Bad begin offset: ${F}`);const k=F+m.byteLength;if(k%y!=0&&k!==this.bytes.length)throw new Error(`Bad end offset: ${k}`);this.bytes.set(new Uint8Array(m),F);const s=Math.floor(F/y),p=Math.floor((k-1)/y)+1;for(let i=s;i<p;++i)this._loadedChunks.add(i)}onReceiveProgressiveData(F){let m=this.progressiveDataLength;const y=Math.floor(m/this.chunkSize);this.bytes.set(new Uint8Array(F),m),m+=F.byteLength,this.progressiveDataLength=m;const k=m>=this.end?this.numChunks:Math.floor(m/this.chunkSize);for(let s=y;s<k;++s)this._loadedChunks.add(s)}ensureByte(F){if(F<this.progressiveDataLength)return;const m=Math.floor(F/this.chunkSize);if(!(m>this.numChunks)&&m!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(m))throw new n.MissingDataException(F,F+1);this.lastSuccessfulEnsureByteChunk=m}}ensureRange(F,m){if(F>=m||m<=this.progressiveDataLength)return;const y=Math.floor(F/this.chunkSize);if(y>this.numChunks)return;const k=Math.min(Math.floor((m-1)/this.chunkSize)+1,this.numChunks);for(let s=y;s<k;++s)if(!this._loadedChunks.has(s))throw new n.MissingDataException(F,m)}nextEmptyChunk(F){const m=this.numChunks;for(let y=0;y<m;++y){const k=(F+y)%m;if(!this._loadedChunks.has(k))return k}return null}hasChunk(F){return this._loadedChunks.has(F)}getByte(){const F=this.pos;return F>=this.end?-1:(F>=this.progressiveDataLength&&this.ensureByte(F),this.bytes[this.pos++])}getBytes(F){const m=this.bytes,y=this.pos,k=this.end;if(!F)return k>this.progressiveDataLength&&this.ensureRange(y,k),m.subarray(y,k);let s=y+F;return s>k&&(s=k),s>this.progressiveDataLength&&this.ensureRange(y,s),this.pos=s,m.subarray(y,s)}getByteRange(F,m){return F<0&&(F=0),m>this.end&&(m=this.end),m>this.progressiveDataLength&&this.ensureRange(F,m),this.bytes.subarray(F,m)}makeSubStream(F,m,y=null){function k(){}m?F+m>this.progressiveDataLength&&this.ensureRange(F,F+m):F>=this.progressiveDataLength&&this.ensureByte(F),(k.prototype=Object.create(this)).getMissingChunks=function(){const p=this.chunkSize,i=Math.floor(this.start/p),D=Math.floor((this.end-1)/p)+1,b=[];for(let O=i;O<D;++O)this._loadedChunks.has(O)||b.push(O);return b},Object.defineProperty(k.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});const s=new k;return s.pos=s.start=F,s.end=F+m||this.end,s.dict=y,s}getBaseStreams(){return[this]}}E.ChunkedStream=e,E.ChunkedStreamManager=class t{constructor(F,m){this.length=m.length,this.chunkSize=m.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=F,this.disableAutoFetch=m.disableAutoFetch,this.msgHandler=m.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new j.PromiseCapability}sendRequest(F,m){const y=this.pdfNetworkStream.getRangeReader(F,m);y.isStreamingSupported||(y.onProgress=this.onProgress.bind(this));let k=[],s=0;return new Promise((p,i)=>{const D=({value:b,done:O})=>{try{if(O){const v=(0,n.arrayBuffersToBytes)(k);return k=null,void p(v)}s+=b.byteLength,y.isStreamingSupported&&this.onProgress({loaded:s}),k.push(b),y.read().then(D,i)}catch(v){i(v)}};y.read().then(D,i)}).then(p=>{this.aborted||this.onReceiveData({chunk:p,begin:F})})}requestAllChunks(F=!1){if(!F){const m=this.stream.getMissingChunks();this._requestChunks(m)}return this._loadedStreamCapability.promise}_requestChunks(F){const m=this.currRequestId++,y=new Set;this._chunksNeededByRequest.set(m,y);for(const p of F)this.stream.hasChunk(p)||y.add(p);if(0===y.size)return Promise.resolve();const k=new j.PromiseCapability;this._promisesByRequest.set(m,k);const s=[];for(const p of y){let i=this._requestsByChunk.get(p);i||(i=[],this._requestsByChunk.set(p,i),s.push(p)),i.push(m)}if(s.length>0){const p=this.groupChunks(s);for(const i of p){const D=i.beginChunk*this.chunkSize,b=Math.min(i.endChunk*this.chunkSize,this.length);this.sendRequest(D,b).catch(k.reject)}}return k.promise.catch(p=>{if(!this.aborted)throw p})}getStream(){return this.stream}requestRange(F,m){m=Math.min(m,this.length);const y=this.getBeginChunk(F),k=this.getEndChunk(m),s=[];for(let p=y;p<k;++p)s.push(p);return this._requestChunks(s)}requestRanges(F=[]){const m=[];for(const y of F){const k=this.getBeginChunk(y.begin),s=this.getEndChunk(y.end);for(let p=k;p<s;++p)m.includes(p)||m.push(p)}return m.sort(function(y,k){return y-k}),this._requestChunks(m)}groupChunks(F){const m=[];let y=-1,k=-1;for(let s=0,p=F.length;s<p;++s){const i=F[s];y<0&&(y=i),k>=0&&k+1!==i&&(m.push({beginChunk:y,endChunk:k+1}),y=i),s+1===F.length&&m.push({beginChunk:y,endChunk:i+1}),k=i}return m}onProgress(F){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+F.loaded,total:this.length})}onReceiveData(F){const m=F.chunk,y=void 0===F.begin,k=y?this.progressiveDataLength:F.begin,s=k+m.byteLength,p=Math.floor(k/this.chunkSize),i=s<this.length?Math.floor(s/this.chunkSize):Math.ceil(s/this.chunkSize);y?(this.stream.onReceiveProgressiveData(m),this.progressiveDataLength=s):this.stream.onReceiveData(k,m),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const D=[];for(let b=p;b<i;++b){const O=this._requestsByChunk.get(b);if(O){this._requestsByChunk.delete(b);for(const v of O){const S=this._chunksNeededByRequest.get(v);S.has(b)&&S.delete(b),!(S.size>0)&&D.push(v)}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){let b;if(1===this.stream.numChunksLoaded){const O=this.stream.numChunks-1;this.stream.hasChunk(O)||(b=O)}else b=this.stream.nextEmptyChunk(i);Number.isInteger(b)&&this._requestChunks([b])}for(const b of D){const O=this._promisesByRequest.get(b);this._promisesByRequest.delete(b),O.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(F){this._loadedStreamCapability.reject(F)}getBeginChunk(F){return Math.floor(F/this.chunkSize)}getEndChunk(F){return Math.floor((F-1)/this.chunkSize)+1}abort(F){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(F);for(const m of this._promisesByRequest.values())m.reject(F)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StringStream=E.Stream=E.NullStream=void 0;var n=V(5),j=V(2);class x extends n.BaseStream{constructor(F,m,y,k){super(),this.bytes=F instanceof Uint8Array?F:new Uint8Array(F),this.start=m||0,this.pos=this.start,this.end=m+y||this.bytes.length,this.dict=k}get length(){return this.end-this.start}get isEmpty(){return 0===this.length}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(F){const m=this.bytes,y=this.pos,k=this.end;if(!F)return m.subarray(y,k);let s=y+F;return s>k&&(s=k),this.pos=s,m.subarray(y,s)}getByteRange(F,m){return F<0&&(F=0),m>this.end&&(m=this.end),this.bytes.subarray(F,m)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(F,m,y=null){return new x(this.bytes.buffer,F,m,y)}}E.Stream=x,E.StringStream=class e extends x{constructor(F){super((0,j.stringToBytes)(F))}},E.NullStream=class t extends x{constructor(){super(new Uint8Array(0))}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Page=E.PDFDocument=void 0;var n=V(2),j=V(10),x=V(3),e=V(4),t=V(51),a=V(5),F=V(74),m=V(66),y=V(68),k=V(102),s=V(16),p=V(8),i=V(76),D=V(64),b=V(13),O=V(18),v=V(72),S=V(73),d=V(77),B=V(103);const L=[0,0,612,792];class C{constructor({pdfManager:A,xref:P,pageIndex:$,pageDict:_,ref:w,globalIdFactory:T,fontCache:N,builtInCMapCache:H,standardFontDataCache:z,globalImageCache:U,systemFontCache:q,nonBlendModesSet:J,xfaFactory:oe}){this.pdfManager=A,this.pageIndex=$,this.pageDict=_,this.xref=P,this.ref=w,this.fontCache=N,this.builtInCMapCache=H,this.standardFontDataCache=z,this.globalImageCache=U,this.systemFontCache=q,this.nonBlendModesSet=J,this.evaluatorOptions=A.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=oe;const ne={obj:0};this._localIdFactory=class extends T{static createObjId(){return`p${$}_${++ne.obj}`}static getPageObjId(){return`p${w.toString()}`}}}_getInheritableProperty(A,P=!1){const $=(0,x.getInheritableProperty)({dict:this.pageDict,key:A,getArray:P,stopWhenFound:!1});return Array.isArray($)?1!==$.length&&$[0]instanceof e.Dict?e.Dict.merge({xref:this.xref,dictArray:$}):$[0]:$}get content(){return this.pageDict.getArray("Contents")}get resources(){const A=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",A instanceof e.Dict?A:e.Dict.empty)}_getBoundingBox(A){if(this.xfaData)return this.xfaData.bbox;let P=this._getInheritableProperty(A,!0);if(Array.isArray(P)&&4===P.length){if(P=n.Util.normalizeRect(P),P[2]-P[0]>0&&P[3]-P[1]>0)return P;(0,n.warn)(`Empty, or invalid, /${A} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||L)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let A=this.pageDict.get("UserUnit");return("number"!=typeof A||A<=0)&&(A=1),(0,n.shadow)(this,"userUnit",A)}get view(){const{cropBox:A,mediaBox:P}=this;if(A!==P&&!(0,n.isArrayEqual)(A,P)){const $=n.Util.intersect(A,P);if($&&$[2]-$[0]>0&&$[3]-$[1]>0)return(0,n.shadow)(this,"view",$);(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",P)}get rotate(){let A=this._getInheritableProperty("Rotate")||0;return A%90!=0?A=0:A>=360?A%=360:A<0&&(A=(A%360+360)%360),(0,n.shadow)(this,"rotate",A)}_onSubStreamError(A,P){if(!this.evaluatorOptions.ignoreErrors)throw A;(0,n.warn)(`getContentStream - ignoring sub-stream (${P}): "${A}".`)}getContentStream(){return this.pdfManager.ensure(this,"content").then(A=>A instanceof a.BaseStream?A:Array.isArray(A)?new O.StreamsSequenceStream(A,this._onSubStreamError.bind(this)):new p.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(A,P,$){for(const _ of A)if(_.id){const w=e.Ref.fromString(_.id);if(!w){(0,n.warn)(`A non-linked annotation cannot be modified: ${_.id}`);continue}if(_.deleted){P.put(w);continue}$?.put(w),_.ref=w,delete _.id}}async saveNewAnnotations(A,P,$,_){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const w=new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),T=new e.RefSet,N=new e.RefSet;this.#e($,T,N);const H=this.pageDict,z=this.annotations.filter(ne=>!(ne instanceof e.Ref&&T.has(ne))),U=await j.AnnotationFactory.saveNewAnnotations(w,P,$,_);for(const{ref:ne}of U.annotations)ne instanceof e.Ref&&!N.has(ne)&&z.push(ne);const q=H.get("Annots");H.set("Annots",z);const J=[];await(0,S.writeObject)(this.ref,H,J,this.xref),q&&H.set("Annots",q);const oe=U.dependencies;return oe.push({ref:this.ref,data:J.join("")},...U.annotations),oe}save(A,P,$){const _=new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(w){const T=[];for(const N of w)N.mustBePrinted($)&&T.push(N.save(_,P,$).catch(function(H){return(0,n.warn)(`save - ignoring annotation data during "${P.name}" task: "${H}".`),null}));return Promise.all(T).then(function(N){return N.filter(H=>!!H)})})}loadResources(A){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new i.ObjectLoader(this.resources,A,this.xref).load())}getOperatorList({handler:A,sink:P,task:$,intent:_,cacheKey:w,annotationStorage:T=null}){const N=this.getContentStream(),H=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),z=new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),U=this.xfaFactory?null:(0,x.getNewAnnotationsMap)(T);let q=null,J=Promise.resolve(null);if(U){const Q=U.get(this.pageIndex);if(Q){const R=this.pdfManager.ensureDoc("annotationGlobals");let X;const G=new Set;for(const{bitmapId:K,bitmap:Z}of Q)K&&!Z&&!G.has(K)&&G.add(K);const{isOffscreenCanvasSupported:Y}=this.evaluatorOptions;if(G.size>0){const K=Q.slice();for(const[Z,ae]of T)Z.startsWith(n.AnnotationEditorPrefix)&&ae.bitmap&&G.has(ae.bitmapId)&&K.push(ae);X=j.AnnotationFactory.generateImages(K,this.xref,Y)}else X=j.AnnotationFactory.generateImages(Q,this.xref,Y);q=new e.RefSet,this.#e(Q,q,null),J=R.then(K=>K?j.AnnotationFactory.printNewAnnotations(K,z,$,Q,X):null)}}const ne=Promise.all([N,H]).then(([Q])=>{const R=new D.OperatorList(_,P);return A.send("StartRenderPage",{transparency:z.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:w}),z.getOperatorList({stream:Q,task:$,resources:this.resources,operatorList:R}).then(function(){return R})});return Promise.all([ne,this._parsedAnnotations,J]).then(function([Q,R,X]){if(X){R=R.filter(ie=>!(ie.ref&&q.has(ie.ref)));for(let ie=0,te=X.length;ie<te;ie++){const re=X[ie];if(re.refToReplace){const ee=R.findIndex(le=>le.ref&&(0,e.isRefsEqual)(le.ref,re.refToReplace));ee>=0&&(R.splice(ee,1,re),X.splice(ie--,1),te--)}}R=R.concat(X)}if(0===R.length||_&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return Q.flush(!0),{length:Q.totalLength};const G=!!(_&n.RenderingIntentFlag.ANNOTATIONS_FORMS),Y=!!(_&n.RenderingIntentFlag.ANY),K=!!(_&n.RenderingIntentFlag.DISPLAY),Z=!!(_&n.RenderingIntentFlag.PRINT),ae=[];for(const ie of R)(Y||K&&ie.mustBeViewed(T,G)||Z&&ie.mustBePrinted(T))&&ae.push(ie.getOperatorList(z,$,_,G,T).catch(function(te){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${$.name}" task: "${te}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(ae).then(function(ie){let te=!1,re=!1;for(const{opList:ee,separateForm:le,separateCanvas:ue}of ie)Q.addOpList(ee),te||=le,re||=ue;return Q.flush(!0,{form:te,canvas:re}),{length:Q.totalLength}})})}extractTextContent({handler:A,task:P,includeMarkedContent:$,disableNormalization:_,sink:w}){const T=this.getContentStream(),N=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([T,N]).then(([z])=>new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:z,task:P,resources:this.resources,includeMarkedContent:$,disableNormalization:_,sink:w,viewBox:this.view}))}async getStructTree(){const A=await this.pdfManager.ensureCatalog("structTreeRoot");return A?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[A])).serializable):null}_parseStructTree(A){const P=new v.StructTreePage(A,this.pageDict);return P.parse(this.ref),P}async getAnnotationsData(A,P,$){const _=await this._parsedAnnotations;if(0===_.length)return _;const w=[],T=[];let N;const H=!!($&n.RenderingIntentFlag.ANY),z=!!($&n.RenderingIntentFlag.DISPLAY),U=!!($&n.RenderingIntentFlag.PRINT);for(const q of _){const J=H||z&&q.viewable;(J||U&&q.printable)&&w.push(q.data),q.hasTextContent&&J&&(N||=new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),T.push(q.extractTextContent(N,P,[-1/0,-1/0,1/0,1/0]).catch(function(oe){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${P.name}" task: "${oe}".`)})))}return await Promise.all(T),w}get annotations(){const A=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(A)?A:[])}get _parsedAnnotations(){const A=this.pdfManager.ensure(this,"annotations").then(async P=>{if(0===P.length)return P;const $=await this.pdfManager.ensureDoc("annotationGlobals");if(!$)return[];const _=[];for(const N of P)_.push(j.AnnotationFactory.create(this.xref,N,$,this._localIdFactory,!1,this.ref).catch(function(H){return(0,n.warn)(`_parsedAnnotations: "${H}".`),null}));const w=[];let T;for(const N of await Promise.all(_))if(N){if(N instanceof j.PopupAnnotation){(T||=[]).push(N);continue}w.push(N)}return T&&w.push(...T),w});return(0,n.shadow)(this,"_parsedAnnotations",A)}get jsActions(){const A=(0,x.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",A)}}E.Page=C;const h=new Uint8Array([37,80,68,70,45]),M=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([101,110,100,111,98,106]),f="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function c(I,A,P=1024,$=!1){const _=A.length,w=I.peekBytes(P),T=w.length-_;if(T<=0)return!1;if($){const N=_-1;let H=w.length-1;for(;H>=N;){let z=0;for(;z<_&&w[H-z]===A[N-z];)z++;if(z>=_)return I.pos+=H-N,!0;H--}}else{let N=0;for(;N<=T;){let H=0;for(;H<_&&w[N+H]===A[H];)H++;if(H>=_)return I.pos+=N,!0;N++}}return!1}E.PDFDocument=class u{constructor(A,P){if(P.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=A,this.stream=P,this.xref=new B.XRef(P,A),this._pagePromises=new Map,this._version=null;const $={font:0};this._globalIdFactory=class{static getDocId(){return`g_${A.docId}`}static createFontId(){return"f"+ ++$.font}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(A){this.xref.parse(A),this.catalog=new m.Catalog(this.pdfManager,this.xref)}get linearization(){let A=null;try{A=s.Linearization.create(this.stream)}catch(P){if(P instanceof x.MissingDataException)throw P;(0,n.info)(P)}return(0,n.shadow)(this,"linearization",A)}get startXRef(){const A=this.stream;let P=0;if(this.linearization)A.reset(),c(A,l)&&(P=A.pos+6-A.start);else{const _=M.length;let w=!1,T=A.end;for(;!w&&T>0;)T-=1024-_,T<0&&(T=0),A.pos=T,w=c(A,M,1024,!0);if(w){let N;A.skip(9);do{N=A.getByte()}while((0,x.isWhiteSpace)(N));let H="";for(;N>=32&&N<=57;)H+=String.fromCharCode(N),N=A.getByte();P=parseInt(H,10),isNaN(P)&&(P=0)}}return(0,n.shadow)(this,"startXRef",P)}checkHeader(){const A=this.stream;if(A.reset(),!c(A,h))return;A.moveStart(),A.skip(h.length);let $,P="";for(;($=A.getByte())>32&&P.length<7;)P+=String.fromCharCode($);x.PDF_VERSION_REGEXP.test(P)?this._version=P:(0,n.warn)(`Invalid PDF header version: ${P}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let A=0;return A=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,n.shadow)(this,"numPages",A)}_hasOnlyDocumentSignatures(A,P=0){return!!Array.isArray(A)&&A.every(_=>{if(!((_=this.xref.fetchIfRef(_))instanceof e.Dict))return!1;if(_.has("Kids"))return++P>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(_.get("Kids"),P);const w=(0,e.isName)(_.get("FT"),"Sig"),T=_.get("Rect"),N=Array.isArray(T)&&T.every(H=>0===H);return w&&N})}get _xfaStreams(){const A=this.catalog.acroForm;if(!A)return null;const P=A.get("XFA"),$={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(P instanceof a.BaseStream&&!P.isEmpty)return $["xdp:xdp"]=P,$;if(!Array.isArray(P)||0===P.length)return null;for(let _=0,w=P.length;_<w;_+=2){let T;if(T=0===_?"xdp:xdp":_===w-2?"/xdp:xdp":P[_],!$.hasOwnProperty(T))continue;const N=this.xref.fetchIfRef(P[_+1]);!(N instanceof a.BaseStream)||N.isEmpty||($[T]=N)}return $}get xfaDatasets(){const A=this._xfaStreams;if(!A)return(0,n.shadow)(this,"xfaDatasets",null);for(const P of["datasets","xdp:xdp"]){const $=A[P];if($)try{const _=(0,n.stringToUTF8String)($.getString());return(0,n.shadow)(this,"xfaDatasets",new k.DatasetReader({[P]:_}))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const A=this._xfaStreams;if(!A)return null;const P=Object.create(null);for(const[$,_]of Object.entries(A))if(_)try{P[$]=(0,n.stringToUTF8String)(_.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return P}get xfaFactory(){let A;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(A=this.xfaData),(0,n.shadow)(this,"xfaFactory",A?new d.XFAFactory(A):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const A=await this.pdfManager.ensureCatalog("xfaImages");if(!A)return;const P=A.getKeys();await new i.ObjectLoader(A,P,this.xref).load();const _=new Map;for(const w of P){const T=A.get(w);T instanceof a.BaseStream&&_.set(w,T.getBytes())}this.xfaFactory.setImages(_)}async loadXfaFonts(A,P){const $=await this.pdfManager.ensureCatalog("acroForm");if(!$)return;const _=await $.getAsync("DR");if(!(_ instanceof e.Dict))return;await new i.ObjectLoader(_,["Font"],this.xref).load();const T=_.get("Font");if(!(T instanceof e.Dict))return;const N=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);N.useSystemFonts=!1;const H=new b.PartialEvaluator({xref:this.xref,handler:A,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:N}),z=new D.OperatorList,U=[],q={get font(){return U.at(-1)},set font(R){U.push(R)},clone(){return this}},J=new Map;T.forEach((R,X)=>{J.set(R,X)});const oe=[];for(const[R,X]of J){const G=X.get("FontDescriptor");if(!(G instanceof e.Dict))continue;let Y=G.get("FontFamily");Y=Y.replaceAll(/[ ]+(\d)/g,"$1");const ae={fontFamily:Y,fontWeight:G.get("FontWeight"),italicAngle:-G.get("ItalicAngle")};(0,x.validateCSSFont)(ae)&&oe.push(H.handleSetFont(_,[e.Name.get(R),1],null,z,P,q,null,ae).catch(function(ie){return(0,n.warn)(`loadXfaFonts: "${ie}".`),null}))}await Promise.all(oe);const ne=this.xfaFactory.setFonts(U);if(!ne)return;N.ignoreErrors=!0,oe.length=0,U.length=0;const Q=new Set;for(const R of ne)(0,t.getXfaFontName)(`${R}-Regular`)||Q.add(R);Q.size&&ne.push("PdfJS-Fallback");for(const R of ne)if(!Q.has(R))for(const X of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const G=`${R}-${X.name}`,Y=(0,t.getXfaFontDict)(G);oe.push(H.handleSetFont(_,[e.Name.get(G),1],null,z,P,q,Y,{fontFamily:R,fontWeight:X.fontWeight,italicAngle:X.italicAngle}).catch(function(K){return(0,n.warn)(`loadXfaFonts: "${K}".`),null}))}await Promise.all(oe),this.xfaFactory.appendFonts(U,Q)}async serializeXfaData(A){return this.xfaFactory?this.xfaFactory.serializeData(A):null}get version(){return this.catalog.version||this._version}get formInfo(){const A={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},P=this.catalog.acroForm;if(!P)return(0,n.shadow)(this,"formInfo",A);try{const $=P.get("Fields"),_=Array.isArray($)&&$.length>0;A.hasFields=_;const w=P.get("XFA");A.hasXfa=Array.isArray(w)&&w.length>0||w instanceof a.BaseStream&&!w.isEmpty;const N=!!(1&P.get("SigFlags")),H=N&&this._hasOnlyDocumentSignatures($);A.hasAcroForm=_&&!H,A.hasSignatures=N}catch($){if($ instanceof x.MissingDataException)throw $;(0,n.warn)(`Cannot fetch form information: "${$}".`)}return(0,n.shadow)(this,"formInfo",A)}get documentInfo(){const A={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let P;try{P=this.xref.trailer.get("Info")}catch($){if($ instanceof x.MissingDataException)throw $;(0,n.info)("The document information dictionary is invalid.")}if(!(P instanceof e.Dict))return(0,n.shadow)(this,"documentInfo",A);for(const $ of P.getKeys()){const _=P.get($);switch($){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if("string"==typeof _){A[$]=(0,n.stringToPDFString)(_);continue}break;case"Trapped":if(_ instanceof e.Name){A[$]=_;continue}break;default:let w;switch(typeof _){case"string":w=(0,n.stringToPDFString)(_);break;case"number":case"boolean":w=_;break;default:_ instanceof e.Name&&(w=_)}if(void 0===w){(0,n.warn)(`Bad value, for custom key "${$}", in Info: ${_}.`);continue}A.Custom||(A.Custom=Object.create(null)),A.Custom[$]=w;continue}(0,n.warn)(`Bad value, for key "${$}", in Info: ${_}.`)}return(0,n.shadow)(this,"documentInfo",A)}get fingerprints(){function A(T){return"string"==typeof T&&T.length>0&&T!==f}function P(T){const N=[];for(const H of T){const z=H.toString(16);N.push(z.padStart(2,"0"))}return N.join("")}const $=this.xref.trailer.get("ID");let _,w;return Array.isArray($)&&A($[0])?(_=(0,n.stringToBytes)($[0]),$[1]!==$[0]&&A($[1])&&(w=(0,n.stringToBytes)($[1]))):_=(0,F.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,n.shadow)(this,"fingerprints",[P(_),w?P(w):null])}async _getLinearizationPage(A){const{catalog:P,linearization:$,xref:_}=this,w=e.Ref.get($.objectNumberFirst,0);try{const T=await _.fetchAsync(w);if(T instanceof e.Dict){let N=T.getRaw("Type");if(N instanceof e.Ref&&(N=await _.fetchAsync(N)),(0,e.isName)(N,"Page")||!T.has("Type")&&!T.has("Kids"))return P.pageKidsCountCache.has(w)||P.pageKidsCountCache.put(w,1),P.pageIndexCache.has(w)||P.pageIndexCache.put(w,0),[T,w]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(T){return(0,n.warn)(`_getLinearizationPage: "${T.message}".`),P.getPageDict(A)}}getPage(A){const P=this._pagePromises.get(A);if(P)return P;const{catalog:$,linearization:_,xfaFactory:w}=this;let T;return T=w?Promise.resolve([e.Dict.empty,null]):_?.pageFirst===A?this._getLinearizationPage(A):$.getPageDict(A),T=T.then(([N,H])=>new C({pdfManager:this.pdfManager,xref:this.xref,pageIndex:A,pageDict:N,ref:H,globalIdFactory:this._globalIdFactory,fontCache:$.fontCache,builtInCMapCache:$.builtInCMapCache,standardFontDataCache:$.standardFontDataCache,globalImageCache:$.globalImageCache,systemFontCache:$.systemFontCache,nonBlendModesSet:$.nonBlendModesSet,xfaFactory:w})),this._pagePromises.set(A,T),T}async checkFirstPage(A=!1){if(!A)try{await this.getPage(0)}catch(P){if(P instanceof x.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new x.XRefParseException}}async checkLastPage(A=!1){const{catalog:P,pdfManager:$}=this;let _;P.setActualNumPages();try{if(await Promise.all([$.ensureDoc("xfaFactory"),$.ensureDoc("linearization"),$.ensureCatalog("numPages")]),this.xfaFactory)return;if(_=this.linearization?this.linearization.numPages:P.numPages,!Number.isInteger(_))throw new n.FormatError("Page count is not an integer.");if(_<=1)return;await this.getPage(_-1)}catch(w){if(this._pagePromises.delete(_-1),await this.cleanup(),w instanceof x.XRefEntryException&&!A)throw new x.XRefParseException;let T;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${_}.`);try{T=await P.getAllPageDicts(A)}catch(N){if(N instanceof x.XRefEntryException&&!A)throw new x.XRefParseException;return void P.setActualNumPages(1)}for(const[N,[H,z]]of T){let U;H instanceof Error?(U=Promise.reject(H),U.catch(()=>{})):U=Promise.resolve(new C({pdfManager:$,xref:this.xref,pageIndex:N,pageDict:H,ref:z,globalIdFactory:this._globalIdFactory,fontCache:P.fontCache,builtInCMapCache:P.builtInCMapCache,standardFontDataCache:P.standardFontDataCache,globalImageCache:P.globalImageCache,systemFontCache:P.systemFontCache,nonBlendModesSet:P.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(N,U)}P.setActualNumPages(T.size)}}fontFallback(A,P){return this.catalog.fontFallback(A,P)}async cleanup(A=!1){return this.catalog?this.catalog.cleanup(A):(0,y.clearGlobalCaches)()}#e(A,P,$,_){const w=this.xref.fetchIfRef(P);if(w.has("T")){const T=(0,n.stringToPDFString)(w.get("T"));A=""===A?T:`${A}.${T}`}if($.has(A)||$.set(A,[]),$.get(A).push(j.AnnotationFactory.create(this.xref,P,_,this._localIdFactory,!0,null).then(T=>T?.getFieldObject()).catch(function(T){return(0,n.warn)(`#collectFieldObjects: "${T}".`),null})),w.has("Kids"))for(const T of w.get("Kids"))this.#e(A,T,$,_)}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const A=this.pdfManager.ensureDoc("annotationGlobals").then(async P=>{if(!P)return null;const $=Object.create(null),_=new Map;for(const T of this.catalog.acroForm.get("Fields"))this.#e("",T,_,P);const w=[];for(const[T,N]of _)w.push(Promise.all(N).then(H=>{(H=H.filter(z=>!!z)).length>0&&($[T]=H)}));return await Promise.all(w),$});return(0,n.shadow)(this,"fieldObjects",A)}get hasJSActions(){const A=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",A)}async _parseHasJSActions(){const[A,P]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!A||!!P&&Object.values(P).some($=>$.some(_=>null!==_.actions))}get calculationOrderIds(){const A=this.catalog.acroForm;if(!A?.has("CO"))return(0,n.shadow)(this,"calculationOrderIds",null);const P=A.get("CO");if(!Array.isArray(P)||0===P.length)return(0,n.shadow)(this,"calculationOrderIds",null);const $=[];for(const _ of P)_ instanceof e.Ref&&$.push(_.toString());return(0,n.shadow)(this,"calculationOrderIds",0===$.length?null:$)}get annotationGlobals(){return(0,n.shadow)(this,"annotationGlobals",j.AnnotationFactory.createGlobals(this.pdfManager))}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PopupAnnotation=E.MarkupAnnotation=E.AnnotationFactory=E.AnnotationBorderStyle=E.Annotation=void 0,E.getQuadPoints=d;var n=V(2),j=V(3),x=V(11),e=V(4),t=V(8),a=V(5),F=V(60),m=V(66),y=V(12),k=V(69),s=V(26),p=V(76),i=V(64),D=V(73),b=V(77);function v(Q,R=new Uint8ClampedArray(3)){if(!Array.isArray(Q))return R;const X=R||new Uint8ClampedArray(3);switch(Q.length){case 0:return null;case 1:return y.ColorSpace.singletons.gray.getRgbItem(Q,0,X,0),X;case 3:return y.ColorSpace.singletons.rgb.getRgbItem(Q,0,X,0),X;case 4:return y.ColorSpace.singletons.cmyk.getRgbItem(Q,0,X,0),X;default:return R}}function S(Q){return Array.from(Q,R=>R/255)}function d(Q,R){const X=Q.getArray("QuadPoints");if(!Array.isArray(X)||0===X.length||X.length%8>0)return null;const G=[];for(let Y=0,K=X.length/8;Y<K;Y++){let Z=1/0,ae=-1/0,ie=1/0,te=-1/0;for(let re=8*Y,ee=8*Y+8;re<ee;re+=2){const le=X[re],ue=X[re+1];Z=Math.min(le,Z),ae=Math.max(le,ae),ie=Math.min(ue,ie),te=Math.max(ue,te)}if(null!==R&&(Z<R[0]||ae>R[2]||ie<R[1]||te>R[3]))return null;G.push([{x:Z,y:te},{x:ae,y:te},{x:Z,y:ie},{x:ae,y:ie}])}return G}function B(Q,R,X){const[G,Y,K,Z]=n.Util.getAxialAlignedBoundingBox(R,X);if(G===K||Y===Z)return[1,0,0,1,Q[0],Q[1]];const ae=(Q[2]-Q[0])/(K-G),ie=(Q[3]-Q[1])/(Z-Y);return[ae,0,0,ie,Q[0]-G*ae,Q[1]-Y*ie]}E.AnnotationFactory=class O{static createGlobals(R){return Promise.all([R.ensureCatalog("acroForm"),R.ensureDoc("xfaDatasets"),R.ensureCatalog("structTreeRoot"),R.ensureCatalog("baseUrl"),R.ensureCatalog("attachments")]).then(([X,G,Y,K,Z])=>({pdfManager:R,acroForm:X instanceof e.Dict?X:e.Dict.empty,xfaDatasets:G,structTreeRoot:Y,baseUrl:K,attachments:Z}),X=>((0,n.warn)(`createGlobals: "${X}".`),null))}static async create(R,X,G,Y,K,Z){const ae=K?await this._getPageIndex(R,X,G.pdfManager):null;return G.pdfManager.ensure(this,"_create",[R,X,G,Y,K,ae,Z])}static _create(R,X,G,Y,K=!1,Z=null,ae=null){const ie=R.fetchIfRef(X);if(!(ie instanceof e.Dict))return;const{acroForm:te,pdfManager:re}=G,ee=X instanceof e.Ref?X.toString():`annot_${Y.createObjId()}`;let le=ie.get("Subtype");le=le instanceof e.Name?le.name:null;const ue={xref:R,ref:X,dict:ie,subtype:le,id:ee,annotationGlobals:G,collectFields:K,needAppearances:!K&&!0===te.get("NeedAppearances"),pageIndex:Z,evaluatorOptions:re.evaluatorOptions,pageRef:ae};switch(le){case"Link":return new u(ue);case"Text":return new c(ue);case"Widget":let fe=(0,j.getInheritableProperty)({dict:ie,key:"FT"});switch(fe=fe instanceof e.Name?fe.name:null,fe){case"Tx":return new M(ue);case"Btn":return new l(ue);case"Ch":return new r(ue);case"Sig":return new f(ue)}return(0,n.warn)(`Unimplemented widget field type "${fe}", falling back to base field type.`),new h(ue);case"Popup":return new I(ue);case"FreeText":return new A(ue);case"Line":return new P(ue);case"Square":return new $(ue);case"Circle":return new _(ue);case"PolyLine":return new w(ue);case"Polygon":return new T(ue);case"Caret":return new N(ue);case"Ink":return new H(ue);case"Highlight":return new z(ue);case"Underline":return new U(ue);case"Squiggly":return new q(ue);case"StrikeOut":return new J(ue);case"Stamp":return new oe(ue);case"FileAttachment":return new ne(ue);default:return K||(0,n.warn)(le?`Unimplemented annotation type "${le}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new g(ue)}}static async _getPageIndex(R,X,G){try{const Y=await R.fetchIfRefAsync(X);if(!(Y instanceof e.Dict))return-1;const K=Y.getRaw("P");if(K instanceof e.Ref)try{return await G.ensureCatalog("getPageIndex",[K])}catch(ae){(0,n.info)(`_getPageIndex -- not a valid page reference: "${ae}".`)}if(Y.has("Kids"))return-1;const Z=await G.ensureDoc("numPages");for(let ae=0;ae<Z;ae++){const ie=await G.getPage(ae),te=await G.ensure(ie,"annotations");for(const re of te)if(re instanceof e.Ref&&(0,e.isRefsEqual)(re,X))return ae}}catch(Y){(0,n.warn)(`_getPageIndex: "${Y}".`)}return-1}static generateImages(R,X,G){if(!G)return(0,n.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let Y;for(const{bitmapId:K,bitmap:Z}of R)Z&&(Y||=new Map,Y.set(K,oe.createImage(Z,X)));return Y}static async saveNewAnnotations(R,X,G,Y){const K=R.xref;let Z;const ae=[],ie=[],{isOffscreenCanvasSupported:te}=R.options;for(const re of G)if(!re.deleted)switch(re.annotationType){case n.AnnotationEditorType.FREETEXT:if(!Z){const le=new e.Dict(K);le.set("BaseFont",e.Name.get("Helvetica")),le.set("Type",e.Name.get("Font")),le.set("Subtype",e.Name.get("Type1")),le.set("Encoding",e.Name.get("WinAnsiEncoding"));const ue=[];Z=K.getNewTemporaryRef(),await(0,D.writeObject)(Z,le,ue,K),ae.push({ref:Z,data:ue.join("")})}ie.push(A.createNewAnnotation(K,re,ae,{evaluator:R,task:X,baseFontRef:Z}));break;case n.AnnotationEditorType.INK:ie.push(H.createNewAnnotation(K,re,ae));break;case n.AnnotationEditorType.STAMP:if(!te)break;const ee=await Y.get(re.bitmapId);if(ee.imageStream){const{imageStream:le,smaskStream:ue}=ee,fe=[];if(ue){const Ce=K.getNewTemporaryRef();await(0,D.writeObject)(Ce,ue,fe,K),ae.push({ref:Ce,data:fe.join("")}),le.dict.set("SMask",Ce),fe.length=0}const Se=ee.imageRef=K.getNewTemporaryRef();await(0,D.writeObject)(Se,le,fe,K),ae.push({ref:Se,data:fe.join("")}),ee.imageStream=ee.smaskStream=null}ie.push(oe.createNewAnnotation(K,re,ae,{image:ee}))}return{annotations:await Promise.all(ie),dependencies:ae}}static async printNewAnnotations(R,X,G,Y,K){if(!Y)return null;const{options:Z,xref:ae}=X,ie=[];for(const te of Y)if(!te.deleted)switch(te.annotationType){case n.AnnotationEditorType.FREETEXT:ie.push(A.createNewPrintAnnotation(R,ae,te,{evaluator:X,task:G,evaluatorOptions:Z}));break;case n.AnnotationEditorType.INK:ie.push(H.createNewPrintAnnotation(R,ae,te,{evaluatorOptions:Z}));break;case n.AnnotationEditorType.STAMP:if(!Z.isOffscreenCanvasSupported)break;const re=await K.get(te.bitmapId);if(re.imageStream){const{imageStream:ee,smaskStream:le}=re;le&&ee.dict.set("SMask",le),re.imageRef=new s.JpegStream(ee,ee.length),re.imageStream=re.smaskStream=null}ie.push(oe.createNewPrintAnnotation(R,ae,te,{image:re,evaluatorOptions:Z}))}return Promise.all(ie)}};class g{constructor(R){const{dict:X,xref:G,annotationGlobals:Y}=R;this.setTitle(X.get("T")),this.setContents(X.get("Contents")),this.setModificationDate(X.get("M")),this.setFlags(X.get("F")),this.setRectangle(X.getArray("Rect")),this.setColor(X.getArray("C")),this.setBorderStyle(X),this.setAppearance(X),this.setOptionalContent(X);const K=X.get("MK");this.setBorderAndBackgroundColors(K),this.setRotation(K,X),this.ref=R.ref instanceof e.Ref?R.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Z=!!(this.flags&n.AnnotationFlag.LOCKED),ae=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(Y.structTreeRoot){let ie=X.get("StructParent");ie=Number.isInteger(ie)&&ie>=0?ie:-1,Y.structTreeRoot.addAnnotationIdToPage(R.pageRef,ie)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:R.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:R.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:Z&&ae},R.collectFields){const ie=X.get("Kids");if(Array.isArray(ie)){const te=[];for(const re of ie)re instanceof e.Ref&&te.push(re.toString());0!==te.length&&(this.data.kidIds=te)}this.data.actions=(0,j.collectActions)(G,X,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(X),this.data.pageIndex=R.pageIndex}this._isOffscreenCanvasSupported=R.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(R,X){return!!(R&X)}_isViewable(R){return!this._hasFlag(R,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(R,n.AnnotationFlag.NOVIEW)}_isPrintable(R){return this._hasFlag(R,n.AnnotationFlag.PRINT)&&!this._hasFlag(R,n.AnnotationFlag.HIDDEN)&&!this._hasFlag(R,n.AnnotationFlag.INVISIBLE)}mustBeViewed(R,X){const G=R?.get(this.data.id)?.noView;return void 0!==G?!G:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(R){const X=R?.get(this.data.id)?.noPrint;return void 0!==X?!X:this.printable}get viewable(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}get printable(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}_parseStringHelper(R){const X="string"==typeof R?(0,n.stringToPDFString)(R):"";return{str:X,dir:X&&"rtl"===(0,F.bidi)(X).dir?"rtl":"ltr"}}setDefaultAppearance(R){const{dict:X,annotationGlobals:G}=R,Y=(0,j.getInheritableProperty)({dict:X,key:"DA"})||G.acroForm.get("DA");this._defaultAppearance="string"==typeof Y?Y:"",this.data.defaultAppearanceData=(0,x.parseDefaultAppearance)(this._defaultAppearance)}setTitle(R){this._title=this._parseStringHelper(R)}setContents(R){this._contents=this._parseStringHelper(R)}setModificationDate(R){this.modificationDate="string"==typeof R?R:null}setFlags(R){this.flags=Number.isInteger(R)&&R>0?R:0}hasFlag(R){return this._hasFlag(this.flags,R)}setRectangle(R){this.rectangle=Array.isArray(R)&&4===R.length?n.Util.normalizeRect(R):[0,0,0,0]}setColor(R){this.color=v(R)}setLineEndings(R){if(this.lineEndings=["None","None"],Array.isArray(R)&&2===R.length)for(let X=0;X<2;X++){const G=R[X];if(G instanceof e.Name)switch(G.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[X]=G.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${G}`)}}setRotation(R,X){this.rotation=0;let G=R instanceof e.Dict?R.get("R")||0:X.get("Rotate")||0;Number.isInteger(G)&&0!==G&&(G%=360,G<0&&(G+=360),G%90==0&&(this.rotation=G))}setBorderAndBackgroundColors(R){R instanceof e.Dict?(this.borderColor=v(R.getArray("BC"),null),this.backgroundColor=v(R.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(R){if(this.borderStyle=new L,R instanceof e.Dict)if(R.has("BS")){const X=R.get("BS"),G=X.get("Type");(!G||(0,e.isName)(G,"Border"))&&(this.borderStyle.setWidth(X.get("W"),this.rectangle),this.borderStyle.setStyle(X.get("S")),this.borderStyle.setDashArray(X.getArray("D")))}else if(R.has("Border")){const X=R.getArray("Border");Array.isArray(X)&&X.length>=3&&(this.borderStyle.setHorizontalCornerRadius(X[0]),this.borderStyle.setVerticalCornerRadius(X[1]),this.borderStyle.setWidth(X[2],this.rectangle),4===X.length&&this.borderStyle.setDashArray(X[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(R){this.appearance=null;const X=R.get("AP");if(!(X instanceof e.Dict))return;const G=X.get("N");if(G instanceof a.BaseStream)return void(this.appearance=G);if(!(G instanceof e.Dict))return;const Y=R.get("AS");if(!(Y instanceof e.Name&&G.has(Y.name)))return;const K=G.get(Y.name);K instanceof a.BaseStream&&(this.appearance=K)}setOptionalContent(R){this.oc=null;const X=R.get("OC");X instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):X instanceof e.Dict&&(this.oc=X)}loadResources(R,X){return X.dict.getAsync("Resources").then(G=>G?new p.ObjectLoader(G,R,G.xref).load().then(function(){return G}):void 0)}async getOperatorList(R,X,G,Y,K){const Z=this.data;let ae=this.appearance;const ie=!!(this.data.hasOwnCanvas&&G&n.RenderingIntentFlag.DISPLAY);if(!ae){if(!ie)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};ae=new t.StringStream(""),ae.dict=new e.Dict}const te=ae.dict,re=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],ae),ee=te.getArray("BBox")||[0,0,1,1],le=te.getArray("Matrix")||[1,0,0,1,0,0],ue=B(Z.rect,ee,le),fe=new i.OperatorList;let Se;return this.oc&&(Se=await R.parseMarkedContentProps(this.oc,null)),void 0!==Se&&fe.addOp(n.OPS.beginMarkedContentProps,["OC",Se]),fe.addOp(n.OPS.beginAnnotation,[Z.id,Z.rect,ue,le,ie]),await R.getOperatorList({stream:ae,task:X,resources:re,operatorList:fe,fallbackFontDict:this._fallbackFontDict}),fe.addOp(n.OPS.endAnnotation,[]),void 0!==Se&&fe.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:fe,separateForm:!1,separateCanvas:ie}}async save(R,X,G){return null}get hasTextContent(){return!1}async extractTextContent(R,X,G){if(!this.appearance)return;const Y=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),K=[],Z=[];let ae=null;const ie={desiredSize:Math.Infinity,ready:!0,enqueue(te,re){for(const ee of te.items)void 0!==ee.str&&(ae||=ee.transform.slice(-2),Z.push(ee.str),ee.hasEOL&&(K.push(Z.join("")),Z.length=0))}};if(await R.getTextContent({stream:this.appearance,task:X,resources:Y,includeMarkedContent:!0,sink:ie,viewBox:G}),this.reset(),Z.length&&K.push(Z.join("")),K.length>1||K[0]){const te=this.appearance.dict,re=te.getArray("BBox")||[0,0,1,1],ee=te.getArray("Matrix")||[1,0,0,1,0,0],le=this.data.rect,ue=B(le,re,ee);ue[4]-=le[0],ue[5]-=le[1],ae=n.Util.applyTransform(ae,ue),ae=n.Util.applyTransform(ae,ee),this.data.textPosition=ae,this.data.textContent=K}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const R of this._streams)R.reset()}_constructFieldName(R){if(!R.has("T")&&!R.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!R.has("Parent"))return(0,n.stringToPDFString)(R.get("T"));const X=[];R.has("T")&&X.unshift((0,n.stringToPDFString)(R.get("T")));let G=R;const Y=new e.RefSet;for(R.objId&&Y.put(R.objId);G.has("Parent")&&(G=G.get("Parent"),G instanceof e.Dict&&(!G.objId||!Y.has(G.objId)));)G.objId&&Y.put(G.objId),G.has("T")&&X.unshift((0,n.stringToPDFString)(G.get("T")));return X.join(".")}}E.Annotation=g;class L{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(R,X=[0,0,0,0]){if(R instanceof e.Name)this.width=0;else if("number"==typeof R){if(R>0){const G=(X[2]-X[0])/2,Y=(X[3]-X[1])/2;G>0&&Y>0&&(R>G||R>Y)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${R}`),R=1)}this.width=R}}setStyle(R){if(R instanceof e.Name)switch(R.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE}}setDashArray(R,X=!1){if(Array.isArray(R)&&R.length>0){let G=!0,Y=!0;for(const K of R){if(!(+K>=0)){G=!1;break}K>0&&(Y=!1)}G&&!Y?(this.dashArray=R,X&&this.setStyle(e.Name.get("D"))):this.width=0}else R&&(this.width=0)}setHorizontalCornerRadius(R){Number.isInteger(R)&&(this.horizontalCornerRadius=R)}setVerticalCornerRadius(R){Number.isInteger(R)&&(this.verticalCornerRadius=R)}}E.AnnotationBorderStyle=L;class C extends g{constructor(R){super(R);const{dict:X}=R;if(X.has("IRT")){const Y=X.getRaw("IRT");this.data.inReplyTo=Y instanceof e.Ref?Y.toString():null;const K=X.get("RT");this.data.replyType=K instanceof e.Name?K.name:n.AnnotationReplyType.REPLY}let G=null;if(this.data.replyType===n.AnnotationReplyType.GROUP){const Y=X.get("IRT");this.setTitle(Y.get("T")),this.data.titleObj=this._title,this.setContents(Y.get("Contents")),this.data.contentsObj=this._contents,Y.has("CreationDate")?(this.setCreationDate(Y.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,Y.has("M")?(this.setModificationDate(Y.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,G=Y.getRaw("Popup"),Y.has("C")?(this.setColor(Y.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(X.get("CreationDate")),this.data.creationDate=this.creationDate,G=X.getRaw("Popup"),X.has("C")||(this.data.color=null);this.data.popupRef=G instanceof e.Ref?G.toString():null,X.has("RC")&&(this.data.richText=b.XFAFactory.getRichTextAsHtml(X.get("RC")))}setCreationDate(R){this.creationDate="string"==typeof R?R:null}_setDefaultAppearance({xref:R,extra:X,strokeColor:G,fillColor:Y,blendMode:K,strokeAlpha:Z,fillAlpha:ae,pointsCallback:ie}){let te=Number.MAX_VALUE,re=Number.MAX_VALUE,ee=Number.MIN_VALUE,le=Number.MIN_VALUE;const ue=["q"];X&&ue.push(X),G&&ue.push(`${G[0]} ${G[1]} ${G[2]} RG`),Y&&ue.push(`${Y[0]} ${Y[1]} ${Y[2]} rg`);let fe=this.data.quadPoints;fe||(fe=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const pe of fe){const[xe,we,Ne,He]=ie(ue,pe);te=Math.min(te,xe),ee=Math.max(ee,we),re=Math.min(re,Ne),le=Math.max(le,He)}ue.push("Q");const Se=new e.Dict(R),Ce=new e.Dict(R);Ce.set("Subtype",e.Name.get("Form"));const ve=new t.StringStream(ue.join(" "));ve.dict=Ce,Se.set("Fm0",ve);const me=new e.Dict(R);K&&me.set("BM",e.Name.get(K)),"number"==typeof Z&&me.set("CA",Z),"number"==typeof ae&&me.set("ca",ae);const de=new e.Dict(R);de.set("GS0",me);const ge=new e.Dict(R);ge.set("ExtGState",de),ge.set("XObject",Se);const Ae=new e.Dict(R);Ae.set("Resources",ge);const be=this.data.rect=[te,re,ee,le];Ae.set("BBox",be),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ae,this._streams.push(this.appearance,ve)}static async createNewAnnotation(R,X,G,Y){const K=X.ref||=R.getNewTemporaryRef(),Z=await this.createNewAppearanceStream(X,R,Y),ae=[];let ie;if(Z){const te=R.getNewTemporaryRef();ie=this.createNewDict(X,R,{apRef:te}),await(0,D.writeObject)(te,Z,ae,R),G.push({ref:te,data:ae.join("")})}else ie=this.createNewDict(X,R,{});return Number.isInteger(X.parentTreeId)&&ie.set("StructParent",X.parentTreeId),ae.length=0,await(0,D.writeObject)(K,ie,ae,R),{ref:K,data:ae.join("")}}static async createNewPrintAnnotation(R,X,G,Y){const K=await this.createNewAppearanceStream(G,X,Y),Z=this.createNewDict(G,X,{ap:K}),ae=new this.prototype.constructor({dict:Z,xref:X,annotationGlobals:R,evaluatorOptions:Y.evaluatorOptions});return G.ref&&(ae.ref=ae.refToReplace=G.ref),ae}}E.MarkupAnnotation=C;class h extends g{constructor(R){super(R);const{dict:X,xref:G,annotationGlobals:Y}=R,K=this.data;this._needAppearances=R.needAppearances,K.annotationType=n.AnnotationType.WIDGET,void 0===K.fieldName&&(K.fieldName=this._constructFieldName(X)),void 0===K.actions&&(K.actions=(0,j.collectActions)(G,X,n.AnnotationActionEventType));let Z=(0,j.getInheritableProperty)({dict:X,key:"V",getArray:!0});K.fieldValue=this._decodeFormValue(Z);const ae=(0,j.getInheritableProperty)({dict:X,key:"DV",getArray:!0});if(K.defaultFieldValue=this._decodeFormValue(ae),void 0===Z&&Y.xfaDatasets){const le=this._title.str;le&&(this._hasValueFromXFA=!0,K.fieldValue=Z=Y.xfaDatasets.getValue(le))}void 0===Z&&null!==K.defaultFieldValue&&(K.fieldValue=K.defaultFieldValue),K.alternativeText=(0,n.stringToPDFString)(X.get("TU")||""),this.setDefaultAppearance(R),K.hasAppearance||=this._needAppearances&&null!=K.fieldValue;const ie=(0,j.getInheritableProperty)({dict:X,key:"FT"});K.fieldType=ie instanceof e.Name?ie.name:null;const te=(0,j.getInheritableProperty)({dict:X,key:"DR"}),re=Y.acroForm.get("DR"),ee=this.appearance?.dict.get("Resources");this._fieldResources={localResources:te,acroFormResources:re,appearanceResources:ee,mergedResources:e.Dict.merge({xref:G,dictArray:[te,ee,re],mergeSubDicts:!0})},K.fieldFlags=(0,j.getInheritableProperty)({dict:X,key:"Ff"}),(!Number.isInteger(K.fieldFlags)||K.fieldFlags<0)&&(K.fieldFlags=0),K.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),K.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),K.hidden=this._hasFlag(K.annotationFlags,n.AnnotationFlag.HIDDEN)||this._hasFlag(K.annotationFlags,n.AnnotationFlag.NOVIEW)}_decodeFormValue(R){return Array.isArray(R)?R.filter(X=>"string"==typeof X).map(X=>(0,n.stringToPDFString)(X)):R instanceof e.Name?(0,n.stringToPDFString)(R.name):"string"==typeof R?(0,n.stringToPDFString)(R):null}hasFieldFlag(R){return!!(this.data.fieldFlags&R)}_isViewable(R){return!this._hasFlag(R,n.AnnotationFlag.INVISIBLE)}mustBeViewed(R,X){return X?this.viewable:super.mustBeViewed(R,X)&&!this._hasFlag(this.flags,n.AnnotationFlag.NOVIEW)}getRotationMatrix(R){let X=R?.get(this.data.id)?.rotation;return void 0===X&&(X=this.rotation),0===X?n.IDENTITY_MATRIX:(0,j.getRotationMatrix)(X,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1])}getBorderAndBackgroundAppearances(R){let X=R?.get(this.data.id)?.rotation;if(void 0===X&&(X=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const G=this.data.rect[2]-this.data.rect[0],Y=this.data.rect[3]-this.data.rect[1],K=0===X||180===X?`0 0 ${G} ${Y} re`:`0 0 ${Y} ${G} re`;let Z="";return this.backgroundColor&&(Z=`${(0,x.getPdfColor)(this.backgroundColor,!0)} ${K} f `),this.borderColor&&(Z+=`${this.borderStyle.width||1} w ${(0,x.getPdfColor)(this.borderColor,!1)} ${K} S `),Z}async getOperatorList(R,X,G,Y,K){if(Y&&!(this instanceof f)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(R,X,G,Y,K);const Z=await this._getAppearance(R,X,G,K);if(this.appearance&&null===Z)return super.getOperatorList(R,X,G,Y,K);const ae=new i.OperatorList;if(!this._defaultAppearance||null===Z)return{opList:ae,separateForm:!1,separateCanvas:!1};const ie=!!(this.data.hasOwnCanvas&&G&n.RenderingIntentFlag.DISPLAY),ee=B(this.data.rect,[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],[1,0,0,1,0,0]);let le;this.oc&&(le=await R.parseMarkedContentProps(this.oc,null)),void 0!==le&&ae.addOp(n.OPS.beginMarkedContentProps,["OC",le]),ae.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,ee,this.getRotationMatrix(K),ie]);const ue=new t.StringStream(Z);return await R.getOperatorList({stream:ue,task:X,resources:this._fieldResources.mergedResources,operatorList:ae}),ae.addOp(n.OPS.endAnnotation,[]),void 0!==le&&ae.addOp(n.OPS.endMarkedContent,[]),{opList:ae,separateForm:!1,separateCanvas:ie}}_getMKDict(R){const X=new e.Dict(null);return R&&X.set("R",R),this.borderColor&&X.set("BC",S(this.borderColor)),this.backgroundColor&&X.set("BG",S(this.backgroundColor)),X.size>0?X:null}amendSavedDict(R,X){}async save(R,X,G){const Y=G?.get(this.data.id);let K=Y?.value,Z=Y?.rotation;if(K===this.data.fieldValue||void 0===K){if(!this._hasValueFromXFA&&void 0===Z)return null;K||=this.data.fieldValue}if(void 0===Z&&!this._hasValueFromXFA&&Array.isArray(K)&&Array.isArray(this.data.fieldValue)&&K.length===this.data.fieldValue.length&&K.every((ve,me)=>ve===this.data.fieldValue[me]))return null;void 0===Z&&(Z=this.rotation);let ae=null;if(!this._needAppearances&&(ae=await this._getAppearance(R,X,n.RenderingIntentFlag.SAVE,G),null===ae))return null;let ie=!1;ae?.needAppearances&&(ie=!0,ae=null);const{xref:te}=R,re=te.fetchIfRef(this.ref);if(!(re instanceof e.Dict))return null;const ee=new e.Dict(te);for(const ve of re.getKeys())"AP"!==ve&&ee.set(ve,re.getRaw(ve));const le={path:this.data.fieldName,value:K},ue=ve=>(0,j.isAscii)(ve)?ve:(0,j.stringToUTF16String)(ve,!0);ee.set("V",Array.isArray(K)?K.map(ue):ue(K)),this.amendSavedDict(G,ee);const fe=this._getMKDict(Z);fe&&ee.set("MK",fe);const Se=[],Ce=[{ref:this.ref,data:"",xfa:le,needAppearances:ie}];if(null!==ae){const ve=te.getNewTemporaryRef(),me=new e.Dict(te);ee.set("AP",me),me.set("N",ve);const de=this._getSaveFieldResources(te),ge=new t.StringStream(ae),Ae=ge.dict=new e.Dict(te);Ae.set("Subtype",e.Name.get("Form")),Ae.set("Resources",de),Ae.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const be=this.getRotationMatrix(G);be!==n.IDENTITY_MATRIX&&Ae.set("Matrix",be),await(0,D.writeObject)(ve,ge,Se,te),Ce.push({ref:ve,data:Se.join(""),xfa:null,needAppearances:!1}),Se.length=0}return ee.set("M",`D:${(0,n.getModificationDate)()}`),await(0,D.writeObject)(this.ref,ee,Se,te),Ce[0].data=Se.join(""),Ce}async _getAppearance(R,X,G,Y){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const Z=Y?.get(this.data.id);let ae,ie;if(Z&&(ae=Z.formattedValue||Z.value,ie=Z.rotation),void 0===ie&&void 0===ae&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const te=this.getBorderAndBackgroundAppearances(Y);if(void 0===ae&&(ae=this.data.fieldValue,!ae))return`/Tx BMC q ${te}Q EMC`;if(Array.isArray(ae)&&1===ae.length&&(ae=ae[0]),(0,n.assert)("string"==typeof ae,"Expected `value` to be a string."),ae=ae.trim(),this.data.combo&&(ae=this.data.options.find(({exportValue:qe})=>ae===qe)?.displayValue||ae),""===ae)return`/Tx BMC q ${te}Q EMC`;void 0===ie&&(ie=this.rotation);let ee,re=-1;this.data.multiLine?(ee=ae.split(/\r\n?|\n/).map($e=>$e.normalize("NFC")),re=ee.length):ee=[ae.replace(/\r\n?|\n/,"").normalize("NFC")];let fe=this.data.rect[3]-this.data.rect[1],Se=this.data.rect[2]-this.data.rect[0];(90===ie||270===ie)&&([Se,fe]=[fe,Se]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,x.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let ve,me,de,Ce=await h._getFontData(R,X,this.data.defaultAppearanceData,this._fieldResources.mergedResources);const ge=[];let Ae=!1;for(const $e of ee){const qe=Ce.encodeString($e);qe.length>1&&(Ae=!0),ge.push(qe.join(""))}if(Ae&&G&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(Ae&&this._isOffscreenCanvasSupported){const qe=new x.FakeUnicodeFont(R.xref,this.data.comb?"monospace":"sans-serif"),Ke=qe.createFontResources(ee.join("")),Oe=Ke.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ze=this._fieldResources.mergedResources.get("Font");for(const Be of Oe.getKeys())Ze.set(Be,Oe.getRaw(Be))}else this._fieldResources.mergedResources.set("Font",Oe);const Pe=qe.fontName.name;Ce=await h._getFontData(R,X,{fontName:Pe,fontSize:0},Ke);for(let Ze=0,Be=ge.length;Ze<Be;Ze++)ge[Ze]=(0,j.stringToUTF16String)(ee[Ze]);const ze=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Pe,[ve,me,de]=this._computeFontSize(fe-2,Se-4,ae,Ce,re),this.data.defaultAppearanceData=ze}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[ve,me,de]=this._computeFontSize(fe-2,Se-4,ae,Ce,re);let be=Ce.descent;be=isNaN(be)?n.BASELINE_FACTOR*de:Math.max(n.BASELINE_FACTOR*de,Math.abs(be)*me);const pe=Math.min(Math.floor((fe-me)/2),1),xe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(ve,ge,Ce,me,Se,fe,xe,2,pe,be,de,Y);if(this.data.comb)return this._getCombAppearance(ve,Ce,ge[0],me,Se,fe,2,pe,be,de,Y);const we=pe+be;return 0===xe||xe>2?`/Tx BMC q ${te}BT `+ve+` 1 0 0 1 ${(0,j.numberToString)(2)} ${(0,j.numberToString)(we)} Tm (${(0,j.escapeString)(ge[0])}) Tj ET Q EMC`:`/Tx BMC q ${te}BT `+ve+` 1 0 0 1 0 0 Tm ${this._renderText(ge[0],Ce,me,Se,xe,{shift:0},2,we)} ET Q EMC`}static async _getFontData(R,X,G,Y){const K=new i.OperatorList,Z={font:null,clone(){return this}},{fontName:ae,fontSize:ie}=G;return await R.handleSetFont(Y,[ae&&e.Name.get(ae),ie],null,K,X,Z,null),Z.font}_getTextWidth(R,X){return X.charsToGlyphs(R).reduce((G,Y)=>G+Y.width,0)/1e3}_computeFontSize(R,X,G,Y,K){let{fontSize:Z}=this.data.defaultAppearanceData,ae=(Z||12)*n.LINE_FACTOR,ie=Math.round(R/ae);if(!Z){const te=le=>Math.floor(100*le)/100;if(-1===K){const le=this._getTextWidth(G,Y);Z=te(Math.min(R/n.LINE_FACTOR,le>X?X/le:1/0)),ie=1}else{const le=G.split(/\r\n?|\n/),ue=[];for(const Se of le){const Ce=Y.encodeString(Se).join(""),ve=Y.charsToGlyphs(Ce),me=Y.getCharPositions(Ce);ue.push({line:Ce,glyphs:ve,positions:me})}const fe=Se=>{let Ce=0;for(const ve of ue)if(Ce+=this._splitLine(null,Y,Se,X,ve).length*Se,Ce>R)return!0;return!1};for(ie=Math.max(ie,K);ae=R/ie,Z=te(ae/n.LINE_FACTOR),fe(Z);)ie++}const{fontName:re,fontColor:ee}=this.data.defaultAppearanceData;this._defaultAppearance=(0,x.createDefaultAppearance)({fontSize:Z,fontName:re,fontColor:ee})}return[this._defaultAppearance,Z,R/ie]}_renderText(R,X,G,Y,K,Z,ae,ie){let te;te=1===K?(Y-this._getTextWidth(R,X)*G)/2:2===K?Y-this._getTextWidth(R,X)*G-ae:ae;const re=(0,j.numberToString)(te-Z.shift);return Z.shift=te,`${re} ${ie=(0,j.numberToString)(ie)} Td (${(0,j.escapeString)(R)}) Tj`}_getSaveFieldResources(R){const{localResources:X,appearanceResources:G,acroFormResources:Y}=this._fieldResources,K=this.data.defaultAppearanceData?.fontName;if(!K)return X||e.Dict.empty;for(const Z of[X,G])if(Z instanceof e.Dict){const ae=Z.get("Font");if(ae instanceof e.Dict&&ae.has(K))return Z}if(Y instanceof e.Dict){const Z=Y.get("Font");if(Z instanceof e.Dict&&Z.has(K)){const ae=new e.Dict(R);ae.set(K,Z.getRaw(K));const ie=new e.Dict(R);return ie.set("Font",ae),e.Dict.merge({xref:R,dictArray:[ie,X],mergeSubDicts:!0})}}return X||e.Dict.empty}getFieldObject(){return null}}class M extends h{constructor(R){super(R),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const X=R.dict;"string"!=typeof this.data.fieldValue&&(this.data.fieldValue="");let G=(0,j.getInheritableProperty)({dict:X,key:"Q"});(!Number.isInteger(G)||G<0||G>2)&&(G=null),this.data.textAlignment=G;let Y=(0,j.getInheritableProperty)({dict:X,key:"MaxLen"});(!Number.isInteger(Y)||Y<0)&&(Y=0),this.data.maxLen=Y,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&0!==this.data.maxLen,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(R,X,G,Y,K,Z,ae,ie,te,re,ee){const le=K/this.data.maxLen,ue=this.getBorderAndBackgroundAppearances(ee),fe=[],Se=X.getCharPositions(G);for(const[ve,me]of Se)fe.push(`(${(0,j.escapeString)(G.substring(ve,me))}) Tj`);const Ce=fe.join(` ${(0,j.numberToString)(le)} 0 Td `);return`/Tx BMC q ${ue}BT `+R+` 1 0 0 1 ${(0,j.numberToString)(ae)} ${(0,j.numberToString)(ie+te)} Tm ${Ce} ET Q EMC`}_getMultilineAppearance(R,X,G,Y,K,Z,ae,ie,te,re,ee,le){const ue=[],fe=K-2*ie,Se={shift:0};for(let me=0,de=X.length;me<de;me++){const Ae=this._splitLine(X[me],G,Y,fe);for(let be=0,pe=Ae.length;be<pe;be++)ue.push(this._renderText(Ae[be],G,Y,K,ae,Se,ie,0===me&&0===be?-te-(ee-re):-ee))}const Ce=this.getBorderAndBackgroundAppearances(le),ve=ue.join("\n");return`/Tx BMC q ${Ce}BT `+R+` 1 0 0 1 0 ${(0,j.numberToString)(Z)} Tm ${ve} ET Q EMC`}_splitLine(R,X,G,Y,K={}){R=K.line||R;const Z=K.glyphs||X.charsToGlyphs(R);if(Z.length<=1)return[R];const ae=K.positions||X.getCharPositions(R),ie=G/1e3,te=[];let re=-1,ee=-1,le=-1,ue=0,fe=0;for(let Se=0,Ce=Z.length;Se<Ce;Se++){const[ve,me]=ae[Se],de=Z[Se],ge=de.width*ie;" "===de.unicode?fe+ge>Y?(te.push(R.substring(ue,ve)),ue=ve,fe=ge,re=-1,le=-1):(fe+=ge,re=ve,ee=me,le=Se):fe+ge>Y?-1!==re?(te.push(R.substring(ue,ee)),ue=ee,Se=le+1,re=-1,fe=0):(te.push(R.substring(ue,ve)),ue=ve,fe=ge):fe+=ge}return ue<R.length&&te.push(R.substring(ue,R.length)),te}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class l extends h{constructor(R){super(R),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(R):this.data.radioButton?this._processRadioButton(R):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(R)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(R,X,G,Y,K){if(this.data.pushButton)return super.getOperatorList(R,X,G,!1,K);let Z=null,ae=null;if(K){const te=K.get(this.data.id);Z=te?te.value:null,ae=te?te.rotation:null}if(null===Z&&this.appearance)return super.getOperatorList(R,X,G,Y,K);null==Z&&(Z=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const ie=Z?this.checkedAppearance:this.uncheckedAppearance;if(ie){const te=this.appearance,re=ie.dict.getArray("Matrix")||n.IDENTITY_MATRIX;ae&&ie.dict.set("Matrix",this.getRotationMatrix(K)),this.appearance=ie;const ee=super.getOperatorList(R,X,G,Y,K);return this.appearance=te,ie.dict.set("Matrix",re),ee}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save(R,X,G){return this.data.checkBox?this._saveCheckbox(R,X,G):this.data.radioButton?this._saveRadioButton(R,X,G):null}async _saveCheckbox(R,X,G){if(!G)return null;const Y=G.get(this.data.id);let K=Y?.rotation,Z=Y?.value;if(void 0===K&&(void 0===Z||this.data.fieldValue===this.data.exportValue===Z))return null;const ae=R.xref.fetchIfRef(this.ref);if(!(ae instanceof e.Dict))return null;void 0===K&&(K=this.rotation),void 0===Z&&(Z=this.data.fieldValue===this.data.exportValue);const ie={path:this.data.fieldName,value:Z?this.data.exportValue:""},te=e.Name.get(Z?this.data.exportValue:"Off");ae.set("V",te),ae.set("AS",te),ae.set("M",`D:${(0,n.getModificationDate)()}`);const re=this._getMKDict(K);re&&ae.set("MK",re);const ee=[];return await(0,D.writeObject)(this.ref,ae,ee,R.xref),[{ref:this.ref,data:ee.join(""),xfa:ie}]}async _saveRadioButton(R,X,G){if(!G)return null;const Y=G.get(this.data.id);let K=Y?.rotation,Z=Y?.value;if(void 0===K&&(void 0===Z||this.data.fieldValue===this.data.buttonValue===Z))return null;const ae=R.xref.fetchIfRef(this.ref);if(!(ae instanceof e.Dict))return null;void 0===Z&&(Z=this.data.fieldValue===this.data.buttonValue),void 0===K&&(K=this.rotation);const ie={path:this.data.fieldName,value:Z?this.data.buttonValue:""},te=e.Name.get(Z?this.data.buttonValue:"Off"),re=[];let ee=null;if(Z)if(this.parent instanceof e.Ref){const fe=R.xref.fetch(this.parent);fe.set("V",te),await(0,D.writeObject)(this.parent,fe,re,R.xref),ee=re.join(""),re.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",te);ae.set("AS",te),ae.set("M",`D:${(0,n.getModificationDate)()}`);const le=this._getMKDict(K);le&&ae.set("MK",le),await(0,D.writeObject)(this.ref,ae,re,R.xref);const ue=[{ref:this.ref,data:re.join(""),xfa:ie}];return ee&&ue.push({ref:this.parent,data:ee,xfa:null}),ue}_getDefaultCheckedAppearance(R,X){const G=this.data.rect[2]-this.data.rect[0],Y=this.data.rect[3]-this.data.rect[1],K=[0,0,G,Y],ae=.8*Math.min(G,Y);let ie,te;"check"===X?(ie={width:.755*ae,height:.705*ae},te="3"):"disc"===X?(ie={width:.791*ae,height:.705*ae},te="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${X}`);const le=`q BT /PdfJsZaDb ${ae} Tf 0 g ${(0,j.numberToString)((G-ie.width)/2)} ${(0,j.numberToString)((Y-ie.height)/2)} Td (${te}) Tj ET Q`,ue=new e.Dict(R.xref);ue.set("FormType",1),ue.set("Subtype",e.Name.get("Form")),ue.set("Type",e.Name.get("XObject")),ue.set("BBox",K),ue.set("Matrix",[1,0,0,1,0,0]),ue.set("Length",le.length);const fe=new e.Dict(R.xref),Se=new e.Dict(R.xref);Se.set("PdfJsZaDb",this.fallbackFontDict),fe.set("Font",Se),ue.set("Resources",fe),this.checkedAppearance=new t.StringStream(le),this.checkedAppearance.dict=ue,this._streams.push(this.checkedAppearance)}_processCheckBox(R){const X=R.dict.get("AP");if(!(X instanceof e.Dict))return;const G=X.get("N");if(!(G instanceof e.Dict))return;const Y=this._decodeFormValue(R.dict.get("AS"));"string"==typeof Y&&(this.data.fieldValue=Y);const K=null!==this.data.fieldValue&&"Off"!==this.data.fieldValue?this.data.fieldValue:"Yes",Z=G.getKeys();if(0===Z.length)Z.push("Off",K);else if(1===Z.length)"Off"===Z[0]?Z.push(K):Z.unshift("Off");else if(Z.includes(K))Z.length=0,Z.push("Off",K);else{const te=Z.find(re=>"Off"!==re);Z.length=0,Z.push("Off",te)}Z.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Z[1];const ae=G.get(this.data.exportValue);this.checkedAppearance=ae instanceof a.BaseStream?ae:null;const ie=G.get("Off");this.uncheckedAppearance=ie instanceof a.BaseStream?ie:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(R,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,null===this.data.defaultFieldValue&&(this.data.defaultFieldValue="Off")}_processRadioButton(R){this.data.fieldValue=this.data.buttonValue=null;const X=R.dict.get("Parent");if(X instanceof e.Dict){this.parent=R.dict.getRaw("Parent");const ae=X.get("V");ae instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(ae))}const G=R.dict.get("AP");if(!(G instanceof e.Dict))return;const Y=G.get("N");if(!(Y instanceof e.Dict))return;for(const ae of Y.getKeys())if("Off"!==ae){this.data.buttonValue=this._decodeFormValue(ae);break}const K=Y.get(this.data.buttonValue);this.checkedAppearance=K instanceof a.BaseStream?K:null;const Z=Y.get("Off");this.uncheckedAppearance=Z instanceof a.BaseStream?Z:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(R,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,null===this.data.defaultFieldValue&&(this.data.defaultFieldValue="Off")}_processPushButton(R){const{dict:X,annotationGlobals:G}=R;X.has("A")||X.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!X.has("A")&&!X.has("AA"),m.Catalog.parseDestDictionary({destDict:X,resultObj:this.data,docBaseUrl:G.baseUrl,docAttachments:G.attachments})):(0,n.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let X,R="button";return this.data.checkBox?(R="checkbox",X=this.data.exportValue):this.data.radioButton&&(R="radiobutton",X=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:X,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:R}}get fallbackFontDict(){const R=new e.Dict;return R.set("BaseFont",e.Name.get("ZapfDingbats")),R.set("Type",e.Name.get("FallbackType")),R.set("Subtype",e.Name.get("FallbackType")),R.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",R)}}class r extends h{constructor(R){super(R);const{dict:X,xref:G}=R;this.indices=X.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const Y=(0,j.getInheritableProperty)({dict:X,key:"Opt"});if(Array.isArray(Y))for(let K=0,Z=Y.length;K<Z;K++){const ae=G.fetchIfRef(Y[K]),ie=Array.isArray(ae);this.data.options[K]={exportValue:this._decodeFormValue(ie?G.fetchIfRef(ae[0]):ae),displayValue:this._decodeFormValue(ie?G.fetchIfRef(ae[1]):ae)}}if(this.hasIndices){this.data.fieldValue=[];const K=this.data.options.length;for(const Z of this.indices)Number.isInteger(Z)&&Z>=0&&Z<K&&this.data.fieldValue.push(this.data.options[Z].exportValue)}else"string"==typeof this.data.fieldValue?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue.length>0?this.data.fieldValue[0]:null,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:this.data.combo?"combobox":"listbox"}}amendSavedDict(R,X){if(!this.hasIndices)return;let G=R?.get(this.data.id)?.value;Array.isArray(G)||(G=[G]);const Y=[],{options:K}=this.data;for(let Z=0,ae=0,ie=K.length;Z<ie;Z++)K[Z].exportValue===G[ae]&&(Y.push(Z),ae+=1);X.set("I",Y)}async _getAppearance(R,X,G,Y){if(this.data.combo)return super._getAppearance(R,X,G,Y);let K,Z;const ae=Y?.get(this.data.id);if(ae&&(Z=ae.rotation,K=ae.value),void 0===Z&&void 0===K&&!this._needAppearances)return null;void 0===K?K=this.data.fieldValue:Array.isArray(K)||(K=[K]);let re=this.data.rect[3]-this.data.rect[1],ee=this.data.rect[2]-this.data.rect[0];(90===Z||270===Z)&&([ee,re]=[re,ee]);const le=this.data.options.length,ue=[];for(let xe=0;xe<le;xe++){const{exportValue:we}=this.data.options[xe];K.includes(we)&&ue.push(xe)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,x.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const fe=await h._getFontData(R,X,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Se,{fontSize:Ce}=this.data.defaultAppearanceData;if(Ce)Se=this._defaultAppearance;else{const xe=(re-1)/le;let Ne,we=-1;for(const{displayValue:He}of this.data.options){const $e=this._getTextWidth(He,fe);$e>we&&(we=$e,Ne=He)}[Se,Ce]=this._computeFontSize(xe,ee-4,Ne,fe,-1)}const ve=Ce*n.LINE_FACTOR,me=(ve-Ce)/2,de=Math.floor(re/ve);let ge=0;if(ue.length>0){const xe=Math.min(...ue),we=Math.max(...ue);ge=Math.max(0,we-de+1),ge>xe&&(ge=xe)}const Ae=Math.min(ge+de+1,le),be=["/Tx BMC q",`1 1 ${ee} ${re} re W n`];if(ue.length){be.push("0.600006 0.756866 0.854904 rg");for(const xe of ue)ge<=xe&&xe<Ae&&be.push(`1 ${re-(xe-ge+1)*ve} ${ee} ${ve} re f`)}be.push("BT",Se,`1 0 0 1 0 ${re} Tm`);const pe={shift:0};for(let xe=ge;xe<Ae;xe++){const{displayValue:we}=this.data.options[xe];be.push(this._renderText(we,fe,Ce,ee,0,pe,2,-ve+(xe===ge?me:0)))}return be.push("ET Q EMC"),be.join("\n")}}class f extends h{constructor(R){super(R),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class c extends C{constructor(R){super(R),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:G}=R;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=G.has("Name")?G.get("Name").name:"Note"),G.has("State")?(this.data.state=G.get("State")||null,this.data.stateModel=G.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class u extends g{constructor(R){super(R);const{dict:X,annotationGlobals:G}=R;this.data.annotationType=n.AnnotationType.LINK;const Y=d(X,this.rectangle);Y&&(this.data.quadPoints=Y),this.data.borderColor||=this.data.color,m.Catalog.parseDestDictionary({destDict:X,resultObj:this.data,docBaseUrl:G.baseUrl,docAttachments:G.attachments})}}class I extends g{constructor(R){super(R);const{dict:X}=R;this.data.annotationType=n.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let G=X.get("Parent");if(!G)return void(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");const Y=G.getArray("Rect");this.data.parentRect=Array.isArray(Y)&&4===Y.length?n.Util.normalizeRect(Y):null;const K=G.get("RT");if((0,e.isName)(K,n.AnnotationReplyType.GROUP)&&(G=G.get("IRT")),G.has("M")?(this.setModificationDate(G.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,G.has("C")?(this.setColor(G.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Z=G.get("F");this._isViewable(Z)&&this.setFlags(Z)}this.setTitle(G.get("T")),this.data.titleObj=this._title,this.setContents(G.get("Contents")),this.data.contentsObj=this._contents,G.has("RC")&&(this.data.richText=b.XFAFactory.getRichTextAsHtml(G.get("RC"))),this.data.open=!!X.get("Open")}}E.PopupAnnotation=I;class A extends C{constructor(R){super(R),this.data.hasOwnCanvas=!0;const{evaluatorOptions:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance(R),this.appearance){const{fontColor:Y,fontSize:K}=(0,x.parseAppearanceStream)(this.appearance,X,G);this.data.defaultAppearanceData.fontColor=Y,this.data.defaultAppearanceData.fontSize=K||10}else if(this._isOffscreenCanvasSupported){const Y=R.dict.get("CA"),K=new x.FakeUnicodeFont(G,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:Z,fontSize:ae}=this.data.defaultAppearanceData;this.appearance=K.createAppearance(this._contents.str,this.rectangle,this.rotation,ae,Z,Y),this._streams.push(this.appearance,x.FakeUnicodeFont.toUnicodeStream)}else(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(R,X,{apRef:G,ap:Y}){const{color:K,fontSize:Z,rect:ae,rotation:ie,user:te,value:re}=R,ee=new e.Dict(X);ee.set("Type",e.Name.get("Annot")),ee.set("Subtype",e.Name.get("FreeText")),ee.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ee.set("Rect",ae);const le=`/Helv ${Z} Tf ${(0,x.getPdfColor)(K,!0)}`;if(ee.set("DA",le),ee.set("Contents",(0,j.isAscii)(re)?re:(0,j.stringToUTF16String)(re,!0)),ee.set("F",4),ee.set("Border",[0,0,0]),ee.set("Rotate",ie),te&&ee.set("T",(0,j.isAscii)(te)?te:(0,j.stringToUTF16String)(te,!0)),G||Y){const ue=new e.Dict(X);ee.set("AP",ue),ue.set("N",G||Y)}return ee}static async createNewAppearanceStream(R,X,G){const{baseFontRef:Y,evaluator:K,task:Z}=G,{color:ae,fontSize:ie,rect:te,rotation:re,value:ee}=R,le=new e.Dict(X),ue=new e.Dict(X);if(Y)ue.set("Helv",Y);else{const Ue=new e.Dict(X);Ue.set("BaseFont",e.Name.get("Helvetica")),Ue.set("Type",e.Name.get("Font")),Ue.set("Subtype",e.Name.get("Type1")),Ue.set("Encoding",e.Name.get("WinAnsiEncoding")),ue.set("Helv",Ue)}le.set("Font",ue);const fe=await h._getFontData(K,Z,{fontName:"Helv",fontSize:ie},le),[Se,Ce,ve,me]=te;let de=ve-Se,ge=me-Ce;re%180!=0&&([de,ge]=[ge,de]);const Ae=ee.split("\n"),be=ie/1e3;let pe=-1/0;const xe=[];for(let Ue of Ae){const at=fe.encodeString(Ue);if(at.length>1)return null;Ue=at.join(""),xe.push(Ue);let Xe=0;const pt=fe.charsToGlyphs(Ue);for(const St of pt)Xe+=St.width*be;pe=Math.max(pe,Xe)}let we=1;pe>de&&(we=de/pe);let Ne=1;const He=n.LINE_FACTOR*ie,$e=(n.LINE_FACTOR-n.LINE_DESCENT_FACTOR)*ie,qe=He*Ae.length;qe>ge&&(Ne=ge/qe);const Oe=ie*Math.min(we,Ne);let Pe,ze,Ze;switch(re){case 0:Ze=[1,0,0,1],ze=[te[0],te[1],de,ge],Pe=[te[0],te[3]-$e];break;case 90:Ze=[0,1,-1,0],ze=[te[1],-te[2],de,ge],Pe=[te[1],-te[0]-$e];break;case 180:Ze=[-1,0,0,-1],ze=[-te[2],-te[3],de,ge],Pe=[-te[2],-te[1]-$e];break;case 270:Ze=[0,-1,1,0],ze=[-te[3],te[0],de,ge],Pe=[-te[3],te[2]-$e]}const Be=["q",`${Ze.join(" ")} 0 0 cm`,`${ze.join(" ")} re W n`,"BT",`${(0,x.getPdfColor)(ae,!0)}`,`0 Tc /Helv ${(0,j.numberToString)(Oe)} Tf`];Be.push(`${Pe.join(" ")} Td (${(0,j.escapeString)(xe[0])}) Tj`);const Je=(0,j.numberToString)(He);for(let Ue=1,at=xe.length;Ue<at;Ue++)Be.push(`0 -${Je} Td (${(0,j.escapeString)(xe[Ue])}) Tj`);Be.push("ET","Q");const Ye=Be.join("\n"),Qe=new e.Dict(X);Qe.set("FormType",1),Qe.set("Subtype",e.Name.get("Form")),Qe.set("Type",e.Name.get("XObject")),Qe.set("BBox",te),Qe.set("Resources",le),Qe.set("Matrix",[1,0,0,1,-te[0],-te[1]]);const lt=new t.StringStream(Ye);return lt.dict=Qe,lt}}class P extends C{constructor(R){super(R);const{dict:X,xref:G}=R;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const Y=X.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(Y),this.setLineEndings(X.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA"),ae=v(X.getArray("IC"),null),ie=ae?S(ae):null,te=ie?Z:null,re=this.borderStyle.width||1,ee=2*re,le=[this.data.lineCoordinates[0]-ee,this.data.lineCoordinates[1]-ee,this.data.lineCoordinates[2]+ee,this.data.lineCoordinates[3]+ee];n.Util.intersect(this.rectangle,le)||(this.rectangle=le),this._setDefaultAppearance({xref:G,extra:`${re} w`,strokeColor:K,fillColor:ie,strokeAlpha:Z,fillAlpha:te,pointsCallback:(ue,fe)=>(ue.push(`${Y[0]} ${Y[1]} m`,`${Y[2]} ${Y[3]} l`,"S"),[fe[0].x-re,fe[1].x+re,fe[3].y-re,fe[1].y+re])})}}}class $ extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const Y=this.color?S(this.color):[0,0,0],K=X.get("CA"),Z=v(X.getArray("IC"),null),ae=Z?S(Z):null;if(0===this.borderStyle.width&&!ae)return;this._setDefaultAppearance({xref:G,extra:`${this.borderStyle.width} w`,strokeColor:Y,fillColor:ae,strokeAlpha:K,fillAlpha:ae?K:null,pointsCallback:(te,re)=>(te.push(`${re[2].x+this.borderStyle.width/2} ${re[2].y+this.borderStyle.width/2} ${re[3].x-re[2].x-this.borderStyle.width} ${re[1].y-re[3].y-this.borderStyle.width} re`),te.push(ae?"B":"S"),[re[0].x,re[1].x,re[3].y,re[1].y])})}}}class _ extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const Y=this.color?S(this.color):[0,0,0],K=X.get("CA"),Z=v(X.getArray("IC"),null),ae=Z?S(Z):null,ie=ae?K:null;if(0===this.borderStyle.width&&!ae)return;const te=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:G,extra:`${this.borderStyle.width} w`,strokeColor:Y,fillColor:ae,strokeAlpha:K,fillAlpha:ie,pointsCallback:(re,ee)=>{const le=ee[0].x+this.borderStyle.width/2,ue=ee[0].y-this.borderStyle.width/2,fe=ee[3].x-this.borderStyle.width/2,Se=ee[3].y+this.borderStyle.width/2,Ce=le+(fe-le)/2,ve=ue+(Se-ue)/2,me=(fe-le)/2*te,de=(Se-ue)/2*te;return re.push(`${Ce} ${Se} m`,`${Ce+me} ${Se} ${fe} ${ve+de} ${fe} ${ve} c`,`${fe} ${ve-de} ${Ce+me} ${ue} ${Ce} ${ue} c`,`${Ce-me} ${ue} ${le} ${ve-de} ${le} ${ve} c`,`${le} ${ve+de} ${Ce-me} ${Se} ${Ce} ${Se} c`,"h"),re.push(ae?"B":"S"),[ee[0].x,ee[1].x,ee[3].y,ee[1].y]}})}}}class w extends C{constructor(R){super(R);const{dict:X,xref:G}=R;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof T||(this.setLineEndings(X.getArray("LE")),this.data.lineEndings=this.lineEndings);const Y=X.getArray("Vertices");if(Array.isArray(Y)){for(let K=0,Z=Y.length;K<Z;K+=2)this.data.vertices.push({x:Y[K],y:Y[K+1]});if(!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA"),ae=this.borderStyle.width||1,ie=2*ae,te=[1/0,1/0,-1/0,-1/0];for(const re of this.data.vertices)te[0]=Math.min(te[0],re.x-ie),te[1]=Math.min(te[1],re.y-ie),te[2]=Math.max(te[2],re.x+ie),te[3]=Math.max(te[3],re.y+ie);n.Util.intersect(this.rectangle,te)||(this.rectangle=te),this._setDefaultAppearance({xref:G,extra:`${ae} w`,strokeColor:K,strokeAlpha:Z,pointsCallback:(re,ee)=>{const le=this.data.vertices;for(let ue=0,fe=le.length;ue<fe;ue++)re.push(`${le[ue].x} ${le[ue].y} ${0===ue?"m":"l"}`);return re.push("S"),[ee[0].x,ee[1].x,ee[3].y,ee[1].y]}})}}}}class T extends w{constructor(R){super(R),this.data.annotationType=n.AnnotationType.POLYGON}}class N extends C{constructor(R){super(R),this.data.annotationType=n.AnnotationType.CARET}}class H extends C{constructor(R){super(R),this.data.hasOwnCanvas=this.data.noRotate;const{dict:X,xref:G}=R;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const Y=X.getArray("InkList");if(Array.isArray(Y)){for(let K=0,Z=Y.length;K<Z;++K){this.data.inkLists.push([]);for(let ae=0,ie=Y[K].length;ae<ie;ae+=2)this.data.inkLists[K].push({x:G.fetchIfRef(Y[K][ae]),y:G.fetchIfRef(Y[K][ae+1])})}if(!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA"),ae=this.borderStyle.width||1,ie=2*ae,te=[1/0,1/0,-1/0,-1/0];for(const re of this.data.inkLists)for(const ee of re)te[0]=Math.min(te[0],ee.x-ie),te[1]=Math.min(te[1],ee.y-ie),te[2]=Math.max(te[2],ee.x+ie),te[3]=Math.max(te[3],ee.y+ie);n.Util.intersect(this.rectangle,te)||(this.rectangle=te),this._setDefaultAppearance({xref:G,extra:`${ae} w`,strokeColor:K,strokeAlpha:Z,pointsCallback:(re,ee)=>{for(const le of this.data.inkLists){for(let ue=0,fe=le.length;ue<fe;ue++)re.push(`${le[ue].x} ${le[ue].y} ${0===ue?"m":"l"}`);re.push("S")}return[ee[0].x,ee[1].x,ee[3].y,ee[1].y]}})}}}static createNewDict(R,X,{apRef:G,ap:Y}){const{color:K,opacity:Z,paths:ae,rect:ie,rotation:te,thickness:re}=R,ee=new e.Dict(X);ee.set("Type",e.Name.get("Annot")),ee.set("Subtype",e.Name.get("Ink")),ee.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ee.set("Rect",ie),ee.set("InkList",ae.map(fe=>fe.points)),ee.set("F",4),ee.set("Rotate",te);const le=new e.Dict(X);ee.set("BS",le),le.set("W",re),ee.set("C",Array.from(K,fe=>fe/255)),ee.set("CA",Z);const ue=new e.Dict(X);return ee.set("AP",ue),ue.set("N",G||Y),ee}static async createNewAppearanceStream(R,X,G){const{color:Y,rect:K,paths:Z,thickness:ae,opacity:ie}=R,te=[`${ae} w 1 J 1 j`,`${(0,x.getPdfColor)(Y,!1)}`];1!==ie&&te.push("/R0 gs");const re=[];for(const{bezier:fe}of Z){re.length=0,re.push(`${(0,j.numberToString)(fe[0])} ${(0,j.numberToString)(fe[1])} m`);for(let Se=2,Ce=fe.length;Se<Ce;Se+=6){const ve=fe.slice(Se,Se+6).map(j.numberToString).join(" ");re.push(`${ve} c`)}re.push("S"),te.push(re.join("\n"))}const ee=te.join("\n"),le=new e.Dict(X);if(le.set("FormType",1),le.set("Subtype",e.Name.get("Form")),le.set("Type",e.Name.get("XObject")),le.set("BBox",K),le.set("Length",ee.length),1!==ie){const fe=new e.Dict(X),Se=new e.Dict(X),Ce=new e.Dict(X);Ce.set("CA",ie),Ce.set("Type",e.Name.get("ExtGState")),Se.set("R0",Ce),fe.set("ExtGState",Se),le.set("Resources",fe)}const ue=new t.StringStream(ee);return ue.dict=le,ue}}class z extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=d(X,null)){const K=this.appearance?.dict.get("Resources");if(!this.appearance||!K?.has("ExtGState")){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Z=this.color?S(this.color):[1,1,0],ae=X.get("CA");this._setDefaultAppearance({xref:G,fillColor:Z,blendMode:"Multiply",fillAlpha:ae,pointsCallback:(ie,te)=>(ie.push(`${te[0].x} ${te[0].y} m`,`${te[1].x} ${te[1].y} l`,`${te[3].x} ${te[3].y} l`,`${te[2].x} ${te[2].y} l`,"f"),[te[0].x,te[1].x,te[3].y,te[1].y])})}}else this.data.popupRef=null}}class U extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=d(X,null)){if(!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA");this._setDefaultAppearance({xref:G,extra:"[] 0 d 0.571 w",strokeColor:K,strokeAlpha:Z,pointsCallback:(ae,ie)=>(ae.push(`${ie[2].x} ${ie[2].y+1.3} m`,`${ie[3].x} ${ie[3].y+1.3} l`,"S"),[ie[0].x,ie[1].x,ie[3].y,ie[1].y])})}}else this.data.popupRef=null}}class q extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=d(X,null)){if(!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA");this._setDefaultAppearance({xref:G,extra:"[] 0 d 1 w",strokeColor:K,strokeAlpha:Z,pointsCallback:(ae,ie)=>{const te=(ie[0].y-ie[2].y)/6;let re=te,ee=ie[2].x;const le=ie[2].y,ue=ie[3].x;ae.push(`${ee} ${le+re} m`);do{ee+=2,re=0===re?te:0,ae.push(`${ee} ${le+re} l`)}while(ee<ue);return ae.push("S"),[ie[2].x,ue,le-2*te,le+2*te]}})}}else this.data.popupRef=null}}class J extends C{constructor(R){super(R);const{dict:X,xref:G}=R;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=d(X,null)){if(!this.appearance){const K=this.color?S(this.color):[0,0,0],Z=X.get("CA");this._setDefaultAppearance({xref:G,extra:"[] 0 d 1 w",strokeColor:K,strokeAlpha:Z,pointsCallback:(ae,ie)=>(ae.push(`${(ie[0].x+ie[2].x)/2} ${(ie[0].y+ie[2].y)/2} m`,`${(ie[1].x+ie[3].x)/2} ${(ie[1].y+ie[3].y)/2} l`,"S"),[ie[0].x,ie[1].x,ie[3].y,ie[1].y])})}}else this.data.popupRef=null}}class oe extends C{constructor(R){super(R),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(R,X){const{width:G,height:Y}=R,K=new OffscreenCanvas(G,Y),Z=K.getContext("2d",{alpha:!0});Z.drawImage(R,0,0);const ae=Z.getImageData(0,0,G,Y).data,ie=new Uint32Array(ae.buffer),te=ie.some(n.FeatureTest.isLittleEndian?Ce=>Ce>>>24!=255:Ce=>255!=(255&Ce));te&&(Z.fillStyle="white",Z.fillRect(0,0,G,Y),Z.drawImage(R,0,0));const re=K.convertToBlob({type:"image/jpeg",quality:1}).then(Ce=>Ce.arrayBuffer()),ee=e.Name.get("XObject"),le=e.Name.get("Image"),ue=new e.Dict(X);ue.set("Type",ee),ue.set("Subtype",le),ue.set("BitsPerComponent",8),ue.set("ColorSpace",e.Name.get("DeviceRGB")),ue.set("Filter",e.Name.get("DCTDecode")),ue.set("BBox",[0,0,G,Y]),ue.set("Width",G),ue.set("Height",Y);let fe=null;if(te){const Ce=new Uint8Array(ie.length);if(n.FeatureTest.isLittleEndian)for(let me=0,de=ie.length;me<de;me++)Ce[me]=ie[me]>>>24;else for(let me=0,de=ie.length;me<de;me++)Ce[me]=255&ie[me];const ve=new e.Dict(X);ve.set("Type",ee),ve.set("Subtype",le),ve.set("BitsPerComponent",8),ve.set("ColorSpace",e.Name.get("DeviceGray")),ve.set("Width",G),ve.set("Height",Y),fe=new t.Stream(Ce,0,0,ve)}return{imageStream:new t.Stream(await re,0,0,ue),smaskStream:fe,width:G,height:Y}}static createNewDict(R,X,{apRef:G,ap:Y}){const{rect:K,rotation:Z,user:ae}=R,ie=new e.Dict(X);if(ie.set("Type",e.Name.get("Annot")),ie.set("Subtype",e.Name.get("Stamp")),ie.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ie.set("Rect",K),ie.set("F",4),ie.set("Border",[0,0,0]),ie.set("Rotate",Z),ae&&ie.set("T",(0,j.isAscii)(ae)?ae:(0,j.stringToUTF16String)(ae,!0)),G||Y){const te=new e.Dict(X);ie.set("AP",te),te.set("N",G||Y)}return ie}static async createNewAppearanceStream(R,X,G){const{rotation:Y}=R,{imageRef:K,width:Z,height:ae}=G.image,ie=new e.Dict(X),te=new e.Dict(X);ie.set("XObject",te),te.set("Im0",K);const re=`q ${Z} 0 0 ${ae} 0 0 cm /Im0 Do Q`,ee=new e.Dict(X);if(ee.set("FormType",1),ee.set("Subtype",e.Name.get("Form")),ee.set("Type",e.Name.get("XObject")),ee.set("BBox",[0,0,Z,ae]),ee.set("Resources",ie),Y){const ue=(0,j.getRotationMatrix)(Y,Z,ae);ee.set("Matrix",ue)}const le=new t.StringStream(re);return le.dict=ee,le}}class ne extends C{constructor(R){super(R);const{dict:X,xref:G}=R,Y=new k.FileSpec(X.get("FS"),G);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=Y.serializable;const K=X.get("Name");this.data.name=K instanceof e.Name?(0,n.stringToPDFString)(K.name):"PushPin";const Z=X.get("ca");this.data.fillAlpha="number"==typeof Z&&Z>=0&&Z<=1?Z:null}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FakeUnicodeFont=void 0,E.createDefaultAppearance=function D({fontSize:O,fontName:v,fontColor:S}){return`/${(0,j.escapePDFName)(v)} ${O} Tf ${i(S,!0)}`},E.getPdfColor=i,E.parseAppearanceStream=function p(O,v,S){return new s(O,v,S).parse()},E.parseDefaultAppearance=function k(O){return new y(O).parse()};var n=V(4),j=V(3),x=V(2),e=V(12),t=V(13),a=V(59),F=V(57),m=V(8);class y extends t.EvaluatorPreprocessor{constructor(v){super(new m.StringStream(v))}parse(){const v={fn:0,args:[]},S={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;v.args.length=0,this.read(v);){if(0!==this.savedStatesDepth)continue;const{fn:d,args:B}=v;switch(0|d){case x.OPS.setFont:const[g,L]=B;g instanceof n.Name&&(S.fontName=g.name),"number"==typeof L&&L>0&&(S.fontSize=L);break;case x.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(B,0,S.fontColor,0);break;case x.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(B,0,S.fontColor,0);break;case x.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(B,0,S.fontColor,0)}}}catch(d){(0,x.warn)(`parseDefaultAppearance - ignoring errors: "${d}".`)}return S}}class s extends t.EvaluatorPreprocessor{constructor(v,S,d){super(v),this.stream=v,this.evaluatorOptions=S,this.xref=d,this.resources=v.dict?.get("Resources")}parse(){const v={fn:0,args:[]};let S={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},d=!1;const B=[];try{for(;v.args.length=0,!d&&this.read(v);){const{fn:g,args:L}=v;switch(0|g){case x.OPS.save:B.push({scaleFactor:S.scaleFactor,fontSize:S.fontSize,fontName:S.fontName,fontColor:S.fontColor.slice(),fillColorSpace:S.fillColorSpace});break;case x.OPS.restore:S=B.pop()||S;break;case x.OPS.setTextMatrix:S.scaleFactor*=Math.hypot(L[0],L[1]);break;case x.OPS.setFont:const[C,h]=L;C instanceof n.Name&&(S.fontName=C.name),"number"==typeof h&&h>0&&(S.fontSize=h*S.scaleFactor);break;case x.OPS.setFillColorSpace:S.fillColorSpace=e.ColorSpace.parse({cs:L[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case x.OPS.setFillColor:S.fillColorSpace.getRgbItem(L,0,S.fontColor,0);break;case x.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(L,0,S.fontColor,0);break;case x.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(L,0,S.fontColor,0);break;case x.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(L,0,S.fontColor,0);break;case x.OPS.showText:case x.OPS.showSpacedText:case x.OPS.nextLineShowText:case x.OPS.nextLineSetSpacingShowText:d=!0}}}catch(g){(0,x.warn)(`parseAppearanceStream - ignoring errors: "${g}".`)}return this.stream.reset(),delete S.scaleFactor,delete S.fillColorSpace,S}get _localColorSpaceCache(){return(0,x.shadow)(this,"_localColorSpaceCache",new a.LocalColorSpaceCache)}get _pdfFunctionFactory(){const v=new F.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,x.shadow)(this,"_pdfFunctionFactory",v)}}function i(O,v){return O[0]===O[1]&&O[1]===O[2]?`${(0,j.numberToString)(O[0]/255)} ${v?"g":"G"}`:Array.from(O,S=>(0,j.numberToString)(S/255)).join(" ")+" "+(v?"rg":"RG")}class b{constructor(v,S){this.xref=v,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=S;const d=new OffscreenCanvas(1,1);this.ctxMeasure=d.getContext("2d"),b._fontNameId||(b._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${S}_${b._fontNameId++}`)}get toUnicodeRef(){if(!b._toUnicodeRef){const v="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo\n<< /Registry (Adobe)\n/Ordering (UCS) /Supplement 0 >> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000> <FFFF>\nendcodespacerange\n1 beginbfrange\n<0000> <FFFF> <0000>\nendbfrange\nendcmap CMapName currentdict /CMap defineresource pop end end",S=b.toUnicodeStream=new m.StringStream(v),d=new n.Dict(this.xref);S.dict=d,d.set("Length",v.length),b._toUnicodeRef=this.xref.getNewPersistentRef(S)}return b._toUnicodeRef}get fontDescriptorRef(){if(!b._fontDescriptorRef){const v=new n.Dict(this.xref);v.set("Type",n.Name.get("FontDescriptor")),v.set("FontName",this.fontName),v.set("FontFamily","MyriadPro Regular"),v.set("FontBBox",[0,0,0,0]),v.set("FontStretch",n.Name.get("Normal")),v.set("FontWeight",400),v.set("ItalicAngle",0),b._fontDescriptorRef=this.xref.getNewPersistentRef(v)}return b._fontDescriptorRef}get descendantFontRef(){const v=new n.Dict(this.xref);v.set("BaseFont",this.fontName),v.set("Type",n.Name.get("Font")),v.set("Subtype",n.Name.get("CIDFontType0")),v.set("CIDToGIDMap",n.Name.get("Identity")),v.set("FirstChar",this.firstChar),v.set("LastChar",this.lastChar),v.set("FontDescriptor",this.fontDescriptorRef),v.set("DW",1e3);const S=[],d=[...this.widths.entries()].sort();let B=null,g=null;for(const[C,h]of d)B?C===B+g.length?g.push(h):(S.push(B,g),B=C,g=[h]):(B=C,g=[h]);B&&S.push(B,g),v.set("W",S);const L=new n.Dict(this.xref);return L.set("Ordering","Identity"),L.set("Registry","Adobe"),L.set("Supplement",0),v.set("CIDSystemInfo",L),this.xref.getNewPersistentRef(v)}get baseFontRef(){const v=new n.Dict(this.xref);return v.set("BaseFont",this.fontName),v.set("Type",n.Name.get("Font")),v.set("Subtype",n.Name.get("Type0")),v.set("Encoding",n.Name.get("Identity-H")),v.set("DescendantFonts",[this.descendantFontRef]),v.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(v)}get resources(){const v=new n.Dict(this.xref),S=new n.Dict(this.xref);return S.set(this.fontName.name,this.baseFontRef),v.set("Font",S),v}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(v){const S=this._createContext();for(const d of v.split(/\r\n?|\n/))for(const B of d.split("")){const g=B.charCodeAt(0);if(this.widths.has(g))continue;const L=S.measureText(B),C=Math.ceil(L.width);this.widths.set(g,C),this.firstChar=Math.min(g,this.firstChar),this.lastChar=Math.max(g,this.lastChar)}return this.resources}createAppearance(v,S,d,B,g,L){const C=this._createContext(),h=[];let M=-1/0;for(const ne of v.split(/\r\n?|\n/)){h.push(ne);const Q=C.measureText(ne).width;M=Math.max(M,Q);for(const R of ne.split("")){const X=R.charCodeAt(0);let G=this.widths.get(X);if(void 0===G){const Y=C.measureText(R);G=Math.ceil(Y.width),this.widths.set(X,G),this.firstChar=Math.min(X,this.firstChar),this.lastChar=Math.max(X,this.lastChar)}}}M*=B/1e3;const[l,r,f,c]=S;let u=f-l,I=c-r;d%180!=0&&([u,I]=[I,u]);let A=1;M>u&&(A=u/M);let P=1;const $=x.LINE_FACTOR*B,_=x.LINE_DESCENT_FACTOR*B,w=$*h.length;w>I&&(P=I/w);const N=B*Math.min(A,P),H=["q",`0 0 ${(0,j.numberToString)(u)} ${(0,j.numberToString)(I)} re W n`,"BT",`1 0 0 1 0 ${(0,j.numberToString)(I+_)} Tm 0 Tc ${i(g,!0)}`,`/${this.fontName.name} ${(0,j.numberToString)(N)} Tf`],{resources:z}=this;if(1!==(L="number"==typeof L&&L>=0&&L<=1?L:1)){H.push("/R0 gs");const ne=new n.Dict(this.xref),Q=new n.Dict(this.xref);Q.set("ca",L),Q.set("CA",L),Q.set("Type",n.Name.get("ExtGState")),ne.set("R0",Q),z.set("ExtGState",ne)}const U=(0,j.numberToString)($);for(const ne of h)H.push(`0 -${U} Td <${(0,j.stringToUTF16HexString)(ne)}> Tj`);H.push("ET","Q");const q=H.join("\n"),J=new n.Dict(this.xref);if(J.set("Subtype",n.Name.get("Form")),J.set("Type",n.Name.get("XObject")),J.set("BBox",[0,0,u,I]),J.set("Length",q.length),J.set("Resources",z),d){const ne=(0,j.getRotationMatrix)(d,u,I);J.set("Matrix",ne)}const oe=new m.StringStream(q);return oe.dict=J,oe}}E.FakeUnicodeFont=b},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ColorSpace=void 0;var n=V(2),j=V(4),x=V(5),e=V(3);class a{constructor(v,S){this.constructor===a&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=v,this.numComps=S}getRgb(v,S){const d=new Uint8ClampedArray(3);return this.getRgbItem(v,S,d,0),d}getRgbItem(v,S,d,B){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(v,S,d,B,g,L,C){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(v,S){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(v){return!1}isDefaultDecode(v,S){return a.isDefaultDecode(v,this.numComps)}fillRgb(v,S,d,B,g,L,C,h,M){const l=S*d;let r=null;const f=1<<C,c=d!==g||S!==B;if(this.isPassthrough(C))r=h;else if(1===this.numComps&&l>f&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){const u=C<=8?new Uint8Array(f):new Uint16Array(f);for(let A=0;A<f;A++)u[A]=A;const I=new Uint8ClampedArray(3*f);if(this.getRgbBuffer(u,0,f,I,0,C,0),c){r=new Uint8Array(3*l);let A=0;for(let P=0;P<l;++P){const $=3*h[P];r[A++]=I[$],r[A++]=I[$+1],r[A++]=I[$+2]}}else{let A=0;for(let P=0;P<l;++P){const $=3*h[P];v[A++]=I[$],v[A++]=I[$+1],v[A++]=I[$+2],A+=M}}}else c?(r=new Uint8ClampedArray(3*l),this.getRgbBuffer(h,0,l,r,0,C,0)):this.getRgbBuffer(h,0,B*L,v,0,C,M);if(r)if(c)!function t(O,v,S,d,B,g,L){L=1!==L?0:L;const h=S/B,M=d/g;let r,l=0;const f=new Uint16Array(B),c=3*S;for(let u=0;u<B;u++)f[u]=3*Math.floor(u*h);for(let u=0;u<g;u++){const I=Math.floor(u*M)*c;for(let A=0;A<B;A++)r=I+f[A],v[l++]=O[r++],v[l++]=O[r++],v[l++]=O[r++],l+=L}}(r,v,S,d,B,g,M);else{let u=0,I=0;for(let A=0,P=B*L;A<P;A++)v[u++]=r[I++],v[u++]=r[I++],v[u++]=r[I++],u+=M}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(v,S,d,B){if(!d)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!B)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let g,L;v instanceof j.Ref&&(L=v,v=S.fetch(v)),v instanceof j.Name&&(g=v.name),(g||L)&&d.set(g,L,B)}static getCached(v,S,d){if(!d)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(v instanceof j.Ref){const B=d.getByRef(v);if(B)return B;try{v=S.fetch(v)}catch(g){if(g instanceof e.MissingDataException)throw g}}if(v instanceof j.Name){const B=d.getByName(v.name);if(B)return B}return null}static async parseAsync({cs:v,xref:S,resources:d=null,pdfFunctionFactory:B,localColorSpaceCache:g}){const L=this._parse(v,S,d,B);return this._cache(v,S,g,L),L}static parse({cs:v,xref:S,resources:d=null,pdfFunctionFactory:B,localColorSpaceCache:g}){const L=this.getCached(v,S,g);if(L)return L;const C=this._parse(v,S,d,B);return this._cache(v,S,g,C),C}static _parse(v,S,d=null,B){if((v=S.fetchIfRef(v))instanceof j.Name)switch(v.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new m(null);default:if(d instanceof j.Dict){const g=d.get("ColorSpace");if(g instanceof j.Dict){const L=g.get(v.name);if(L){if(L instanceof j.Name)return this._parse(L,S,d,B);v=L;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${v.name}`)}if(Array.isArray(v)){const g=S.fetchIfRef(v[0]).name;let L,C,h,M,l,r;switch(g){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return L=S.fetchIfRef(v[1]),M=L.getArray("WhitePoint"),l=L.getArray("BlackPoint"),r=L.get("Gamma"),new i(M,l,r);case"CalRGB":L=S.fetchIfRef(v[1]),M=L.getArray("WhitePoint"),l=L.getArray("BlackPoint"),r=L.getArray("Gamma");const f=L.getArray("Matrix");return new D(M,l,r,f);case"ICCBased":const u=S.fetchIfRef(v[1]).dict;C=u.get("N");const I=u.get("Alternate");if(I){const T=this._parse(I,S,d,B);if(T.numComps===C)return T;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===C)return this.singletons.gray;if(3===C)return this.singletons.rgb;if(4===C)return this.singletons.cmyk;break;case"Pattern":return h=v[1]||null,h&&(h=this._parse(h,S,d,B)),new m(h);case"I":case"Indexed":h=this._parse(v[1],S,d,B);const A=S.fetchIfRef(v[2])+1,P=S.fetchIfRef(v[3]);return new y(h,A,P);case"Separation":case"DeviceN":const $=S.fetchIfRef(v[1]);C=Array.isArray($)?$.length:1,h=this._parse(v[2],S,d,B);const _=B.create(v[3]);return new F(C,h,_);case"Lab":L=S.fetchIfRef(v[1]),M=L.getArray("WhitePoint"),l=L.getArray("BlackPoint");const w=L.getArray("Range");return new b(M,l,w);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${g}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${v}`)}static isDefaultDecode(v,S){if(!Array.isArray(v))return!0;if(2*S!==v.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let d=0,B=v.length;d<B;d+=2)if(0!==v[d]||1!==v[d+1])return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new k)},get rgb(){return(0,n.shadow)(this,"rgb",new s)},get cmyk(){return(0,n.shadow)(this,"cmyk",new p)}})}}E.ColorSpace=a;class F extends a{constructor(v,S,d){super("Alternate",v),this.base=S,this.tintFn=d,this.tmpBuf=new Float32Array(S.numComps)}getRgbItem(v,S,d,B){const g=this.tmpBuf;this.tintFn(v,S,g,0),this.base.getRgbItem(g,0,d,B)}getRgbBuffer(v,S,d,B,g,L,C){const h=this.tintFn,M=this.base,l=1/((1<<L)-1),r=M.numComps,f=M.usesZeroToOneRange,c=(M.isPassthrough(8)||!f)&&0===C;let u=c?g:0;const I=c?B:new Uint8ClampedArray(r*d),A=this.numComps,P=new Float32Array(A),$=new Float32Array(r);let _,w;for(_=0;_<d;_++){for(w=0;w<A;w++)P[w]=v[S++]*l;if(h(P,0,$,0),f)for(w=0;w<r;w++)I[u++]=255*$[w];else M.getRgbItem($,0,I,u),u+=r}c||M.getRgbBuffer(I,0,d,B,g,8,C)}getOutputLength(v,S){return this.base.getOutputLength(v*this.base.numComps/this.numComps,S)}}class m extends a{constructor(v){super("Pattern",null),this.base=v}isDefaultDecode(v,S){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class y extends a{constructor(v,S,d){super("Indexed",1),this.base=v,this.highVal=S;const B=v.numComps*S;if(this.lookup=new Uint8Array(B),d instanceof x.BaseStream){const g=d.getBytes(B);this.lookup.set(g)}else{if("string"!=typeof d)throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${d}`);for(let g=0;g<B;++g)this.lookup[g]=255&d.charCodeAt(g)}}getRgbItem(v,S,d,B){this.base.getRgbBuffer(this.lookup,v[S]*this.base.numComps,1,d,B,8,0)}getRgbBuffer(v,S,d,B,g,L,C){const h=this.base,M=h.numComps,l=h.getOutputLength(M,C),r=this.lookup;for(let f=0;f<d;++f){const c=v[S++]*M;h.getRgbBuffer(r,c,1,B,g,8,C),g+=l}}getOutputLength(v,S){return this.base.getOutputLength(v*this.base.numComps,S)}isDefaultDecode(v,S){return!Array.isArray(v)||(2!==v.length?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(S)||S<1?((0,n.warn)("Bits per component is not correct"),!0):0===v[0]&&v[1]===(1<<S)-1)}}class k extends a{constructor(){super("DeviceGray",1)}getRgbItem(v,S,d,B){d[B]=d[B+1]=d[B+2]=255*v[S]}getRgbBuffer(v,S,d,B,g,L,C){const h=255/((1<<L)-1);let M=S,l=g;for(let r=0;r<d;++r){const f=h*v[M++];B[l++]=f,B[l++]=f,B[l++]=f,l+=C}}getOutputLength(v,S){return v*(3+S)}}class s extends a{constructor(){super("DeviceRGB",3)}getRgbItem(v,S,d,B){d[B]=255*v[S],d[B+1]=255*v[S+1],d[B+2]=255*v[S+2]}getRgbBuffer(v,S,d,B,g,L,C){if(8===L&&0===C)return void B.set(v.subarray(S,S+3*d),g);const h=255/((1<<L)-1);let M=S,l=g;for(let r=0;r<d;++r)B[l++]=h*v[M++],B[l++]=h*v[M++],B[l++]=h*v[M++],l+=C}getOutputLength(v,S){return v*(3+S)/3|0}isPassthrough(v){return 8===v}}class p extends a{constructor(){super("DeviceCMYK",4)}#e(v,S,d,B,g){const L=v[S]*d,C=v[S+1]*d,h=v[S+2]*d,M=v[S+3]*d;B[g]=255+L*(-4.387332384609988*L+54.48615194189176*C+18.82290502165302*h+212.25662451639585*M-285.2331026137004)+C*(1.7149763477362134*C-5.6096736904047315*h+-17.873870861415444*M-5.497006427196366)+h*(-2.5217340131683033*h-21.248923337353073*M+17.5119270841813)+M*(-21.86122147463605*M-189.48180835922747),B[g+1]=255+L*(8.841041422036149*L+60.118027045597366*C+6.871425592049007*h+31.159100130055922*M-79.2970844816548)+C*(-15.310361306967817*C+17.575251261109482*h+131.35250912493976*M-190.9453302588951)+h*(4.444339102852739*h+9.8632861493405*M-24.86741582555878)+M*(-20.737325471181034*M-187.80453709719578),B[g+2]=255+L*(.8842522430003296*L+8.078677503112928*C+30.89978309703729*h-.23883238689178934*M-14.183576799673286)+C*(10.49593273432072*C+63.02378494754052*h+50.606957656360734*M-112.23884253719248)+h*(.03296041114873217*h+115.60384449646641*M-193.58209356861505)+M*(-22.33816807309886*M-180.12613974708367)}getRgbItem(v,S,d,B){this.#e(v,S,1,d,B)}getRgbBuffer(v,S,d,B,g,L,C){const h=1/((1<<L)-1);for(let M=0;M<d;M++)this.#e(v,S,h,B,g),S+=4,g+=3+C}getOutputLength(v,S){return v/4*(3+S)|0}}class i extends a{constructor(v,S,d){if(super("CalGray",1),!v)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=v,[this.XB,this.YB,this.ZB]=S||[0,0,0],this.G=d||1,this.XW<0||this.ZW<0||1!==this.YW)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(0!==this.XB||0!==this.YB||0!==this.ZB)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(v,S,d,B,g){const M=Math.max(295.8*(this.YW*(v[S]*g)**this.G)**.3333333333333333-40.8,0);d[B]=M,d[B+1]=M,d[B+2]=M}getRgbItem(v,S,d,B){this.#e(v,S,d,B,1)}getRgbBuffer(v,S,d,B,g,L,C){const h=1/((1<<L)-1);for(let M=0;M<d;++M)this.#e(v,S,B,g,h),S+=1,g+=3+C}getOutputLength(v,S){return v*(3+S)}}class D extends a{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#i=new Float32Array([1,1,1]);static#o=new Float32Array(3);static#r=new Float32Array(3);static#s=new Float32Array(3);static#c=.0011070564598794539;constructor(v,S,d,B){if(super("CalRGB",3),!v)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");const[g,L,C]=this.whitePoint=v,[h,M,l]=this.blackPoint=S||new Float32Array(3);if([this.GR,this.GG,this.GB]=d||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=B||new Float32Array([1,0,0,0,1,0,0,0,1]),g<0||C<0||1!==L)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(h<0||M<0||l<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${h}, ${M}, ${l}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#l(v,S,d){d[0]=v[0]*S[0]+v[1]*S[1]+v[2]*S[2],d[1]=v[3]*S[0]+v[4]*S[1]+v[5]*S[2],d[2]=v[6]*S[0]+v[7]*S[1]+v[8]*S[2]}#a(v,S,d){d[0]=1*S[0]/v[0],d[1]=1*S[1]/v[1],d[2]=1*S[2]/v[2]}#g(v,S,d){d[0]=.95047*S[0]/v[0],d[1]=1*S[1]/v[1],d[2]=1.08883*S[2]/v[2]}#u(v){return v<=.0031308?this.#d(0,1,12.92*v):v>=.99554525?1:this.#d(0,1,1.055*v**.4166666666666667-.055)}#d(v,S,d){return Math.max(v,Math.min(S,d))}#f(v){return v<0?-this.#f(-v):v>8?((v+16)/116)**3:v*D.#c}#x(v,S,d){if(0===v[0]&&0===v[1]&&0===v[2])return d[0]=S[0],d[1]=S[1],void(d[2]=S[2]);const B=this.#f(0),r=(1-B)/(1-this.#f(v[0])),c=(1-B)/(1-this.#f(v[1])),u=1-c,I=(1-B)/(1-this.#f(v[2])),A=1-I;d[0]=S[0]*r+(1-r),d[1]=S[1]*c+u,d[2]=S[2]*I+A}#m(v,S,d){if(1===v[0]&&1===v[2])return d[0]=S[0],d[1]=S[1],void(d[2]=S[2]);const B=d;this.#l(D.#e,S,B);const g=D.#o;this.#a(v,B,g),this.#l(D.#t,g,d)}#p(v,S,d){const B=d;this.#l(D.#e,S,B);const g=D.#o;this.#g(v,B,g),this.#l(D.#t,g,d)}#h(v,S,d,B,g){const L=this.#d(0,1,v[S]*g),C=this.#d(0,1,v[S+1]*g),h=this.#d(0,1,v[S+2]*g),M=1===L?1:L**this.GR,l=1===C?1:C**this.GG,r=1===h?1:h**this.GB,c=this.MYA*M+this.MYB*l+this.MYC*r,u=this.MZA*M+this.MZB*l+this.MZC*r,I=D.#r;I[0]=this.MXA*M+this.MXB*l+this.MXC*r,I[1]=c,I[2]=u;const A=D.#s;this.#m(this.whitePoint,I,A);const P=D.#r;this.#x(this.blackPoint,A,P);const $=D.#s;this.#p(D.#i,P,$);const _=D.#r;this.#l(D.#n,$,_),d[B]=255*this.#u(_[0]),d[B+1]=255*this.#u(_[1]),d[B+2]=255*this.#u(_[2])}getRgbItem(v,S,d,B){this.#h(v,S,d,B,1)}getRgbBuffer(v,S,d,B,g,L,C){const h=1/((1<<L)-1);for(let M=0;M<d;++M)this.#h(v,S,B,g,h),S+=3,g+=3+C}getOutputLength(v,S){return v*(3+S)/3|0}}class b extends a{constructor(v,S,d){if(super("Lab",3),!v)throw new n.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=v,[this.amin,this.amax,this.bmin,this.bmax]=d||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=S||[0,0,0],this.XW<0||this.ZW<0||1!==this.YW)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(v){return v>=.20689655172413793?v**3:.12841854934601665*(v-.13793103448275862)}#t(v,S,d,B){return d+v*(B-d)/S}#n(v,S,d,B,g){let L=v[S],C=v[S+1],h=v[S+2];!1!==d&&(L=this.#t(L,d,0,100),C=this.#t(C,d,this.amin,this.amax),h=this.#t(h,d,this.bmin,this.bmax)),C>this.amax?C=this.amax:C<this.amin&&(C=this.amin),h>this.bmax?h=this.bmax:h<this.bmin&&(h=this.bmin);const M=(L+16)/116,r=M-h/200,f=this.XW*this.#e(M+C/500),c=this.YW*this.#e(M),u=this.ZW*this.#e(r);let I,A,P;this.ZW<1?(I=3.1339*f+-1.617*c+-.4906*u,A=-.9785*f+1.916*c+.0333*u,P=.072*f+-.229*c+1.4057*u):(I=3.2406*f+-1.5372*c+-.4986*u,A=-.9689*f+1.8758*c+.0415*u,P=.0557*f+-.204*c+1.057*u),B[g]=255*Math.sqrt(I),B[g+1]=255*Math.sqrt(A),B[g+2]=255*Math.sqrt(P)}getRgbItem(v,S,d,B){this.#n(v,S,!1,d,B)}getRgbBuffer(v,S,d,B,g,L,C){const h=(1<<L)-1;for(let M=0;M<d;M++)this.#n(v,S,h,B,g),S+=3,g+=3+C}getOutputLength(v,S){return v*(3+S)/3|0}isDefaultDecode(v,S){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PartialEvaluator=E.EvaluatorPreprocessor=void 0;var n=V(2),j=V(14),x=V(4),e=V(34),t=V(37),a=V(41),F=V(50),m=V(51),y=V(42),k=V(57),s=V(16),p=V(59),i=V(8),D=V(5),b=V(60),O=V(12),v=V(18),S=V(38),d=V(61),B=V(39),g=V(45),L=V(40),C=V(62),h=V(63),M=V(64),l=V(65);const r=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),c=10,u=Promise.resolve();function I(z,U=!1){if(Array.isArray(z)){for(const q of z){const J=I(q,!0);if(J)return J}return(0,n.warn)(`Unsupported blend mode Array: ${z}`),"source-over"}if(!(z instanceof x.Name))return U?null:"source-over";switch(z.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return U?null:((0,n.warn)(`Unsupported blend mode: ${z.name}`),"source-over")}function A(z){z.fn===n.OPS.paintImageMaskXObject&&z.args[0]?.count>0&&z.args[0].count++}class P{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return!(++this.checked<P.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+P.TIME_SLOT_DURATION_MS,this.checked=0}}class ${constructor({xref:U,handler:q,pageIndex:J,idFactory:oe,fontCache:ne,builtInCMapCache:Q,standardFontDataCache:R,globalImageCache:X,systemFontCache:G,options:Y=null}){this.xref=U,this.handler=q,this.pageIndex=J,this.idFactory=oe,this.fontCache=ne,this.builtInCMapCache=Q,this.standardFontDataCache=R,this.globalImageCache=X,this.systemFontCache=G,this.options=Y||r,this.parsingType3Font=!1,this._regionalImageCache=new p.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),C.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const U=new k.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",U)}clone(U=null){const q=Object.create(this);return q.options=Object.assign(Object.create(null),this.options,U),q}hasBlendModes(U,q){if(!(U instanceof x.Dict)||U.objId&&q.has(U.objId))return!1;const J=new x.RefSet(q);U.objId&&J.put(U.objId);const oe=[U],ne=this.xref;for(;oe.length;){const Q=oe.shift(),R=Q.get("ExtGState");if(R instanceof x.Dict)for(let G of R.getRawValues()){if(G instanceof x.Ref){if(J.has(G))continue;try{G=ne.fetch(G)}catch(K){J.put(G),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${K}".`);continue}}if(!(G instanceof x.Dict))continue;G.objId&&J.put(G.objId);const Y=G.get("BM");if(Y instanceof x.Name){if("Normal"!==Y.name)return!0}else if(void 0!==Y&&Array.isArray(Y))for(const K of Y)if(K instanceof x.Name&&"Normal"!==K.name)return!0}const X=Q.get("XObject");if(X instanceof x.Dict)for(let G of X.getRawValues()){if(G instanceof x.Ref){if(J.has(G))continue;try{G=ne.fetch(G)}catch(K){J.put(G),(0,n.info)(`hasBlendModes - ignoring XObject: "${K}".`);continue}}if(!(G instanceof D.BaseStream))continue;G.dict.objId&&J.put(G.dict.objId);const Y=G.dict.get("Resources");Y instanceof x.Dict&&(Y.objId&&J.has(Y.objId)||(oe.push(Y),Y.objId&&J.put(Y.objId)))}}for(const Q of J)q.put(Q);return!1}async fetchBuiltInCMap(U){const q=this.builtInCMapCache.get(U);if(q)return q;let J;if(null!==this.options.cMapUrl){const oe=`${this.options.cMapUrl}${U}.bcmap`,ne=await fetch(oe);if(!ne.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${oe}" with "${ne.statusText}".`);J={cMapData:new Uint8Array(await ne.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else J=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:U});return J.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(U,J),J}async fetchStandardFontData(U){const q=this.standardFontDataCache.get(U);if(q)return new i.Stream(q);if(this.options.useSystemFonts&&"Symbol"!==U&&"ZapfDingbats"!==U)return null;const oe=(0,a.getFontNameToFileMap)()[U];let ne;if(null!==this.options.standardFontDataUrl){const Q=`${this.options.standardFontDataUrl}${oe}`,R=await fetch(Q);R.ok?ne=await R.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${Q}" with "${R.statusText}".`)}else try{ne=await this.handler.sendWithPromise("FetchStandardFontData",{filename:oe})}catch(Q){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${oe}" with "${Q}".`)}return ne?(this.standardFontDataCache.set(U,ne),new i.Stream(ne)):null}async buildFormXObject(U,q,J,oe,ne,Q,R){const X=q.dict,G=X.getArray("Matrix");let K,Z,Y=X.getArray("BBox");Y=Array.isArray(Y)&&4===Y.length?n.Util.normalizeRect(Y):null,X.has("OC")&&(K=await this.parseMarkedContentProps(X.get("OC"),U)),void 0!==K&&oe.addOp(n.OPS.beginMarkedContentProps,["OC",K]);const ae=X.get("Group");if(ae){Z={matrix:G,bbox:Y,smask:J,isolated:!1,knockout:!1};const te=ae.get("S");let re=null;if((0,x.isName)(te,"Transparency")&&(Z.isolated=ae.get("I")||!1,Z.knockout=ae.get("K")||!1,ae.has("CS"))){const ee=ae.getRaw("CS");re=O.ColorSpace.getCached(ee,this.xref,R)||await this.parseColorSpace({cs:ee,resources:U,localColorSpaceCache:R})}J?.backdrop&&(re||=O.ColorSpace.singletons.rgb,J.backdrop=re.getRgb(J.backdrop,0)),oe.addOp(n.OPS.beginGroup,[Z])}return oe.addOp(n.OPS.paintFormXObjectBegin,ae?[G,null]:[G,Y]),this.getOperatorList({stream:q,task:ne,resources:X.get("Resources")||U,operatorList:oe,initialState:Q}).then(function(){oe.addOp(n.OPS.paintFormXObjectEnd,[]),ae&&oe.addOp(n.OPS.endGroup,[Z]),void 0!==K&&oe.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(U,q,J=!1){const oe=q?[q.bitmap||q.data.buffer]:null;return this.parsingType3Font||J?this.handler.send("commonobj",[U,"Image",q],oe):this.handler.send("obj",[U,this.pageIndex,"Image",q],oe)}async buildPaintImageXObject({resources:U,image:q,isInline:J=!1,operatorList:oe,cacheKey:ne,localImageCache:Q,localColorSpaceCache:R}){const X=q.dict,G=X.objId,Y=X.get("W","Width"),K=X.get("H","Height");if(!Y||"number"!=typeof Y||!K||"number"!=typeof K)return void(0,n.warn)("Image dimensions are missing, or not numbers.");const Z=this.options.maxImageSize;if(-1!==Z&&Y*K>Z){const fe="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors)return void(0,n.warn)(fe);throw new Error(fe)}let ae,te,re;if(X.has("OC")&&(ae=await this.parseMarkedContentProps(X.get("OC"),U)),X.get("IM","ImageMask")){const fe=X.get("I","Interpolate"),Ce=q.getBytes((Y+7>>3)*K),ve=X.getArray("D","Decode");if(this.parsingType3Font){if(te=l.PDFImage.createRawMask({imgArray:Ce,width:Y,height:K,imageIsFromDecodeStream:q instanceof v.DecodeStream,inverseDecode:ve?.[0]>0,interpolate:fe}),te.cached=!!ne,re=[te],oe.addImageOps(n.OPS.paintImageMaskXObject,re,ae),ne){const de={fn:n.OPS.paintImageMaskXObject,args:re,optionalContent:ae};Q.set(ne,G,de),G&&this._regionalImageCache.set(null,G,de)}return}if(te=await l.PDFImage.createMask({imgArray:Ce,width:Y,height:K,imageIsFromDecodeStream:q instanceof v.DecodeStream,inverseDecode:ve?.[0]>0,interpolate:fe,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),te.isSingleOpaquePixel){if(oe.addImageOps(n.OPS.paintSolidColorImageMask,[],ae),ne){const de={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:ae};Q.set(ne,G,de),G&&this._regionalImageCache.set(null,G,de)}return}const me=`mask_${this.idFactory.createObjId()}`;if(oe.addDependency(me),this._sendImgData(me,te),re=[{data:me,width:te.width,height:te.height,interpolate:te.interpolate,count:1}],oe.addImageOps(n.OPS.paintImageMaskXObject,re,ae),ne){const de={fn:n.OPS.paintImageMaskXObject,args:re,optionalContent:ae};Q.set(ne,G,de),G&&this._regionalImageCache.set(null,G,de)}return}if(J&&!X.has("SMask")&&!X.has("Mask")&&Y+K<200)return te=await new l.PDFImage({xref:this.xref,res:U,image:q,isInline:J,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:R}).createImageData(!0,!1),oe.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,void oe.addImageOps(n.OPS.paintInlineImageXObject,[te],ae);let le=`img_${this.idFactory.createObjId()}`,ue=!1;if(this.parsingType3Font?le=`${this.idFactory.getDocId()}_type3_${le}`:G&&(ue=this.globalImageCache.shouldCache(G,this.pageIndex),ue&&(le=`${this.idFactory.getDocId()}_${le}`)),oe.addDependency(le),re=[le,Y,K],l.PDFImage.buildImage({xref:this.xref,res:U,image:q,isInline:J,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:R}).then(async fe=>(te=await fe.createImageData(!1,this.options.isOffscreenCanvasSupported),ne&&G&&ue&&this.globalImageCache.addByteSize(G,te.bitmap?te.width*te.height*4:te.data.length),this._sendImgData(le,te,ue))).catch(fe=>((0,n.warn)(`Unable to decode image "${le}": "${fe}".`),this._sendImgData(le,null,ue))),oe.addImageOps(n.OPS.paintImageXObject,re,ae),ne){const fe={fn:n.OPS.paintImageXObject,args:re,optionalContent:ae};Q.set(ne,G,fe),G&&(this._regionalImageCache.set(null,G,fe),ue&&((0,n.assert)(!J,"Cannot cache an inline image globally."),this.globalImageCache.setData(G,{objId:le,fn:n.OPS.paintImageXObject,args:re,optionalContent:ae,byteSize:0})))}}handleSMask(U,q,J,oe,ne,Q){const R=U.get("G"),X={subtype:U.get("S").name,backdrop:U.get("BC")},G=U.get("TR");if((0,k.isPDFFunction)(G)){const Y=this._pdfFunctionFactory.create(G),K=new Uint8Array(256),Z=new Float32Array(1);for(let ae=0;ae<256;ae++)Z[0]=ae/255,Y(Z,0,Z,0),K[ae]=255*Z[0]|0;X.transferMap=K}return this.buildFormXObject(q,R,X,J,oe,ne.state.clone(),Q)}handleTransferFunction(U){let q;if(Array.isArray(U))q=U;else{if(!(0,k.isPDFFunction)(U))return null;q=[U]}const J=[];let oe=0,ne=0;for(const Q of q){const R=this.xref.fetchIfRef(Q);if(oe++,(0,x.isName)(R,"Identity")){J.push(null);continue}if(!(0,k.isPDFFunction)(R))return null;const X=this._pdfFunctionFactory.create(R),G=new Uint8Array(256),Y=new Float32Array(1);for(let K=0;K<256;K++)Y[0]=K/255,X(Y,0,Y,0),G[K]=255*Y[0]|0;J.push(G),ne++}return 1!==oe&&4!==oe||0===ne?null:J}handleTilingType(U,q,J,oe,ne,Q,R,X){const G=new M.OperatorList,Y=x.Dict.merge({xref:this.xref,dictArray:[ne.get("Resources"),J]});return this.getOperatorList({stream:oe,task:R,resources:Y,operatorList:G}).then(function(){const K=G.getIR(),Z=(0,F.getTilingPatternIR)(K,ne,q);Q.addDependencies(G.dependencies),Q.addOp(U,Z),ne.objId&&X.set(null,ne.objId,{operatorListIR:K,dict:ne})}).catch(K=>{if(!(K instanceof n.AbortException)){if(this.options.ignoreErrors)return void(0,n.warn)(`handleTilingType - ignoring pattern: "${K}".`);throw K}})}handleSetFont(U,q,J,oe,ne,Q,R=null,X=null){return this.loadFont(q?.[0]instanceof x.Name?q[0].name:null,J,U,R,X).then(Y=>Y.font.isType3Font?Y.loadType3Data(this,U,ne).then(function(){return oe.addDependencies(Y.type3Dependencies),Y}).catch(K=>new _({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${K}`),dict:Y.font,evaluatorOptions:this.options})):Y).then(Y=>(Q.font=Y.font,Y.send(this.handler),Y.loadedName))}handleText(U,q){const J=q.font,oe=J.charsToGlyphs(U);return J.data&&(q.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===q.fillColorSpace.name||J.disableFontFace||this.options.disableFontFace)&&$.buildFontPaths(J,oe,this.handler,this.options),oe}ensureStateFont(U){if(U.font)return;const q=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw q;(0,n.warn)(`ensureStateFont: "${q}".`)}async setGState({resources:U,gState:q,operatorList:J,cacheKey:oe,task:ne,stateManager:Q,localGStateCache:R,localColorSpaceCache:X}){const G=q.objId;let Y=!0;const K=[];let Z=Promise.resolve();for(const ae of q.getKeys()){const ie=q.get(ae);switch(ae){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":K.push([ae,ie]);break;case"Font":Y=!1,Z=Z.then(()=>this.handleSetFont(U,null,ie[0],J,ne,Q.state).then(function(re){J.addDependency(re),K.push([ae,[re,ie[1]]])}));break;case"BM":K.push([ae,I(ie)]);break;case"SMask":if((0,x.isName)(ie,"None")){K.push([ae,!1]);break}ie instanceof x.Dict?(Y=!1,Z=Z.then(()=>this.handleSMask(ie,U,J,ne,Q,X)),K.push([ae,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const te=this.handleTransferFunction(ie);K.push([ae,te]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+ae);break;default:(0,n.info)("Unknown graphic state operator "+ae)}}return Z.then(function(){K.length>0&&J.addOp(n.OPS.setGState,[K]),Y&&R.set(oe,G,K)})}loadFont(U,q,J,oe=null,ne=null){const Q=async()=>new _({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${U}" is not available.`),dict:q,evaluatorOptions:this.options});let R;if(q)q instanceof x.Ref&&(R=q);else{const ie=J.get("Font");ie&&(R=ie.getRaw(U))}if(R){if(this.parsingType3Font&&this.type3FontRefs.has(R))return Q();if(this.fontCache.has(R))return this.fontCache.get(R);q=this.xref.fetchIfRef(R)}if(!(q instanceof x.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${U}" is not available.`),Q();(0,n.warn)(`Font "${U}" is not available -- attempting to fallback to a default font.`),q=oe||$.fallbackFontDict}if(q.cacheKey&&this.fontCache.has(q.cacheKey))return this.fontCache.get(q.cacheKey);const X=new n.PromiseCapability;let G;try{G=this.preEvaluateFont(q),G.cssFontInfo=ne}catch(ie){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${ie}".`),Q()}const{descriptor:Y,hash:K}=G,Z=R instanceof x.Ref;let ae;if(K&&Y instanceof x.Dict){const ie=Y.fontAliases||=Object.create(null);if(ie[K]){const te=ie[K].aliasRef;if(Z&&te&&this.fontCache.has(te))return this.fontCache.putAlias(R,te),this.fontCache.get(R)}else ie[K]={fontID:this.idFactory.createFontId()};Z&&(ie[K].aliasRef=R),ae=ie[K].fontID}else ae=this.idFactory.createFontId();return(0,n.assert)(ae?.startsWith("f"),'The "fontID" must be (correctly) defined.'),Z?this.fontCache.put(R,X.promise):(q.cacheKey=`cacheKey_${ae}`,this.fontCache.put(q.cacheKey,X.promise)),q.loadedName=`${this.idFactory.getDocId()}_${ae}`,this.translateFont(G).then(ie=>{X.resolve(new _({loadedName:q.loadedName,font:ie,dict:q,evaluatorOptions:this.options}))}).catch(ie=>{(0,n.warn)(`loadFont - translateFont failed: "${ie}".`),X.resolve(new _({loadedName:q.loadedName,font:new e.ErrorFont(ie instanceof Error?ie.message:ie),dict:q,evaluatorOptions:this.options}))}),X.promise}buildPath(U,q,J,oe=!1){const ne=U.length-1;if(J||(J=[]),ne<0||U.fnArray[ne]!==n.OPS.constructPath){let Q;switch(oe&&((0,n.warn)(`Encountered path operator "${q}" inside of a text object.`),U.addOp(n.OPS.save,null)),q){case n.OPS.rectangle:const R=J[0]+J[2],X=J[1]+J[3];Q=[Math.min(J[0],R),Math.max(J[0],R),Math.min(J[1],X),Math.max(J[1],X)];break;case n.OPS.moveTo:case n.OPS.lineTo:Q=[J[0],J[0],J[1],J[1]];break;default:Q=[1/0,-1/0,1/0,-1/0]}U.addOp(n.OPS.constructPath,[[q],J,Q]),oe&&U.addOp(n.OPS.restore,null)}else{const Q=U.argsArray[ne];Q[0].push(q),Q[1].push(...J);const R=Q[2];switch(q){case n.OPS.rectangle:const X=J[0]+J[2],G=J[1]+J[3];R[0]=Math.min(R[0],J[0],X),R[1]=Math.max(R[1],J[0],X),R[2]=Math.min(R[2],J[1],G),R[3]=Math.max(R[3],J[1],G);break;case n.OPS.moveTo:case n.OPS.lineTo:R[0]=Math.min(R[0],J[0]),R[1]=Math.max(R[1],J[0]),R[2]=Math.min(R[2],J[1]),R[3]=Math.max(R[3],J[1])}}}parseColorSpace({cs:U,resources:q,localColorSpaceCache:J}){return O.ColorSpace.parseAsync({cs:U,xref:this.xref,resources:q,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:J}).catch(oe=>{if(oe instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${oe}".`),null;throw oe})}parseShading({shading:U,resources:q,localColorSpaceCache:J,localShadingPatternCache:oe}){let ne=oe.get(U);if(!ne){const R=F.Pattern.parseShading(U,this.xref,q,this._pdfFunctionFactory,J).getIR();ne=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(ne=`${this.idFactory.getDocId()}_type3_${ne}`),oe.set(U,ne),this.parsingType3Font?this.handler.send("commonobj",[ne,"Pattern",R]):this.handler.send("obj",[ne,this.pageIndex,"Pattern",R])}return ne}handleColorN(U,q,J,oe,ne,Q,R,X,G,Y){const K=J.pop();if(K instanceof x.Name){const Z=ne.getRaw(K.name),ae=Z instanceof x.Ref&&G.getByRef(Z);if(ae)try{const te=oe.base?oe.base.getRgb(J,0):null,re=(0,F.getTilingPatternIR)(ae.operatorListIR,ae.dict,te);return void U.addOp(q,re)}catch{}const ie=this.xref.fetchIfRef(Z);if(ie){const te=ie instanceof D.BaseStream?ie.dict:ie,re=te.get("PatternType");if(1===re){const ee=oe.base?oe.base.getRgb(J,0):null;return this.handleTilingType(q,ee,Q,ie,te,U,R,G)}if(2===re){const ee=te.get("Shading"),le=te.getArray("Matrix"),ue=this.parseShading({shading:ee,resources:Q,localColorSpaceCache:X,localShadingPatternCache:Y});return void U.addOp(q,["Shading",ue,le])}throw new n.FormatError(`Unknown PatternType: ${re}`)}}throw new n.FormatError(`Unknown PatternName: ${K}`)}_parseVisibilityExpression(U,q,J){if(++q>10)return void(0,n.warn)("Visibility expression is too deeply nested");const ne=U.length,Q=this.xref.fetchIfRef(U[0]);if(!(ne<2)&&Q instanceof x.Name){switch(Q.name){case"And":case"Or":case"Not":J.push(Q.name);break;default:return void(0,n.warn)(`Invalid operator ${Q.name} in visibility expression`)}for(let R=1;R<ne;R++){const X=U[R],G=this.xref.fetchIfRef(X);if(Array.isArray(G)){const Y=[];J.push(Y),this._parseVisibilityExpression(G,q,Y)}else X instanceof x.Ref&&J.push(X.toString())}}else(0,n.warn)("Invalid visibility expression")}async parseMarkedContentProps(U,q){let J;if(U instanceof x.Name)J=q.get("Properties").get(U.name);else{if(!(U instanceof x.Dict))throw new n.FormatError("Optional content properties malformed.");J=U}const oe=J.get("Type")?.name;if("OCG"===oe)return{type:oe,id:J.objId};if("OCMD"===oe){const ne=J.get("VE");if(Array.isArray(ne)){const R=[];if(this._parseVisibilityExpression(ne,0,R),R.length>0)return{type:"OCMD",expression:R}}const Q=J.get("OCGs");if(Array.isArray(Q)||Q instanceof x.Dict){const R=[];if(Array.isArray(Q))for(const X of Q)R.push(X.toString());else R.push(Q.objId);return{type:oe,ids:R,policy:J.get("P")instanceof x.Name?J.get("P").name:null,expression:null}}if(Q instanceof x.Ref)return{type:oe,id:Q.toString()}}return null}getOperatorList({stream:U,task:q,resources:J,operatorList:oe,initialState:ne=null,fallbackFontDict:Q=null}){if(J||=x.Dict.empty,ne||=new N,!oe)throw new Error('getOperatorList: missing "operatorList" parameter');const R=this,X=this.xref;let G=!1;const Y=new p.LocalImageCache,K=new p.LocalColorSpaceCache,Z=new p.LocalGStateCache,ae=new p.LocalTilingPatternCache,ie=new Map,te=J.get("XObject")||x.Dict.empty,re=J.get("Pattern")||x.Dict.empty,ee=new w(ne),le=new H(U,X,ee),ue=new P;function fe(Se){for(let Ce=0,ve=le.savedStatesDepth;Ce<ve;Ce++)oe.addOp(n.OPS.restore,[])}return new Promise(function Se(Ce,ve){const me=function(Pe){Promise.all([Pe,oe.ready]).then(function(){try{Se(Ce,ve)}catch(ze){ve(ze)}},ve)};q.ensureNotTerminated(),ue.reset();const de={};let ge,Ae,be,pe,xe,we;for(;!(ge=ue.check())&&(de.args=null,le.read(de));){let Pe=de.args,ze=de.fn;switch(0|ze){case n.OPS.paintXObject:if(we=Pe[0]instanceof x.Name,xe=Pe[0].name,we){const Be=Y.getByName(xe);if(Be){oe.addImageOps(Be.fn,Be.args,Be.optionalContent),A(Be),Pe=null;continue}}return void me(new Promise(function(Be,Je){if(!we)throw new n.FormatError("XObject must be referred to by name.");let Ye=te.getRaw(xe);if(Ye instanceof x.Ref){const lt=Y.getByRef(Ye)||R._regionalImageCache.getByRef(Ye);if(lt)return oe.addImageOps(lt.fn,lt.args,lt.optionalContent),A(lt),void Be();const Ue=R.globalImageCache.getData(Ye,R.pageIndex);if(Ue)return oe.addDependency(Ue.objId),oe.addImageOps(Ue.fn,Ue.args,Ue.optionalContent),void Be();Ye=X.fetch(Ye)}if(!(Ye instanceof D.BaseStream))throw new n.FormatError("XObject should be a stream");const Qe=Ye.dict.get("Subtype");if(!(Qe instanceof x.Name))throw new n.FormatError("XObject should have a Name subtype");if("Form"===Qe.name)return ee.save(),void R.buildFormXObject(J,Ye,null,oe,q,ee.state.clone(),K).then(function(){ee.restore(),Be()},Je);if("Image"!==Qe.name){if("PS"!==Qe.name)throw new n.FormatError(`Unhandled XObject subtype ${Qe.name}`);(0,n.info)("Ignored XObject subtype PS"),Be()}else R.buildPaintImageXObject({resources:J,image:Ye,operatorList:oe,cacheKey:xe,localImageCache:Y,localColorSpaceCache:K}).then(Be,Je)}).catch(function(Be){if(!(Be instanceof n.AbortException)){if(R.options.ignoreErrors)return void(0,n.warn)(`getOperatorList - ignoring XObject: "${Be}".`);throw Be}}));case n.OPS.setFont:var Ne=Pe[1];return void me(R.handleSetFont(J,Pe,null,oe,q,ee.state,Q).then(function(Be){oe.addDependency(Be),oe.addOp(n.OPS.setFont,[Be,Ne])}));case n.OPS.beginText:G=!0;break;case n.OPS.endText:G=!1;break;case n.OPS.endInlineImage:var He=Pe[0].cacheKey;if(He){const Be=Y.getByName(He);if(Be){oe.addImageOps(Be.fn,Be.args,Be.optionalContent),A(Be),Pe=null;continue}}return void me(R.buildPaintImageXObject({resources:J,image:Pe[0],isInline:!0,operatorList:oe,cacheKey:He,localImageCache:Y,localColorSpaceCache:K}));case n.OPS.showText:if(!ee.state.font){R.ensureStateFont(ee.state);continue}Pe[0]=R.handleText(Pe[0],ee.state);break;case n.OPS.showSpacedText:if(!ee.state.font){R.ensureStateFont(ee.state);continue}var $e=[],qe=ee.state;for(const Be of Pe[0])"string"==typeof Be?$e.push(...R.handleText(Be,qe)):"number"==typeof Be&&$e.push(Be);Pe[0]=$e,ze=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!ee.state.font){R.ensureStateFont(ee.state);continue}oe.addOp(n.OPS.nextLine),Pe[0]=R.handleText(Pe[0],ee.state),ze=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!ee.state.font){R.ensureStateFont(ee.state);continue}oe.addOp(n.OPS.nextLine),oe.addOp(n.OPS.setWordSpacing,[Pe.shift()]),oe.addOp(n.OPS.setCharSpacing,[Pe.shift()]),Pe[0]=R.handleText(Pe[0],ee.state),ze=n.OPS.showText;break;case n.OPS.setTextRenderingMode:ee.state.textRenderingMode=Pe[0];break;case n.OPS.setFillColorSpace:{const Be=O.ColorSpace.getCached(Pe[0],X,K);if(Be){ee.state.fillColorSpace=Be;continue}return void me(R.parseColorSpace({cs:Pe[0],resources:J,localColorSpaceCache:K}).then(function(Je){Je&&(ee.state.fillColorSpace=Je)}))}case n.OPS.setStrokeColorSpace:{const Be=O.ColorSpace.getCached(Pe[0],X,K);if(Be){ee.state.strokeColorSpace=Be;continue}return void me(R.parseColorSpace({cs:Pe[0],resources:J,localColorSpaceCache:K}).then(function(Je){Je&&(ee.state.strokeColorSpace=Je)}))}case n.OPS.setFillColor:pe=ee.state.fillColorSpace,Pe=pe.getRgb(Pe,0),ze=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:pe=ee.state.strokeColorSpace,Pe=pe.getRgb(Pe,0),ze=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:ee.state.fillColorSpace=O.ColorSpace.singletons.gray,Pe=O.ColorSpace.singletons.gray.getRgb(Pe,0),ze=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:ee.state.strokeColorSpace=O.ColorSpace.singletons.gray,Pe=O.ColorSpace.singletons.gray.getRgb(Pe,0),ze=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:ee.state.fillColorSpace=O.ColorSpace.singletons.cmyk,Pe=O.ColorSpace.singletons.cmyk.getRgb(Pe,0),ze=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:ee.state.strokeColorSpace=O.ColorSpace.singletons.cmyk,Pe=O.ColorSpace.singletons.cmyk.getRgb(Pe,0),ze=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:ee.state.fillColorSpace=O.ColorSpace.singletons.rgb,Pe=O.ColorSpace.singletons.rgb.getRgb(Pe,0);break;case n.OPS.setStrokeRGBColor:ee.state.strokeColorSpace=O.ColorSpace.singletons.rgb,Pe=O.ColorSpace.singletons.rgb.getRgb(Pe,0);break;case n.OPS.setFillColorN:if(pe=ee.state.fillColorSpace,"Pattern"===pe.name)return void me(R.handleColorN(oe,n.OPS.setFillColorN,Pe,pe,re,J,q,K,ae,ie));Pe=pe.getRgb(Pe,0),ze=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(pe=ee.state.strokeColorSpace,"Pattern"===pe.name)return void me(R.handleColorN(oe,n.OPS.setStrokeColorN,Pe,pe,re,J,q,K,ae,ie));Pe=pe.getRgb(Pe,0),ze=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var Ke=J.get("Shading");if(!Ke)throw new n.FormatError("No shading resource found");var Oe=Ke.get(Pe[0].name);if(!Oe)throw new n.FormatError("No shading object found");Pe=[R.parseShading({shading:Oe,resources:J,localColorSpaceCache:K,localShadingPatternCache:ie})],ze=n.OPS.shadingFill;break;case n.OPS.setGState:if(we=Pe[0]instanceof x.Name,xe=Pe[0].name,we){const Be=Z.getByName(xe);if(Be){Be.length>0&&oe.addOp(n.OPS.setGState,[Be]),Pe=null;continue}}return void me(new Promise(function(Be,Je){if(!we)throw new n.FormatError("GState must be referred to by name.");const Ye=J.get("ExtGState");if(!(Ye instanceof x.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Qe=Ye.get(xe);if(!(Qe instanceof x.Dict))throw new n.FormatError("GState should be a dictionary.");R.setGState({resources:J,gState:Qe,operatorList:oe,cacheKey:xe,task:q,stateManager:ee,localGStateCache:Z,localColorSpaceCache:K}).then(Be,Je)}).catch(function(Be){if(!(Be instanceof n.AbortException)){if(R.options.ignoreErrors)return void(0,n.warn)(`getOperatorList - ignoring ExtGState: "${Be}".`);throw Be}}));case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:R.buildPath(oe,ze,Pe,G);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Pe[0]instanceof x.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Pe[0]}`);continue}if("OC"===Pe[0].name)return void me(R.parseMarkedContentProps(Pe[1],J).then(Be=>{oe.addOp(n.OPS.beginMarkedContentProps,["OC",Be])}).catch(Be=>{if(!(Be instanceof n.AbortException)){if(R.options.ignoreErrors)return void(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Be}".`);throw Be}}));Pe=[Pe[0].name,Pe[1]instanceof x.Dict?Pe[1].get("MCID"):null];break;default:if(null!==Pe){for(Ae=0,be=Pe.length;Ae<be&&!(Pe[Ae]instanceof x.Dict);Ae++);if(Ae<be){(0,n.warn)("getOperatorList - ignoring operator: "+ze);continue}}}oe.addOp(ze,Pe)}ge?me(u):(fe(),Ce())}).catch(Se=>{if(!(Se instanceof n.AbortException)){if(this.options.ignoreErrors)return(0,n.warn)(`getOperatorList - ignoring errors during "${q.name}" task: "${Se}".`),void fe();throw Se}})}getTextContent({stream:U,task:q,resources:J,stateManager:oe=null,includeMarkedContent:ne=!1,sink:Q,seenStyles:R=new Set,viewBox:X,markedContentData:G=null,disableNormalization:Y=!1}){J||=x.Dict.empty,oe||=new w(new T),ne&&(G||={level:0});const K={items:[],styles:Object.create(null)},Z={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},ae=[" "," "];let ie=0;function te(Ue){const at=(ie+1)%2,Xe=" "!==ae[ie]&&" "===ae[at];return ae[ie]=Ue,ie=at,Xe}function re(){return" "!==ae[ie]&&" "===ae[(ie+1)%2]}function ee(){ae[0]=ae[1]=" ",ie=0}const le=.102,ue=.03,fe=-.2,Se=.102,Ce=.6,ve=.25,me=this,de=this.xref,ge=[];let Ae=null;const be=new p.LocalImageCache,pe=new p.LocalGStateCache,xe=new H(U,de,oe);let we;function Ne({width:Ue=0,height:at=0,transform:Xe=Z.prevTransform,fontName:pt=Z.fontName}){K.items.push({str:" ",dir:"ltr",width:Ue,height:at,transform:Xe,fontName:pt,hasEOL:!1})}function He(){const Ue=we.font,at=[we.fontSize*we.textHScale,0,0,we.fontSize,0,we.textRise];if(Ue.isType3Font&&(we.fontSize<=1||Ue.isCharBBox)&&!(0,n.isArrayEqual)(we.fontMatrix,n.FONT_IDENTITY_MATRIX)){const Xe=Ue.bbox[3]-Ue.bbox[1];Xe>0&&(at[3]*=Xe*we.fontMatrix[3])}return n.Util.transform(we.ctm,n.Util.transform(we.textMatrix,at))}function $e(){if(Z.initialized)return Z;const{font:Ue,loadedName:at}=we;R.has(at)||(R.add(at),K.styles[at]={fontFamily:Ue.fallbackName,ascent:Ue.ascent,descent:Ue.descent,vertical:Ue.vertical}),Z.fontName=at;const Xe=Z.transform=He();Ue.vertical?(Z.width=Z.totalWidth=Math.hypot(Xe[0],Xe[1]),Z.height=Z.totalHeight=0,Z.vertical=!0):(Z.width=Z.totalWidth=0,Z.height=Z.totalHeight=Math.hypot(Xe[2],Xe[3]),Z.vertical=!1);const pt=Math.hypot(we.textLineMatrix[0],we.textLineMatrix[1]),St=Math.hypot(we.ctm[0],we.ctm[1]);Z.textAdvanceScale=St*pt;const{fontSize:Ct}=we;return Z.trackingSpaceMin=Ct*le,Z.notASpace=Ct*ue,Z.negativeSpaceMax=Ct*fe,Z.spaceInFlowMin=Ct*Se,Z.spaceInFlowMax=Ct*Ce,Z.hasEOL=!1,Z.initialized=!0,Z}function qe(){if(!Z.initialized)return;const Ue=Math.hypot(we.textLineMatrix[0],we.textLineMatrix[1]),Xe=Math.hypot(we.ctm[0],we.ctm[1])*Ue;Xe!==Z.textAdvanceScale&&(Z.vertical?(Z.totalHeight+=Z.height*Z.textAdvanceScale,Z.height=0):(Z.totalWidth+=Z.width*Z.textAdvanceScale,Z.width=0),Z.textAdvanceScale=Xe)}function Oe(Ue,at){return me.loadFont(Ue,at,J).then(function(Xe){return Xe.font.isType3Font?Xe.loadType3Data(me,J,q).catch(function(){}).then(function(){return Xe}):Xe}).then(function(Xe){we.loadedName=Xe.loadedName,we.font=Xe.font,we.fontMatrix=Xe.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Pe(Ue,at,Xe){const pt=Math.hypot(Xe[0],Xe[1]);return[(Xe[0]*Ue+Xe[1]*at)/pt,(Xe[2]*Ue+Xe[3]*at)/pt]}function ze(Ue){const at=He();let Xe=at[4],pt=at[5];if(we.font?.vertical){if(Xe<X[0]||Xe>X[2]||pt+Ue<X[1]||pt>X[3])return!1}else if(Xe+Ue<X[0]||Xe>X[2]||pt<X[1]||pt>X[3])return!1;if(!we.font||!Z.prevTransform)return!0;let St=Z.prevTransform[4],Ct=Z.prevTransform[5];if(St===Xe&&Ct===pt)return!0;let dt=-1;switch(at[0]&&0===at[1]&&0===at[2]?dt=at[0]>0?0:180:at[1]&&0===at[0]&&0===at[3]&&(dt=at[1]>0?90:270),dt){case 0:break;case 90:[Xe,pt]=[pt,Xe],[St,Ct]=[Ct,St];break;case 180:[Xe,pt,St,Ct]=[-Xe,-pt,-St,-Ct];break;case 270:[Xe,pt]=[-pt,-Xe],[St,Ct]=[-Ct,-St];break;default:[Xe,pt]=Pe(Xe,pt,at),[St,Ct]=Pe(St,Ct,Z.prevTransform)}if(we.font.vertical){const De=(Ct-pt)/Z.textAdvanceScale,Re=Xe-St,je=Math.sign(Z.height);return De<je*Z.negativeSpaceMax?Math.abs(Re)>.5*Z.width?(Be(),!0):(ee(),Ye(),!0):Math.abs(Re)>Z.width?(Be(),!0):(De<=je*Z.notASpace&&ee(),De<=je*Z.trackingSpaceMin?re()?(ee(),Ye(),Ne({height:Math.abs(De)})):Z.height+=De:Je(De,Z.prevTransform,je)||(0===Z.str.length?(ee(),Ne({height:Math.abs(De)})):Z.height+=De),Math.abs(Re)>Z.width*ve&&Ye(),!0)}const _t=(Xe-St)/Z.textAdvanceScale,_e=pt-Ct,Ie=Math.sign(Z.width);return _t<Ie*Z.negativeSpaceMax?Math.abs(_e)>.5*Z.height?(Be(),!0):(ee(),Ye(),!0):Math.abs(_e)>Z.height?(Be(),!0):(_t<=Ie*Z.notASpace&&ee(),_t<=Ie*Z.trackingSpaceMin?re()?(ee(),Ye(),Ne({width:Math.abs(_t)})):Z.width+=_t:Je(_t,Z.prevTransform,Ie)||(0===Z.str.length?(ee(),Ne({width:Math.abs(_t)})):Z.width+=_t),Math.abs(_e)>Z.height*ve&&Ye(),!0)}function Ze({chars:Ue,extraSpacing:at}){const Xe=we.font;if(!Ue){const Ct=we.charSpacing+at;return void(Ct&&(Xe.vertical?we.translateTextMatrix(0,-Ct):we.translateTextMatrix(Ct*we.textHScale,0)))}const pt=Xe.charsToGlyphs(Ue),St=we.fontMatrix[0]*we.fontSize;for(let Ct=0,dt=pt.length;Ct<dt;Ct++){const _t=pt[Ct],{category:_e}=_t;if(_e.isInvisibleFormatMark)continue;let Ie=we.charSpacing+(Ct+1===dt?at:0),De=_t.width;Xe.vertical&&(De=_t.vmetric?_t.vmetric[0]:-De);let Re=De*St;if(_e.isWhitespace){Xe.vertical?(Ie+=-Re+we.wordSpacing,we.translateTextMatrix(0,-Ie)):(Ie+=Re+we.wordSpacing,we.translateTextMatrix(Ie*we.textHScale,0)),te(" ");continue}if(!_e.isZeroWidthDiacritic&&!ze(Re)){Xe.vertical?we.translateTextMatrix(0,Re):we.translateTextMatrix(Re*we.textHScale,0);continue}const je=$e();_e.isZeroWidthDiacritic&&(Re=0),Xe.vertical?(we.translateTextMatrix(0,Re),Re=Math.abs(Re),je.height+=Re):(Re*=we.textHScale,we.translateTextMatrix(Re,0),je.width+=Re),Re&&(je.prevTransform=He());const it=_t.unicode;te(it)&&je.str.push(" "),je.str.push(it),Ie&&(Xe.vertical?we.translateTextMatrix(0,-Ie):we.translateTextMatrix(Ie*we.textHScale,0))}}function Be(){ee(),Z.initialized?(Z.hasEOL=!0,Ye()):K.items.push({str:"",dir:"ltr",width:0,height:0,transform:He(),fontName:we.loadedName,hasEOL:!0})}function Je(Ue,at,Xe){if(Xe*Z.spaceInFlowMin<=Ue&&Ue<=Xe*Z.spaceInFlowMax)return Z.initialized&&(ee(),Z.str.push(" ")),!1;const pt=Z.fontName;let St=0;return Z.vertical&&(St=Ue,Ue=0),Ye(),ee(),Ne({width:Math.abs(Ue),height:Math.abs(St),transform:at||He(),fontName:pt}),!0}function Ye(){!Z.initialized||!Z.str||(Z.vertical?Z.totalHeight+=Z.height*Z.textAdvanceScale:Z.totalWidth+=Z.width*Z.textAdvanceScale,K.items.push(function Ke(Ue){let at=Ue.str.join("");Y||(at=(0,n.normalizeUnicode)(at));const Xe=(0,b.bidi)(at,-1,Ue.vertical);return{str:Xe.str,dir:Xe.dir,width:Math.abs(Ue.totalWidth),height:Math.abs(Ue.totalHeight),transform:Ue.transform,fontName:Ue.fontName,hasEOL:Ue.hasEOL}}(Z)),Z.initialized=!1,Z.str.length=0)}function Qe(Ue=!1){const at=K.items.length;0!==at&&(Ue&&at<c||(Q.enqueue(K,at),K.items=[],K.styles=Object.create(null)))}const lt=new P;return new Promise(function Ue(at,Xe){const pt=function(Re){Qe(!0),Promise.all([Re,Q.ready]).then(function(){try{Ue(at,Xe)}catch(je){Xe(je)}},Xe)};q.ensureNotTerminated(),lt.reset();const St={};let Ct,dt=[];for(;!(Ct=lt.check())&&(dt.length=0,St.args=dt,xe.read(St));){const Re=we;switch(we=oe.state,dt=St.args,0|St.fn){case n.OPS.setFont:var _t=dt[0].name,_e=dt[1];if(we.font&&_t===we.fontName&&_e===we.fontSize)break;return Ye(),we.fontName=_t,we.fontSize=_e,void pt(Oe(_t,null));case n.OPS.setTextRise:we.textRise=dt[0];break;case n.OPS.setHScale:we.textHScale=dt[0]/100;break;case n.OPS.setLeading:we.leading=dt[0];break;case n.OPS.moveText:we.translateTextLineMatrix(dt[0],dt[1]),we.textMatrix=we.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:we.leading=-dt[1],we.translateTextLineMatrix(dt[0],dt[1]),we.textMatrix=we.textLineMatrix.slice();break;case n.OPS.nextLine:we.carriageReturn();break;case n.OPS.setTextMatrix:we.setTextMatrix(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),we.setTextLineMatrix(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),qe();break;case n.OPS.setCharSpacing:we.charSpacing=dt[0];break;case n.OPS.setWordSpacing:we.wordSpacing=dt[0];break;case n.OPS.beginText:we.textMatrix=n.IDENTITY_MATRIX.slice(),we.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!oe.state.font){me.ensureStateFont(oe.state);continue}const it=(we.font.vertical?1:-1)*we.fontSize/1e3,Ge=dt[0];for(let Me=0,ot=Ge.length;Me<ot;Me++){const nt=Ge[Me];if("string"==typeof nt)ge.push(nt);else if("number"==typeof nt&&0!==nt){const xt=ge.join("");ge.length=0,Ze({chars:xt,extraSpacing:nt*it})}}if(ge.length>0){const Me=ge.join("");ge.length=0,Ze({chars:Me,extraSpacing:0})}break;case n.OPS.showText:if(!oe.state.font){me.ensureStateFont(oe.state);continue}Ze({chars:dt[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!oe.state.font){me.ensureStateFont(oe.state);continue}we.carriageReturn(),Ze({chars:dt[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!oe.state.font){me.ensureStateFont(oe.state);continue}we.wordSpacing=dt[0],we.charSpacing=dt[1],we.carriageReturn(),Ze({chars:dt[2],extraSpacing:0});break;case n.OPS.paintXObject:Ye(),Ae||(Ae=J.get("XObject")||x.Dict.empty);var Ie=dt[0]instanceof x.Name,De=dt[0].name;if(Ie&&be.getByName(De))break;return void pt(new Promise(function(Me,ot){if(!Ie)throw new n.FormatError("XObject must be referred to by name.");let nt=Ae.getRaw(De);if(nt instanceof x.Ref){if(be.getByRef(nt))return void Me();if(me.globalImageCache.getData(nt,me.pageIndex))return void Me();nt=de.fetch(nt)}if(!(nt instanceof D.BaseStream))throw new n.FormatError("XObject should be a stream");const xt=nt.dict.get("Subtype");if(!(xt instanceof x.Name))throw new n.FormatError("XObject should have a Name subtype");if("Form"!==xt.name)return be.set(De,nt.dict.objId,!0),void Me();const ct=oe.state.clone(),ht=new w(ct),mt=nt.dict.getArray("Matrix");Array.isArray(mt)&&6===mt.length&&ht.transform(mt),Qe();const We={enqueueInvoked:!1,enqueue(rt,Ve){this.enqueueInvoked=!0,Q.enqueue(rt,Ve)},get desiredSize(){return Q.desiredSize},get ready(){return Q.ready}};me.getTextContent({stream:nt,task:q,resources:nt.dict.get("Resources")||J,stateManager:ht,includeMarkedContent:ne,sink:We,seenStyles:R,viewBox:X,markedContentData:G,disableNormalization:Y}).then(function(){We.enqueueInvoked||be.set(De,nt.dict.objId,!0),Me()},ot)}).catch(function(Me){if(!(Me instanceof n.AbortException)){if(me.options.ignoreErrors)return void(0,n.warn)(`getTextContent - ignoring XObject: "${Me}".`);throw Me}}));case n.OPS.setGState:if(De=dt[0].name,(Ie=dt[0]instanceof x.Name)&&pe.getByName(De))break;return void pt(new Promise(function(Me,ot){if(!Ie)throw new n.FormatError("GState must be referred to by name.");const nt=J.get("ExtGState");if(!(nt instanceof x.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const xt=nt.get(De);if(!(xt instanceof x.Dict))throw new n.FormatError("GState should be a dictionary.");const ct=xt.get("Font");if(!ct)return pe.set(De,xt.objId,!0),void Me();Ye(),we.fontName=null,we.fontSize=ct[1],Oe(null,ct[0]).then(Me,ot)}).catch(function(Me){if(!(Me instanceof n.AbortException)){if(me.options.ignoreErrors)return void(0,n.warn)(`getTextContent - ignoring ExtGState: "${Me}".`);throw Me}}));case n.OPS.beginMarkedContent:Ye(),ne&&(G.level++,K.items.push({type:"beginMarkedContent",tag:dt[0]instanceof x.Name?dt[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(Ye(),ne){G.level++;let Me=null;dt[1]instanceof x.Dict&&(Me=dt[1].get("MCID")),K.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Me)?`${me.idFactory.getPageObjId()}_mc${Me}`:null,tag:dt[0]instanceof x.Name?dt[0].name:null})}break;case n.OPS.endMarkedContent:if(Ye(),ne){if(0===G.level)break;G.level--,K.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:Re&&(Re.font!==we.font||Re.fontSize!==we.fontSize||Re.fontName!==we.fontName)&&Ye()}if(K.items.length>=Q.desiredSize){Ct=!0;break}}Ct?pt(u):(Ye(),Qe(),at())}).catch(Ue=>{if(!(Ue instanceof n.AbortException)){if(this.options.ignoreErrors)return(0,n.warn)(`getTextContent - ignoring errors during "${q.name}" task: "${Ue}".`),Ye(),void Qe();throw Ue}})}extractDataStructures(U,q,J){const oe=this.xref;let ne;const Q=this.readToUnicode(J.toUnicode||U.get("ToUnicode")||q.get("ToUnicode"));if(J.composite){const Z=U.get("CIDSystemInfo");Z instanceof x.Dict&&(J.cidSystemInfo={registry:(0,n.stringToPDFString)(Z.get("Registry")),ordering:(0,n.stringToPDFString)(Z.get("Ordering")),supplement:Z.get("Supplement")});try{const ae=U.get("CIDToGIDMap");ae instanceof D.BaseStream&&(ne=ae.getBytes())}catch(ae){if(!this.options.ignoreErrors)throw ae;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${ae}".`)}}const R=[];let G,X=null;if(U.has("Encoding")){if(G=U.get("Encoding"),G instanceof x.Dict){if(X=G.get("BaseEncoding"),X=X instanceof x.Name?X.name:null,G.has("Differences")){const Z=G.get("Differences");let ae=0;for(const ie of Z){const te=oe.fetchIfRef(ie);if("number"==typeof te)ae=te;else{if(!(te instanceof x.Name))throw new n.FormatError(`Invalid entry in 'Differences' array: ${te}`);R[ae++]=te.name}}}}else if(G instanceof x.Name)X=G.name;else{const Z="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(Z);(0,n.warn)(Z)}"MacRomanEncoding"!==X&&"MacExpertEncoding"!==X&&"WinAnsiEncoding"!==X&&(X=null)}const Y=!J.file||J.isInternalFont,K=(0,a.getSymbolsFonts)()[J.name];return X&&Y&&K&&(X=null),X?J.defaultEncoding=(0,t.getEncoding)(X):(G=t.StandardEncoding,"TrueType"===J.type&&!(J.flags&S.FontFlags.Nonsymbolic)&&(G=t.WinAnsiEncoding),(!!(J.flags&S.FontFlags.Symbolic)||K)&&(G=t.MacRomanEncoding,Y&&(/Symbol/i.test(J.name)?G=t.SymbolSetEncoding:/Dingbats/i.test(J.name)?G=t.ZapfDingbatsEncoding:/Wingdings/i.test(J.name)&&(G=t.WinAnsiEncoding))),J.defaultEncoding=G),J.differences=R,J.baseEncodingName=X,J.hasEncoding=!!X||R.length>0,J.dict=U,Q.then(Z=>(J.toUnicode=Z,this.buildToUnicode(J))).then(Z=>(J.toUnicode=Z,ne&&(J.cidToGidMap=this.readCidToGidMap(ne,Z)),J))}_simpleFontToUnicode(U,q=!1){(0,n.assert)(!U.composite,"Must be a simple font.");const J=[],oe=U.defaultEncoding.slice(),ne=U.baseEncodingName,Q=U.differences;for(const X in Q){const G=Q[X];".notdef"!==G&&(oe[X]=G)}const R=(0,B.getGlyphsUnicode)();for(const X in oe){let G=oe[X];if(""===G)continue;let Y=R[G];if(void 0!==Y){J[X]=String.fromCharCode(Y);continue}let K=0;switch(G[0]){case"G":3===G.length&&(K=parseInt(G.substring(1),16));break;case"g":5===G.length&&(K=parseInt(G.substring(1),16));break;case"C":case"c":if(G.length>=3&&G.length<=4){const Z=G.substring(1);if(q){K=parseInt(Z,16);break}if(K=+Z,Number.isNaN(K)&&Number.isInteger(parseInt(Z,16)))return this._simpleFontToUnicode(U,!0)}break;case"u":Y=(0,L.getUnicodeForGlyph)(G,R),-1!==Y&&(K=Y);break;default:switch(G){case"f_h":case"f_t":case"T_h":J[X]=G.replaceAll("_","");continue}}if(K>0&&K<=1114111&&Number.isInteger(K)){if(ne&&K===+X){const Z=(0,t.getEncoding)(ne);if(Z&&(G=Z[X])){J[X]=String.fromCharCode(R[G]);continue}}J[X]=String.fromCodePoint(K)}}return J}async buildToUnicode(U){if(U.hasIncludedToUnicodeMap=U.toUnicode?.length>0,U.hasIncludedToUnicodeMap)return!U.composite&&U.hasEncoding&&(U.fallbackToUnicode=this._simpleFontToUnicode(U)),U.toUnicode;if(!U.composite)return new y.ToUnicodeMap(this._simpleFontToUnicode(U));if(U.composite&&(U.cMap.builtInCMap&&!(U.cMap instanceof j.IdentityCMap)||"Adobe"===U.cidSystemInfo.registry&&("GB1"===U.cidSystemInfo.ordering||"CNS1"===U.cidSystemInfo.ordering||"Japan1"===U.cidSystemInfo.ordering||"Korea1"===U.cidSystemInfo.ordering))){const{registry:q,ordering:J}=U.cidSystemInfo,oe=x.Name.get(`${q}-${J}-UCS2`),ne=await j.CMapFactory.create({encoding:oe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),Q=[],R=[];return U.cMap.forEach(function(X,G){if(G>65535)throw new n.FormatError("Max size of CID is 65,535");const Y=ne.lookup(G);if(Y){R.length=0;for(let K=0,Z=Y.length;K<Z;K+=2)R.push((Y.charCodeAt(K)<<8)+Y.charCodeAt(K+1));Q[X]=String.fromCharCode(...R)}}),new y.ToUnicodeMap(Q)}return new y.IdentityToUnicodeMap(U.firstChar,U.lastChar)}readToUnicode(U){return U?U instanceof x.Name?j.CMapFactory.create({encoding:U,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(q){return q instanceof j.IdentityCMap?new y.IdentityToUnicodeMap(0,65535):new y.ToUnicodeMap(q.getMap())}):U instanceof D.BaseStream?j.CMapFactory.create({encoding:U,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(q){if(q instanceof j.IdentityCMap)return new y.IdentityToUnicodeMap(0,65535);const J=new Array(q.length);return q.forEach(function(oe,ne){if("number"==typeof ne)return void(J[oe]=String.fromCodePoint(ne));const Q=[];for(let R=0;R<ne.length;R+=2){const X=ne.charCodeAt(R)<<8|ne.charCodeAt(R+1);if(55296!=(63488&X)){Q.push(X);continue}R+=2;const G=ne.charCodeAt(R)<<8|ne.charCodeAt(R+1);Q.push(((1023&X)<<10)+(1023&G)+65536)}J[oe]=String.fromCodePoint(...Q)}),new y.ToUnicodeMap(J)},q=>{if(q instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${q}".`),null;throw q}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(U,q){const J=[];for(let oe=0,ne=U.length;oe<ne;oe++){const Q=U[oe++]<<8|U[oe],R=oe>>1;0===Q&&!q.has(R)||(J[R]=Q)}return J}extractWidths(U,q,J){const oe=this.xref;let ne=[],Q=0;const R=[];let X,G,Y,K,Z,ae,ie,te;if(J.composite){if(Q=U.has("DW")?U.get("DW"):1e3,te=U.get("W"),te)for(G=0,Y=te.length;G<Y;G++)if(ae=oe.fetchIfRef(te[G++]),ie=oe.fetchIfRef(te[G]),Array.isArray(ie))for(K=0,Z=ie.length;K<Z;K++)ne[ae++]=oe.fetchIfRef(ie[K]);else{const le=oe.fetchIfRef(te[++G]);for(K=ae;K<=ie;K++)ne[K]=le}if(J.vertical){let le=U.getArray("DW2")||[880,-1e3];if(X=[le[1],.5*Q,le[0]],le=U.get("W2"),le)for(G=0,Y=le.length;G<Y;G++)if(ae=oe.fetchIfRef(le[G++]),ie=oe.fetchIfRef(le[G]),Array.isArray(ie))for(K=0,Z=ie.length;K<Z;K++)R[ae++]=[oe.fetchIfRef(ie[K++]),oe.fetchIfRef(ie[K++]),oe.fetchIfRef(ie[K])];else{const ue=[oe.fetchIfRef(le[++G]),oe.fetchIfRef(le[++G]),oe.fetchIfRef(le[++G])];for(K=ae;K<=ie;K++)R[K]=ue}}}else{const le=J.firstChar;if(te=U.get("Widths"),te){for(K=le,G=0,Y=te.length;G<Y;G++)ne[K++]=oe.fetchIfRef(te[G]);Q=parseFloat(q.get("MissingWidth"))||0}else{const ue=U.get("BaseFont");if(ue instanceof x.Name){const fe=this.getBaseFontMetrics(ue.name);ne=this.buildCharCodeToWidth(fe.widths,J),Q=fe.defaultWidth}}}let re=!0,ee=Q;for(const le in ne){const ue=ne[le];if(ue){if(!ee){ee=ue;continue}if(ee!==ue){re=!1;break}}}re?J.flags|=S.FontFlags.FixedPitch:J.flags&=~S.FontFlags.FixedPitch,J.defaultWidth=Q,J.widths=ne,J.defaultVMetrics=X,J.vmetrics=R}isSerifFont(U){const q=U.split("-")[0];return q in(0,a.getSerifFonts)()||/serif/gi.test(q)}getBaseFontMetrics(U){let q=0,J=Object.create(null),oe=!1,Q=(0,a.getStdFontMap)()[U]||U;const R=(0,g.getMetrics)();Q in R||(Q=this.isSerifFont(U)?"Times-Roman":"Helvetica");const X=R[Q];return"number"==typeof X?(q=X,oe=!0):J=X(),{defaultWidth:q,monospace:oe,widths:J}}buildCharCodeToWidth(U,q){const J=Object.create(null),oe=q.differences,ne=q.defaultEncoding;for(let Q=0;Q<256;Q++)Q in oe&&U[oe[Q]]?J[Q]=U[oe[Q]]:Q in ne&&U[ne[Q]]&&(J[Q]=U[ne[Q]]);return J}preEvaluateFont(U){const q=U;let J=U.get("Subtype");if(!(J instanceof x.Name))throw new n.FormatError("invalid font Subtype");let ne,Q,oe=!1;if("Type0"===J.name){const Y=U.get("DescendantFonts");if(!Y)throw new n.FormatError("Descendant fonts are not specified");if(!((U=Array.isArray(Y)?this.xref.fetchIfRef(Y[0]):Y)instanceof x.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(J=U.get("Subtype"),!(J instanceof x.Name))throw new n.FormatError("invalid font Subtype");oe=!0}const R=U.get("FirstChar")||0,X=U.get("LastChar")||(oe?65535:255),G=U.get("FontDescriptor");if(G){ne=new h.MurmurHash3_64;const Y=q.getRaw("Encoding");if(Y instanceof x.Name)ne.update(Y.name);else if(Y instanceof x.Ref)ne.update(Y.toString());else if(Y instanceof x.Dict)for(const Z of Y.getRawValues())if(Z instanceof x.Name)ne.update(Z.name);else if(Z instanceof x.Ref)ne.update(Z.toString());else if(Array.isArray(Z)){const ae=Z.length,ie=new Array(ae);for(let te=0;te<ae;te++){const re=Z[te];re instanceof x.Name?ie[te]=re.name:("number"==typeof re||re instanceof x.Ref)&&(ie[te]=re.toString())}ne.update(ie.join())}if(ne.update(`${R}-${X}`),Q=U.get("ToUnicode")||q.get("ToUnicode"),Q instanceof D.BaseStream){const Z=Q.str||Q,ae=Z.buffer?new Uint8Array(Z.buffer.buffer,0,Z.bufferLength):new Uint8Array(Z.bytes.buffer,Z.start,Z.end-Z.start);ne.update(ae)}else Q instanceof x.Name&&ne.update(Q.name);const K=U.get("Widths")||q.get("Widths");if(Array.isArray(K)){const Z=[];for(const ae of K)("number"==typeof ae||ae instanceof x.Ref)&&Z.push(ae.toString());ne.update(Z.join())}if(oe){ne.update("compositeFont");const Z=U.get("W")||q.get("W");if(Array.isArray(Z)){const ie=[];for(const te of Z)if("number"==typeof te||te instanceof x.Ref)ie.push(te.toString());else if(Array.isArray(te)){const re=[];for(const ee of te)("number"==typeof ee||ee instanceof x.Ref)&&re.push(ee.toString());ie.push(`[${re.join()}]`)}ne.update(ie.join())}const ae=U.getRaw("CIDToGIDMap")||q.getRaw("CIDToGIDMap");ae instanceof x.Name?ne.update(ae.name):ae instanceof x.Ref?ne.update(ae.toString()):ae instanceof D.BaseStream&&ne.update(ae.peekBytes())}}return{descriptor:G,dict:U,baseDict:q,composite:oe,type:J.name,firstChar:R,lastChar:X,toUnicode:Q,hash:ne?ne.hexdigest():""}}async translateFont({descriptor:U,dict:q,baseDict:J,composite:oe,type:ne,firstChar:Q,lastChar:R,toUnicode:X,cssFontInfo:G}){const Y="Type3"===ne;let K;if(!U){if(!Y){let me=q.get("BaseFont");if(!(me instanceof x.Name))throw new n.FormatError("Base font is not specified");me=me.name.replaceAll(/[,_]/g,"-");const de=this.getBaseFontMetrics(me),ge=me.split("-")[0],Ae=(this.isSerifFont(ge)?S.FontFlags.Serif:0)|(de.monospace?S.FontFlags.FixedPitch:0)|((0,a.getSymbolsFonts)()[ge]?S.FontFlags.Symbolic:S.FontFlags.Nonsymbolic);K={type:ne,name:me,loadedName:J.loadedName,systemFontInfo:null,widths:de.widths,defaultWidth:de.defaultWidth,isSimulatedFlags:!0,flags:Ae,firstChar:Q,lastChar:R,toUnicode:X,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Y};const be=q.get("Widths"),pe=(0,a.getStandardFontName)(me);let xe=null;return pe&&(xe=await this.fetchStandardFontData(pe),K.isInternalFont=!!xe),!K.isInternalFont&&this.options.useSystemFonts&&(K.systemFontInfo=(0,d.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,me,pe)),this.extractDataStructures(q,q,K).then(we=>{if(be){const Ne=[];let He=Q;for(const $e of be)Ne[He++]=this.xref.fetchIfRef($e);we.widths=Ne}else we.widths=this.buildCharCodeToWidth(de.widths,we);return new e.Font(me,xe,we)})}(U=new x.Dict(null)).set("FontName",x.Name.get(ne)),U.set("FontBBox",q.getArray("FontBBox")||[0,0,0,0])}let Z=U.get("FontName"),ae=q.get("BaseFont");"string"==typeof Z&&(Z=x.Name.get(Z)),"string"==typeof ae&&(ae=x.Name.get(ae));const ie=Z?.name,te=ae?.name;if(!Y&&ie!==te&&((0,n.info)(`The FontDescriptor's FontName is "${ie}" but should be the same as the Font's BaseFont "${te}".`),ie&&te&&(te.startsWith(ie)||!(0,a.isKnownFontName)(ie)&&(0,a.isKnownFontName)(te))&&(Z=null)),Z||=ae,!(Z instanceof x.Name))throw new n.FormatError("invalid font name");let re,ee,le,ue,fe;try{re=U.get("FontFile","FontFile2","FontFile3")}catch(me){if(!this.options.ignoreErrors)throw me;(0,n.warn)(`translateFont - fetching "${Z.name}" font file: "${me}".`),re=new i.NullStream}let Se=!1,Ce=null,ve=null;if(re){if(re.dict){const me=re.dict.get("Subtype");me instanceof x.Name&&(ee=me.name),le=re.dict.get("Length1"),ue=re.dict.get("Length2"),fe=re.dict.get("Length3")}}else if(G){const me=(0,m.getXfaFontName)(Z.name);me&&(G.fontFamily=`${G.fontFamily}-PdfJS-XFA`,G.metrics=me.metrics||null,Ce=me.factors||null,re=await this.fetchStandardFontData(me.name),Se=!!re,J=q=(0,m.getXfaFontDict)(Z.name),oe=!0)}else if(!Y){const me=(0,a.getStandardFontName)(Z.name);me&&(re=await this.fetchStandardFontData(me),Se=!!re),!Se&&this.options.useSystemFonts&&(ve=(0,d.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Z.name,me))}if(K={type:ne,name:Z.name,subtype:ee,file:re,length1:le,length2:ue,length3:fe,isInternalFont:Se,loadedName:J.loadedName,composite:oe,fixedPitch:!1,fontMatrix:q.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:Q,lastChar:R,toUnicode:X,bbox:U.getArray("FontBBox")||q.getArray("FontBBox"),ascent:U.get("Ascent"),descent:U.get("Descent"),xHeight:U.get("XHeight")||0,capHeight:U.get("CapHeight")||0,flags:U.get("Flags"),italicAngle:U.get("ItalicAngle")||0,isType3Font:Y,cssFontInfo:G,scaleFactors:Ce,systemFontInfo:ve},oe){const me=J.get("Encoding");me instanceof x.Name&&(K.cidEncoding=me.name);const de=await j.CMapFactory.create({encoding:me,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});K.cMap=de,K.vertical=K.cMap.vertical}return this.extractDataStructures(q,J,K).then(me=>(this.extractWidths(q,U,me),new e.Font(Z.name,re,me)))}static buildFontPaths(U,q,J,oe){function ne(Q){const R=`${U.loadedName}_path_${Q}`;try{if(U.renderer.hasBuiltPath(Q))return;J.send("commonobj",[R,"FontPath",U.renderer.getPathJs(Q)])}catch(X){if(oe.ignoreErrors)return void(0,n.warn)(`buildFontPaths - ignoring ${R} glyph: "${X}".`);throw X}}for(const Q of q){ne(Q.fontChar);const R=Q.accent;R?.fontChar&&ne(R.fontChar)}}static get fallbackFontDict(){const U=new x.Dict;return U.set("BaseFont",x.Name.get("Helvetica")),U.set("Type",x.Name.get("FallbackType")),U.set("Subtype",x.Name.get("FallbackType")),U.set("Encoding",x.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",U)}}E.PartialEvaluator=$;class _{constructor({loadedName:U,font:q,dict:J,evaluatorOptions:oe}){this.loadedName=U,this.font=q,this.dict=J,this._evaluatorOptions=oe||r,this.type3Loaded=null,this.type3Dependencies=q.isType3Font?new Set:null,this.sent=!1}send(U){this.sent||(this.sent=!0,U.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(U){this.font.data&&(this.font.disableFontFace=!0,$.buildFontPaths(this.font,this.font.glyphCacheValues,U,this._evaluatorOptions))}loadType3Data(U,q,J){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const oe=U.clone({ignoreErrors:!1});oe.parsingType3Font=!0;const ne=new x.RefSet(U.type3FontRefs);this.dict.objId&&!ne.has(this.dict.objId)&&ne.put(this.dict.objId),oe.type3FontRefs=ne;const Q=this.font,R=this.type3Dependencies;let X=Promise.resolve();const G=this.dict.get("CharProcs"),Y=this.dict.get("Resources")||q,K=Object.create(null),Z=n.Util.normalizeRect(Q.bbox||[0,0,0,0]),te=Math.hypot(Z[2]-Z[0],Z[3]-Z[1]);for(const re of G.getKeys())X=X.then(()=>{const ee=G.get(re),le=new M.OperatorList;return oe.getOperatorList({stream:ee,task:J,resources:Y,operatorList:le}).then(()=>{le.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(le,te),K[re]=le.getIR();for(const ue of le.dependencies)R.add(ue)}).catch(function(ue){(0,n.warn)(`Type3 font resource "${re}" is not available.`);const fe=new M.OperatorList;K[re]=fe.getIR()})});return this.type3Loaded=X.then(()=>{Q.charProcOperatorList=K,this._bbox&&(Q.isCharBBox=!0,Q.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(U,q=NaN){const J=n.Util.normalizeRect(U.argsArray[0].slice(2)),oe=J[2]-J[0],ne=J[3]-J[1],Q=Math.hypot(oe,ne);0===oe||0===ne?(U.fnArray.splice(0,1),U.argsArray.splice(0,1)):(0===q||Math.round(Q/q)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],J[0]),this._bbox[1]=Math.min(this._bbox[1],J[1]),this._bbox[2]=Math.max(this._bbox[2],J[2]),this._bbox[3]=Math.max(this._bbox[3],J[3]));let R=0,X=U.length;for(;R<X;){switch(U.fnArray[R]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:U.fnArray.splice(R,1),U.argsArray.splice(R,1),X--;continue;case n.OPS.setGState:const[G]=U.argsArray[R];let Y=0,K=G.length;for(;Y<K;){const[Z]=G[Y];switch(Z){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":G.splice(Y,1),K--;continue}Y++}}R++}}}class w{constructor(U=new N){this.state=U,this.stateStack=[]}save(){const U=this.state;this.stateStack.push(this.state),this.state=U.clone()}restore(){const U=this.stateStack.pop();U&&(this.state=U)}transform(U){this.state.ctm=n.Util.transform(this.state.ctm,U)}}class T{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(U,q,J,oe,ne,Q){const R=this.textMatrix;R[0]=U,R[1]=q,R[2]=J,R[3]=oe,R[4]=ne,R[5]=Q}setTextLineMatrix(U,q,J,oe,ne,Q){const R=this.textLineMatrix;R[0]=U,R[1]=q,R[2]=J,R[3]=oe,R[4]=ne,R[5]=Q}translateTextMatrix(U,q){const J=this.textMatrix;J[4]=J[0]*U+J[2]*q+J[4],J[5]=J[1]*U+J[3]*q+J[5]}translateTextLineMatrix(U,q){const J=this.textLineMatrix;J[4]=J[0]*U+J[2]*q+J[4],J[5]=J[1]*U+J[3]*q+J[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const U=Object.create(this);return U.textMatrix=this.textMatrix.slice(),U.textLineMatrix=this.textLineMatrix.slice(),U.fontMatrix=this.fontMatrix.slice(),U}}class N{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=O.ColorSpace.singletons.gray,this.strokeColorSpace=O.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class H{static get opMap(){return(0,n.shadow)(this,"opMap",{w:{id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:n.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:n.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:n.OPS.save,numArgs:0,variableArgs:!1},Q:{id:n.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:n.OPS.transform,numArgs:6,variableArgs:!1},m:{id:n.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:n.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:n.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:n.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:n.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:n.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:n.OPS.fill,numArgs:0,variableArgs:!1},F:{id:n.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:n.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:n.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:n.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:n.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:n.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:n.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:n.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:n.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:n.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:n.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:n.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:n.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:n.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:n.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(U,q,J=new w){this.parser=new s.Parser({lexer:new s.Lexer(U,H.opMap),xref:q}),this.stateManager=J,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(U){let q=U.args;for(;;){const J=this.parser.getObj();if(J instanceof x.Cmd){const oe=J.cmd,ne=H.opMap[oe];if(!ne){(0,n.warn)(`Unknown command "${oe}".`);continue}const Q=ne.id,R=ne.numArgs;let X=null!==q?q.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Q>=n.OPS.moveTo&&Q<=n.OPS.endPath,ne.variableArgs)X>R&&(0,n.info)(`Command ${oe}: expected [0, ${R}] args, but received ${X} args.`);else{if(X!==R){const G=this.nonProcessedArgs;for(;X>R;)G.push(q.shift()),X--;for(;X<R&&0!==G.length;)null===q&&(q=[]),q.unshift(G.pop()),X++}if(X<R){const G=`command ${oe}: expected ${R} args, but received ${X} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>H.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${G}`);(0,n.warn)(`Skipping ${G}`),null!==q&&(q.length=0);continue}}return this.preprocessCommand(Q,q),U.fn=Q,U.args=q,!0}if(J===x.EOF)return!1;if(null!==J&&(null===q&&(q=[]),q.push(J),q.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(U,q){switch(0|U){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(q)}}}E.EvaluatorPreprocessor=H},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.IdentityCMap=E.CMapFactory=E.CMap=void 0;var n=V(2),j=V(4),x=V(5),e=V(15),t=V(16),a=V(3),F=V(8);const m=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],y=2**24-1;class k{constructor(r=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=r}addCodespaceRange(r,f,c){this.codespaceRanges[r-1].push(f,c),this.numCodespaceRanges++}mapCidRange(r,f,c){if(f-r>y)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;r<=f;)this._map[r++]=c++}mapBfRange(r,f,c){if(f-r>y)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const u=c.length-1;for(;r<=f;){this._map[r++]=c;const I=c.charCodeAt(u)+1;c=I>255?c.substring(0,u-1)+String.fromCharCode(c.charCodeAt(u-1)+1)+"\0":c.substring(0,u)+String.fromCharCode(I)}}mapBfRangeToArray(r,f,c){if(f-r>y)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const u=c.length;let I=0;for(;r<=f&&I<u;)this._map[r]=c[I++],++r}mapOne(r,f){this._map[r]=f}lookup(r){return this._map[r]}contains(r){return void 0!==this._map[r]}forEach(r){const f=this._map,c=f.length;if(c<=65536)for(let u=0;u<c;u++)void 0!==f[u]&&r(u,f[u]);else for(const u in f)r(u,f[u])}charCodeOf(r){const f=this._map;if(f.length<=65536)return f.indexOf(r);for(const c in f)if(f[c]===r)return 0|c;return-1}getMap(){return this._map}readCharCode(r,f,c){let u=0;const I=this.codespaceRanges;for(let A=0,P=I.length;A<P;A++){u=(u<<8|r.charCodeAt(f+A))>>>0;const $=I[A];for(let _=0,w=$.length;_<w;){const T=$[_++],N=$[_++];if(u>=T&&u<=N)return c.charcode=u,void(c.length=A+1)}}c.charcode=0,c.length=1}getCharCodeLength(r){const f=this.codespaceRanges;for(let c=0,u=f.length;c<u;c++){const I=f[c];for(let A=0,P=I.length;A<P;){const $=I[A++],_=I[A++];if(r>=$&&r<=_)return c+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name||65536!==this._map.length)return!1;for(let r=0;r<65536;r++)if(this._map[r]!==r)return!1;return!0}}E.CMap=k;class s extends k{constructor(r,f){super(),this.vertical=r,this.addCodespaceRange(f,0,65535)}mapCidRange(r,f,c){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(r,f,c){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(r,f,c){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(r,f){(0,n.unreachable)("should not call mapCidOne")}lookup(r){return Number.isInteger(r)&&r<=65535?r:void 0}contains(r){return Number.isInteger(r)&&r<=65535}forEach(r){for(let f=0;f<=65535;f++)r(f,f)}charCodeOf(r){return Number.isInteger(r)&&r<=65535?r:-1}getMap(){const r=new Array(65536);for(let f=0;f<=65535;f++)r[f]=f;return r}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}function p(l){let r=0;for(let f=0;f<l.length;f++)r=r<<8|l.charCodeAt(f);return r>>>0}function i(l){if("string"!=typeof l)throw new n.FormatError("Malformed CMap: expected string.")}function D(l){if(!Number.isInteger(l))throw new n.FormatError("Malformed CMap: expected int.")}function b(l,r){for(;;){let f=r.getObj();if(f===j.EOF)break;if((0,j.isCmd)(f,"endbfchar"))return;i(f);const c=p(f);f=r.getObj(),i(f),l.mapOne(c,f)}}function O(l,r){for(;;){let f=r.getObj();if(f===j.EOF)break;if((0,j.isCmd)(f,"endbfrange"))return;i(f);const c=p(f);f=r.getObj(),i(f);const u=p(f);if(f=r.getObj(),Number.isInteger(f)||"string"==typeof f){const I=Number.isInteger(f)?String.fromCharCode(f):f;l.mapBfRange(c,u,I)}else{if(!(0,j.isCmd)(f,"["))break;{f=r.getObj();const I=[];for(;!(0,j.isCmd)(f,"]")&&f!==j.EOF;)I.push(f),f=r.getObj();l.mapBfRangeToArray(c,u,I)}}}throw new n.FormatError("Invalid bf range.")}function v(l,r){for(;;){let f=r.getObj();if(f===j.EOF)break;if((0,j.isCmd)(f,"endcidchar"))return;i(f);const c=p(f);f=r.getObj(),D(f),l.mapOne(c,f)}}function S(l,r){for(;;){let f=r.getObj();if(f===j.EOF)break;if((0,j.isCmd)(f,"endcidrange"))return;i(f);const c=p(f);f=r.getObj(),i(f);const u=p(f);f=r.getObj(),D(f),l.mapCidRange(c,u,f)}}function d(l,r){for(;;){let f=r.getObj();if(f===j.EOF)break;if((0,j.isCmd)(f,"endcodespacerange"))return;if("string"!=typeof f)break;const c=p(f);if(f=r.getObj(),"string"!=typeof f)break;const u=p(f);l.addCodespaceRange(f.length,c,u)}throw new n.FormatError("Invalid codespace range.")}function B(l,r){const f=r.getObj();Number.isInteger(f)&&(l.vertical=!!f)}function g(l,r){const f=r.getObj();f instanceof j.Name&&(l.name=f.name)}async function L(l,r,f,c){let u,I;e:for(;;)try{const A=r.getObj();if(A===j.EOF)break;if(A instanceof j.Name)"WMode"===A.name?B(l,r):"CMapName"===A.name&&g(l,r),u=A;else if(A instanceof j.Cmd)switch(A.cmd){case"endcmap":break e;case"usecmap":u instanceof j.Name&&(I=u.name);break;case"begincodespacerange":d(l,r);break;case"beginbfchar":b(l,r);break;case"begincidchar":v(l,r);break;case"beginbfrange":O(l,r);break;case"begincidrange":S(l,r)}}catch(A){if(A instanceof a.MissingDataException)throw A;(0,n.warn)("Invalid cMap data: "+A);continue}return!c&&I&&(c=I),c?C(l,f,c):l}async function C(l,r,f){if(l.useCMap=await h(f,r),0===l.numCodespaceRanges){const c=l.useCMap.codespaceRanges;for(let u=0;u<c.length;u++)l.codespaceRanges[u]=c[u].slice();l.numCodespaceRanges=l.useCMap.numCodespaceRanges}return l.useCMap.forEach(function(c,u){l.contains(c)||l.mapOne(c,l.useCMap.lookup(c))}),l}async function h(l,r){if("Identity-H"===l)return new s(!1,2);if("Identity-V"===l)return new s(!0,2);if(!m.includes(l))throw new Error("Unknown CMap name: "+l);if(!r)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:f,compressionType:c}=await r(l),u=new k(!0);if(c===n.CMapCompressionType.BINARY)return(new e.BinaryCMapReader).process(f,u,I=>C(u,r,I));if(c===n.CMapCompressionType.NONE){const I=new t.Lexer(new F.Stream(f));return L(u,I,r,null)}throw new Error(`Invalid CMap "compressionType" value: ${c}`)}E.IdentityCMap=s,E.CMapFactory=class M{static async create({encoding:r,fetchBuiltInCMap:f,useCMap:c}){if(r instanceof j.Name)return h(r.name,f);if(r instanceof x.BaseStream){const u=await L(new k,new t.Lexer(r),f,c);return u.isIdentityCMap?h(u.name,f):u}throw new Error("Encoding required.")}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.BinaryCMapReader=void 0;var n=V(2);function j(k,s){let p=0;for(let i=0;i<=s;i++)p=p<<8|k[i];return p>>>0}function x(k,s){return 1===s?String.fromCharCode(k[0],k[1]):3===s?String.fromCharCode(k[0],k[1],k[2],k[3]):String.fromCharCode(...k.subarray(0,s+1))}function e(k,s,p){let i=0;for(let D=p;D>=0;D--)i+=k[D]+s[D],k[D]=255&i,i>>=8}function t(k,s){let p=1;for(let i=s;i>=0&&p>0;i--)p+=k[i],k[i]=255&p,p>>=8}const a=16;class m{constructor(s){this.buffer=s,this.pos=0,this.end=s.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let p,s=0;do{const i=this.readByte();if(i<0)throw new n.FormatError("unexpected EOF in bcmap");p=!(128&i),s=s<<7|127&i}while(!p);return s}readSigned(){const s=this.readNumber();return 1&s?~(s>>>1):s>>>1}readHex(s,p){s.set(this.buffer.subarray(this.pos,this.pos+p+1)),this.pos+=p+1}readHexNumber(s,p){let i;const D=this.tmpBuf;let b=0;do{const d=this.readByte();if(d<0)throw new n.FormatError("unexpected EOF in bcmap");i=!(128&d),D[b++]=127&d}while(!i);let O=p,v=0,S=0;for(;O>=0;){for(;S<8&&D.length>0;)v|=D[--b]<<S,S+=7;s[O]=255&v,O--,v>>=8,S-=8}}readHexSigned(s,p){this.readHexNumber(s,p);const i=1&s[p]?255:0;let D=0;for(let b=0;b<=p;b++)D=(1&D)<<8|s[b],s[b]=D>>1^i}readString(){const s=this.readNumber(),p=new Array(s);for(let i=0;i<s;i++)p[i]=this.readNumber();return String.fromCharCode(...p)}}E.BinaryCMapReader=class y{async process(s,p,i){const D=new m(s),b=D.readByte();p.vertical=!!(1&b);let O=null;const v=new Uint8Array(a),S=new Uint8Array(a),d=new Uint8Array(a),B=new Uint8Array(a),g=new Uint8Array(a);let L,C;for(;(C=D.readByte())>=0;){const h=C>>5;if(7===h){switch(31&C){case 0:D.readString();break;case 1:O=D.readString()}continue}const M=!!(16&C),l=15&C;if(l+1>a)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const r=1,f=D.readNumber();switch(h){case 0:D.readHex(v,l),D.readHexNumber(S,l),e(S,v,l),p.addCodespaceRange(l+1,j(v,l),j(S,l));for(let c=1;c<f;c++)t(S,l),D.readHexNumber(v,l),e(v,S,l),D.readHexNumber(S,l),e(S,v,l),p.addCodespaceRange(l+1,j(v,l),j(S,l));break;case 1:D.readHex(v,l),D.readHexNumber(S,l),e(S,v,l),D.readNumber();for(let c=1;c<f;c++)t(S,l),D.readHexNumber(v,l),e(v,S,l),D.readHexNumber(S,l),e(S,v,l),D.readNumber();break;case 2:D.readHex(d,l),L=D.readNumber(),p.mapOne(j(d,l),L);for(let c=1;c<f;c++)t(d,l),M||(D.readHexNumber(g,l),e(d,g,l)),L=D.readSigned()+(L+1),p.mapOne(j(d,l),L);break;case 3:D.readHex(v,l),D.readHexNumber(S,l),e(S,v,l),L=D.readNumber(),p.mapCidRange(j(v,l),j(S,l),L);for(let c=1;c<f;c++)t(S,l),M?v.set(S):(D.readHexNumber(v,l),e(v,S,l)),D.readHexNumber(S,l),e(S,v,l),L=D.readNumber(),p.mapCidRange(j(v,l),j(S,l),L);break;case 4:D.readHex(d,r),D.readHex(B,l),p.mapOne(j(d,r),x(B,l));for(let c=1;c<f;c++)t(d,r),M||(D.readHexNumber(g,r),e(d,g,r)),t(B,l),D.readHexSigned(g,l),e(B,g,l),p.mapOne(j(d,r),x(B,l));break;case 5:D.readHex(v,r),D.readHexNumber(S,r),e(S,v,r),D.readHex(B,l),p.mapBfRange(j(v,r),j(S,r),x(B,l));for(let c=1;c<f;c++)t(S,r),M?v.set(S):(D.readHexNumber(v,r),e(v,S,r)),D.readHexNumber(S,r),e(S,v,r),D.readHex(B,l),p.mapBfRange(j(v,r),j(S,r),x(B,l));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${h}`)}}return O?i(O):p}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Parser=E.Linearization=E.Lexer=void 0;var n=V(2),j=V(4),x=V(3),e=V(8),t=V(17),a=V(19),F=V(20),m=V(22),y=V(23),k=V(26),s=V(29),p=V(31),i=V(32),D=V(33);class v{constructor({lexer:C,xref:h,allowStreams:M=!1,recoveryMode:l=!1}){this.lexer=C,this.xref=h,this.allowStreams=M,this.recoveryMode=l,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof j.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(C){if(C instanceof x.MissingDataException)throw C;return!1}}getObj(C=null){const h=this.buf1;if(this.shift(),h instanceof j.Cmd)switch(h.cmd){case"BI":return this.makeInlineImage(C);case"[":const M=[];for(;!(0,j.isCmd)(this.buf1,"]")&&this.buf1!==j.EOF;)M.push(this.getObj(C));if(this.buf1===j.EOF){if(this.recoveryMode)return M;throw new x.ParserEOFException("End of file inside array.")}return this.shift(),M;case"<<":const l=new j.Dict(this.xref);for(;!(0,j.isCmd)(this.buf1,">>")&&this.buf1!==j.EOF;){if(!(this.buf1 instanceof j.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const r=this.buf1.name;if(this.shift(),this.buf1===j.EOF)break;l.set(r,this.getObj(C))}if(this.buf1===j.EOF){if(this.recoveryMode)return l;throw new x.ParserEOFException("End of file inside dictionary.")}return(0,j.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(l,C):l:(this.shift(),l);default:return h}if(Number.isInteger(h)){if(Number.isInteger(this.buf1)&&(0,j.isCmd)(this.buf2,"R")){const M=j.Ref.get(h,this.buf1);return this.shift(),this.shift(),M}return h}return"string"==typeof h&&C?C.decryptString(h):h}findDefaultInlineStreamEnd(C){const{knownCommands:u}=this.lexer,I=C.pos;let $,_,P=0;for(;-1!==($=C.getByte());)if(0===P)P=69===$?1:0;else if(1===P)P=73===$?2:0;else if(32===$||10===$||13===$){_=C.pos;const T=C.peekBytes(15),N=T.length;if(0===N)break;for(let U=0;U<N;U++)if($=T[U],(0!==$||0===T[U+1])&&10!==$&&13!==$&&($<32||$>127)){P=0;break}if(2!==P)continue;if(!u){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const H=new B(new e.Stream(T.slice()),u);H._hexStringWarn=()=>{};let z=0;for(;;){const U=H.getObj();if(U===j.EOF){P=0;break}if(U instanceof j.Cmd){const q=u[U.cmd];if(!q){P=0;break}if(q.variableArgs?z<=q.numArgs:z===q.numArgs)break;z=0}else z++}if(2===P)break}else P=0;-1===$&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),_&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),C.skip(-(C.pos-_))));let w=4;return C.skip(-w),$=C.peekByte(),C.skip(w),(0,x.isWhiteSpace)($)||w--,C.pos-w-I}findDCTDecodeInlineStreamEnd(C){const h=C.pos;let l,r,M=!1;for(;-1!==(l=C.getByte());)if(255===l){switch(C.getByte()){case 0:break;case 255:C.skip(-1);break;case 217:M=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:r=C.getUint16(),C.skip(r>2?r-2:-2)}if(M)break}const f=C.pos-h;return-1===l?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),C.skip(-f),this.findDefaultInlineStreamEnd(C)):(this.inlineStreamSkipEI(C),f)}findASCII85DecodeInlineStreamEnd(C){const l=C.pos;let r;for(;-1!==(r=C.getByte());)if(126===r){const c=C.pos;for(r=C.peekByte();(0,x.isWhiteSpace)(r);)C.skip(),r=C.peekByte();if(62===r){C.skip();break}if(C.pos>c){const u=C.peekBytes(2);if(69===u[0]&&73===u[1])break}}const f=C.pos-l;return-1===r?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),C.skip(-f),this.findDefaultInlineStreamEnd(C)):(this.inlineStreamSkipEI(C),f)}findASCIIHexDecodeInlineStreamEnd(C){const M=C.pos;let l;for(;-1!==(l=C.getByte())&&62!==l;);const r=C.pos-M;return-1===l?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),C.skip(-r),this.findDefaultInlineStreamEnd(C)):(this.inlineStreamSkipEI(C),r)}inlineStreamSkipEI(C){let r,l=0;for(;-1!==(r=C.getByte());)if(0===l)l=69===r?1:0;else if(1===l)l=73===r?2:0;else if(2===l)break}makeInlineImage(C){const h=this.lexer,M=h.stream,l=Object.create(null);let r;for(;!(0,j.isCmd)(this.buf1,"ID")&&this.buf1!==j.EOF;){if(!(this.buf1 instanceof j.Name))throw new n.FormatError("Dictionary key must be a name object");const _=this.buf1.name;if(this.shift(),this.buf1===j.EOF)break;l[_]=this.getObj(C)}-1!==h.beginInlineImagePos&&(r=M.pos-h.beginInlineImagePos);const f=this.xref.fetchIfRef(l.F||l.Filter);let c;if(f instanceof j.Name)c=f.name;else if(Array.isArray(f)){const _=this.xref.fetchIfRef(f[0]);_ instanceof j.Name&&(c=_.name)}const u=M.pos;let I,A;switch(c){case"DCT":case"DCTDecode":I=this.findDCTDecodeInlineStreamEnd(M);break;case"A85":case"ASCII85Decode":I=this.findASCII85DecodeInlineStreamEnd(M);break;case"AHx":case"ASCIIHexDecode":I=this.findASCIIHexDecodeInlineStreamEnd(M);break;default:I=this.findDefaultInlineStreamEnd(M)}if(I<1e3&&r>0){const _=M.pos;M.pos=h.beginInlineImagePos,A=function O(L){const C=[],h=L.length;let M=0;for(;M<h-1;)C.push(L[M++]<<8|L[M++]);return M<h&&C.push(L[M]),h+"_"+String.fromCharCode.apply(null,C)}(M.getBytes(r+I)),M.pos=_;const w=this.imageCache[A];if(void 0!==w)return this.buf2=j.Cmd.get("EI"),this.shift(),w.reset(),w}const P=new j.Dict(this.xref);for(const _ in l)P.set(_,l[_]);let $=M.makeSubStream(u,I,P);return C&&($=C.createStream($,I)),$=this.filter($,P,I),$.dict=P,void 0!==A&&($.cacheKey="inline_img_"+ ++this._imageId,this.imageCache[A]=$),this.buf2=j.Cmd.get("EI"),this.shift(),$}_findStreamLength(C,h){const{stream:M}=this.lexer;M.pos=C;const r=h.length;for(;M.pos<M.end;){const f=M.peekBytes(2048),c=f.length-r;if(c<=0)break;let u=0;for(;u<c;){let I=0;for(;I<r&&f[u+I]===h[I];)I++;if(I>=r)return M.pos+=u,M.pos-C;u++}M.pos+=c}return-1}makeStream(C,h){const M=this.lexer;let l=M.stream;M.skipToNextLine();const r=l.pos-1;let f=C.get("Length");if(Number.isInteger(f)||((0,n.info)(`Bad length "${f&&f.toString()}" in stream.`),f=0),l.pos=r+f,M.nextChar(),this.tryShift()&&(0,j.isCmd)(this.buf2,"endstream"))this.shift();else{const c=new Uint8Array([101,110,100,115,116,114,101,97,109]);let u=this._findStreamLength(r,c);if(u<0){for(let A=1;A<=1;A++){const P=c.length-A,$=c.slice(0,P),_=this._findStreamLength(r,$);if(_>=0){const w=l.peekBytes(P+1)[P];if(!(0,x.isWhiteSpace)(w))break;(0,n.info)(`Found "${(0,n.bytesToString)($)}" when searching for endstream command.`),u=_;break}}if(u<0)throw new n.FormatError("Missing endstream command.")}f=u,M.nextChar(),this.shift(),this.shift()}return this.shift(),l=l.makeSubStream(r,f,C),h&&(l=h.createStream(l,f)),l=this.filter(l,C,f),l.dict=C,l}filter(C,h,M){let l=h.get("F","Filter"),r=h.get("DP","DecodeParms");if(l instanceof j.Name)return Array.isArray(r)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(C,l.name,M,r);let f=M;if(Array.isArray(l)){const c=l,u=r;for(let I=0,A=c.length;I<A;++I){if(l=this.xref.fetchIfRef(c[I]),!(l instanceof j.Name))throw new n.FormatError(`Bad filter name "${l}"`);r=null,Array.isArray(u)&&I in u&&(r=this.xref.fetchIfRef(u[I])),C=this.makeFilter(C,l.name,f,r),f=null}}return C}makeFilter(C,h,M,l){if(0===M)return(0,n.warn)(`Empty "${h}" stream.`),new e.NullStream;try{switch(h){case"Fl":case"FlateDecode":return l?new i.PredictorStream(new m.FlateStream(C,M),M,l):new m.FlateStream(C,M);case"LZW":case"LZWDecode":let r=1;return l?(l.has("EarlyChange")&&(r=l.get("EarlyChange")),new i.PredictorStream(new p.LZWStream(C,M,r),M,l)):new p.LZWStream(C,M,r);case"DCT":case"DCTDecode":return new k.JpegStream(C,M,l);case"JPX":case"JPXDecode":return new s.JpxStream(C,M,l);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(C,M);case"AHx":case"ASCIIHexDecode":return new a.AsciiHexStream(C,M);case"CCF":case"CCITTFaxDecode":return new F.CCITTFaxStream(C,M,l);case"RL":case"RunLengthDecode":return new D.RunLengthStream(C,M);case"JBIG2Decode":return new y.Jbig2Stream(C,M,l)}return(0,n.warn)(`Filter "${h}" is not supported.`),C}catch(r){if(r instanceof x.MissingDataException)throw r;return(0,n.warn)(`Invalid stream: "${r}"`),new e.NullStream}}}E.Parser=v;const S=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function d(L){return L>=48&&L<=57?15&L:L>=65&&L<=70||L>=97&&L<=102?9+(15&L):-1}class B{constructor(C,h=null){this.stream=C,this.nextChar(),this.strBuf=[],this.knownCommands=h,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let C=this.currentChar,h=!1,M=0,l=1;if(45===C?(l=-1,C=this.nextChar(),45===C&&(C=this.nextChar())):43===C&&(C=this.nextChar()),10===C||13===C)do{C=this.nextChar()}while(10===C||13===C);if(46===C&&(M=10,C=this.nextChar()),C<48||C>57){const u=`Invalid number: ${String.fromCharCode(C)} (charCode ${C})`;if((0,x.isWhiteSpace)(C)||-1===C)return(0,n.info)(`Lexer.getNumber - "${u}".`),0;throw new n.FormatError(u)}let r=C-48,f=0,c=1;for(;(C=this.nextChar())>=0;)if(C>=48&&C<=57){const u=C-48;h?f=10*f+u:(0!==M&&(M*=10),r=10*r+u)}else if(46===C){if(0!==M)break;M=1}else if(45===C)(0,n.warn)("Badly formatted number: minus sign in the middle");else{if(69!==C&&101!==C)break;if(C=this.peekChar(),43===C||45===C)c=45===C?-1:1,this.nextChar();else if(C<48||C>57)break;h=!0}return 0!==M&&(r/=M),h&&(r*=10**(c*f)),l*r}getString(){let C=1,h=!1;const M=this.strBuf;M.length=0;let l=this.nextChar();for(;;){let r=!1;switch(0|l){case-1:(0,n.warn)("Unterminated string"),h=!0;break;case 40:++C,M.push("(");break;case 41:0==--C?(this.nextChar(),h=!0):M.push(")");break;case 92:switch(l=this.nextChar(),l){case-1:(0,n.warn)("Unterminated string"),h=!0;break;case 110:M.push("\n");break;case 114:M.push("\r");break;case 116:M.push("\t");break;case 98:M.push("\b");break;case 102:M.push("\f");break;case 92:case 40:case 41:M.push(String.fromCharCode(l));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let f=15&l;l=this.nextChar(),r=!0,l>=48&&l<=55&&(f=(f<<3)+(15&l),l=this.nextChar(),l>=48&&l<=55&&(r=!1,f=(f<<3)+(15&l))),M.push(String.fromCharCode(f));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:M.push(String.fromCharCode(l))}break;default:M.push(String.fromCharCode(l))}if(h)break;r||(l=this.nextChar())}return M.join("")}getName(){let C,h;const M=this.strBuf;for(M.length=0;(C=this.nextChar())>=0&&!S[C];)if(35===C){if(C=this.nextChar(),S[C]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),M.push("#");break}const l=d(C);if(-1!==l){h=C,C=this.nextChar();const r=d(C);if(-1===r){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(C)}) in hexadecimal number.`),M.push("#",String.fromCharCode(h)),S[C])break;M.push(String.fromCharCode(C));continue}M.push(String.fromCharCode(l<<4|r))}else M.push("#",String.fromCharCode(C))}else M.push(String.fromCharCode(C));return M.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${M.length}`),j.Name.get(M.join(""))}_hexStringWarn(C){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${C}`):(0,n.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const C=this.strBuf;C.length=0;let l,r,h=this.currentChar,M=!0;for(this._hexStringNumWarn=0;;){if(h<0){(0,n.warn)("Unterminated hex string");break}if(62===h){this.nextChar();break}if(1!==S[h]){if(M){if(l=d(h),-1===l){this._hexStringWarn(h),h=this.nextChar();continue}}else{if(r=d(h),-1===r){this._hexStringWarn(h),h=this.nextChar();continue}C.push(String.fromCharCode(l<<4|r))}M=!M,h=this.nextChar()}else h=this.nextChar()}return C.join("")}getObj(){let C=!1,h=this.currentChar;for(;;){if(h<0)return j.EOF;if(C)(10===h||13===h)&&(C=!1);else if(37===h)C=!0;else if(1!==S[h])break;h=this.nextChar()}switch(0|h){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),j.Cmd.get("[");case 93:return this.nextChar(),j.Cmd.get("]");case 60:return h=this.nextChar(),60===h?(this.nextChar(),j.Cmd.get("<<")):this.getHexString();case 62:return h=this.nextChar(),62===h?(this.nextChar(),j.Cmd.get(">>")):j.Cmd.get(">");case 123:return this.nextChar(),j.Cmd.get("{");case 125:return this.nextChar(),j.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${h}`)}let M=String.fromCharCode(h);if(h<32||h>127){const f=this.peekChar();if(f>=32&&f<=127)return this.nextChar(),j.Cmd.get(M)}const l=this.knownCommands;let r=void 0!==l?.[M];for(;(h=this.nextChar())>=0&&!S[h];){const f=M+String.fromCharCode(h);if(r&&void 0===l[f])break;if(128===M.length)throw new n.FormatError(`Command token too long: ${M.length}`);M=f,r=void 0!==l?.[M]}return"true"===M||"false"!==M&&("null"===M?null:("BI"===M&&(this.beginInlineImagePos=this.stream.pos),j.Cmd.get(M)))}skipToNextLine(){let C=this.currentChar;for(;C>=0;){if(13===C){C=this.nextChar(),10===C&&this.nextChar();break}if(10===C){this.nextChar();break}C=this.nextChar()}}}E.Lexer=B,E.Linearization=class g{static create(C){function h(P,$,_=!1){const w=P.get($);if(Number.isInteger(w)&&(_?w>=0:w>0))return w;throw new Error(`The "${$}" parameter in the linearization dictionary is invalid.`)}const l=new v({lexer:new B(C),xref:null}),r=l.getObj(),f=l.getObj(),c=l.getObj(),u=l.getObj();let I,A;if(!(Number.isInteger(r)&&Number.isInteger(f)&&(0,j.isCmd)(c,"obj")&&u instanceof j.Dict&&"number"==typeof(I=u.get("Linearized"))&&I>0))return null;if((A=h(u,"L"))!==C.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:A,hints:function M(P){const $=P.get("H");let _;if(Array.isArray($)&&(2===(_=$.length)||4===_)){for(let w=0;w<_;w++){const T=$[w];if(!(Number.isInteger(T)&&T>0))throw new Error(`Hint (${w}) in the linearization dictionary is invalid.`)}return $}throw new Error("Hint array in the linearization dictionary is invalid.")}(u),objectNumberFirst:h(u,"O"),endFirst:h(u,"E"),numPages:h(u,"N"),mainXRefEntriesOffset:h(u,"T"),pageFirst:u.has("P")?h(u,"P",!0):0}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Ascii85Stream=void 0;var n=V(18),j=V(3);E.Ascii85Stream=class x extends n.DecodeStream{constructor(t,a){a&&(a*=.8),super(a),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const m=this.str;let y=m.getByte();for(;(0,j.isWhiteSpace)(y);)y=m.getByte();if(-1===y||126===y)return void(this.eof=!0);const k=this.bufferLength;let s,p;if(122===y){for(s=this.ensureBuffer(k+4),p=0;p<4;++p)s[k+p]=0;this.bufferLength+=4}else{const i=this.input;for(i[0]=y,p=1;p<5;++p){for(y=m.getByte();(0,j.isWhiteSpace)(y);)y=m.getByte();if(i[p]=y,-1===y||126===y)break}if(s=this.ensureBuffer(k+p-1),this.bufferLength+=p-1,p<5){for(;p<5;++p)i[p]=117;this.eof=!0}let D=0;for(p=0;p<5;++p)D=85*D+(i[p]-33);for(p=3;p>=0;--p)s[k+p]=255&D,D>>=8}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StreamsSequenceStream=E.DecodeStream=void 0;var n=V(5),j=V(8);const x=new Uint8Array(0);class e extends n.BaseStream{constructor(F){if(super(),this._rawMinBufferLength=F||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=x,this.minBufferLength=512,F)for(;this.minBufferLength<F;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}ensureBuffer(F){const m=this.buffer;if(F<=m.byteLength)return m;let y=this.minBufferLength;for(;y<F;)y*=2;const k=new Uint8Array(y);return k.set(m),this.buffer=k}getByte(){const F=this.pos;for(;this.bufferLength<=F;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(F){const m=this.pos;let y;if(F){for(this.ensureBuffer(m+F),y=m+F;!this.eof&&this.bufferLength<y;)this.readBlock();const k=this.bufferLength;y>k&&(y=k)}else{for(;!this.eof;)this.readBlock();y=this.bufferLength}return this.pos=y,this.buffer.subarray(m,y)}reset(){this.pos=0}makeSubStream(F,m,y=null){if(void 0===m)for(;!this.eof;)this.readBlock();else{const k=F+m;for(;this.bufferLength<=k&&!this.eof;)this.readBlock()}return new j.Stream(this.buffer,F,m,y)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}E.DecodeStream=e,E.StreamsSequenceStream=class t extends e{constructor(F,m=null){let y=0;for(const k of F)y+=k instanceof e?k._rawMinBufferLength:k.length;super(y),this.streams=F,this._onError=m}readBlock(){const F=this.streams;if(0===F.length)return void(this.eof=!0);const m=F.shift();let y;try{y=m.getBytes()}catch(i){if(this._onError)return void this._onError(i,m.dict?.objId);throw i}const k=this.bufferLength,s=k+y.length;this.ensureBuffer(s).set(y,k),this.bufferLength=s}getBaseStreams(){const F=[];for(const m of this.streams){const y=m.getBaseStreams();y&&F.push(...y)}return F.length>0?F:null}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.AsciiHexStream=void 0;var n=V(18);E.AsciiHexStream=class j extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length)return void(this.eof=!0);const F=this.ensureBuffer(this.bufferLength+(t.length+1>>1));let m=this.bufferLength,y=this.firstDigit;for(const k of t){let s;if(k>=48&&k<=57)s=15&k;else{if(!(k>=65&&k<=70||k>=97&&k<=102)){if(62===k){this.eof=!0;break}continue}s=9+(15&k)}y<0?y=s:(F[m++]=y<<4|s,y=-1)}y>=0&&this.eof&&(F[m++]=y<<4,y=-1),this.firstDigit=y,this.bufferLength=m}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CCITTFaxStream=void 0;var n=V(21),j=V(18),x=V(4);E.CCITTFaxStream=class e extends j.DecodeStream{constructor(a,F,m){super(F),this.str=a,this.dict=a.dict,m instanceof x.Dict||(m=x.Dict.empty),this.ccittFaxDecoder=new n.CCITTFaxDecoder({next:()=>a.getByte()},{K:m.get("K"),EndOfLine:m.get("EndOfLine"),EncodedByteAlign:m.get("EncodedByteAlign"),Columns:m.get("Columns"),Rows:m.get("Rows"),EndOfBlock:m.get("EndOfBlock"),BlackIs1:m.get("BlackIs1")})}readBlock(){for(;!this.eof;){const a=this.ccittFaxDecoder.readNextChar();if(-1===a)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=a}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CCITTFaxDecoder=void 0;var n=V(2);const x=-1,i=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],D=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],b=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],O=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],v=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],S=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];E.CCITTFaxDecoder=class d{constructor(g,L={}){if(!g||"function"!=typeof g.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');let C;for(this.source=g,this.eof=!1,this.encoding=L.K||0,this.eoline=L.EndOfLine||!1,this.byteAlign=L.EncodedByteAlign||!1,this.columns=L.Columns||1728,this.rows=L.Rows||0,this.eoblock=L.EndOfBlock??!0,this.black=L.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(C=this._lookBits(12));)this._eatBits(1);1===C&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const g=this.refLine,L=this.codingLine,C=this.columns;let h,M,l,r,f;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;let c,u,I;if(this.err=!1,this.nextLine2D){for(r=0;L[r]<C;++r)g[r]=L[r];for(g[r++]=C,g[r]=C,L[0]=0,this.codingPos=0,h=0,M=0;L[this.codingPos]<C;)switch(c=this._getTwoDimCode(),c){case 0:this._addPixels(g[h+1],M),g[h+1]<C&&(h+=2);break;case 1:if(c=u=0,M){do{c+=I=this._getBlackCode()}while(I>=64);do{u+=I=this._getWhiteCode()}while(I>=64)}else{do{c+=I=this._getWhiteCode()}while(I>=64);do{u+=I=this._getBlackCode()}while(I>=64)}for(this._addPixels(L[this.codingPos]+c,M),L[this.codingPos]<C&&this._addPixels(L[this.codingPos]+u,1^M);g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 7:if(this._addPixels(g[h]+3,M),M^=1,L[this.codingPos]<C)for(++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 5:if(this._addPixels(g[h]+2,M),M^=1,L[this.codingPos]<C)for(++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 3:if(this._addPixels(g[h]+1,M),M^=1,L[this.codingPos]<C)for(++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 2:if(this._addPixels(g[h],M),M^=1,L[this.codingPos]<C)for(++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 8:if(this._addPixelsNeg(g[h]-3,M),M^=1,L[this.codingPos]<C)for(h>0?--h:++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 6:if(this._addPixelsNeg(g[h]-2,M),M^=1,L[this.codingPos]<C)for(h>0?--h:++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case 4:if(this._addPixelsNeg(g[h]-1,M),M^=1,L[this.codingPos]<C)for(h>0?--h:++h;g[h]<=L[this.codingPos]&&g[h]<C;)h+=2;break;case x:this._addPixels(C,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(C,0),this.err=!0}}else for(L[0]=0,this.codingPos=0,M=0;L[this.codingPos]<C;){if(c=0,M)do{c+=I=this._getBlackCode()}while(I>=64);else do{c+=I=this._getWhiteCode()}while(I>=64);this._addPixels(L[this.codingPos]+c,M),M^=1}let A=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(c=this._lookBits(12),this.eoline)for(;c!==x&&1!==c;)this._eatBits(1),c=this._lookBits(12);else for(;0===c;)this._eatBits(1),c=this._lookBits(12);1===c?(this._eatBits(12),A=!0):c===x&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&A&&this.byteAlign){if(c=this._lookBits(12),1===c){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(r=0;r<4;++r)c=this._lookBits(12),1!==c&&(0,n.info)("bad rtc code: "+c),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(c=this._lookBits(13),c===x)return this.eof=!0,-1;if(c>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&c))}this.outputBits=L[0]>0?L[this.codingPos=0]:L[this.codingPos=1],this.row++}if(this.outputBits>=8)f=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&L[this.codingPos]<C&&(this.codingPos++,this.outputBits=L[this.codingPos]-L[this.codingPos-1]);else{l=8,f=0;do{if("number"!=typeof this.outputBits)throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>l?(f<<=l,1&this.codingPos||(f|=255>>8-l),this.outputBits-=l,l=0):(f<<=this.outputBits,1&this.codingPos||(f|=255>>8-this.outputBits),l-=this.outputBits,this.outputBits=0,L[this.codingPos]<C?(this.codingPos++,this.outputBits=L[this.codingPos]-L[this.codingPos-1]):l>0&&(f<<=l,l=0))}while(l)}return this.black&&(f^=255),f}_addPixels(g,L){const C=this.codingLine;let h=this.codingPos;g>C[h]&&(g>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,g=this.columns),1&h^L&&++h,C[h]=g),this.codingPos=h}_addPixelsNeg(g,L){const C=this.codingLine;let h=this.codingPos;if(g>C[h])g>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,g=this.columns),1&h^L&&++h,C[h]=g;else if(g<C[h]){for(g<0&&((0,n.info)("invalid code"),this.err=!0,g=0);h>0&&g<C[h-1];)--h;C[h]=g}this.codingPos=h}_findTableCode(g,L,C,h){const M=h||0;for(let l=g;l<=L;++l){let r=this._lookBits(l);if(r===x)return[!0,1,!1];if(l<L&&(r<<=L-l),!M||r>=M){const f=C[r-M];if(f[0]===l)return this._eatBits(l),[!0,f[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let L,g=0;if(this.eoblock){if(g=this._lookBits(7),L=i[g],L?.[0]>0)return this._eatBits(L[0]),L[1]}else{const C=this._findTableCode(1,7,i);if(C[0]&&C[2])return C[1]}return(0,n.info)("Bad two dim code"),x}_getWhiteCode(){let L,g=0;if(this.eoblock){if(g=this._lookBits(12),g===x)return 1;if(L=g>>5?b[g>>3]:D[g],L[0]>0)return this._eatBits(L[0]),L[1]}else{let C=this._findTableCode(1,9,b);if(C[0]||(C=this._findTableCode(11,12,D),C[0]))return C[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let g,L;if(this.eoblock){if(g=this._lookBits(13),g===x)return 1;if(L=g>>7?!(g>>9)&&g>>7?v[(g>>1)-64]:S[g>>7]:O[g],L[0]>0)return this._eatBits(L[0]),L[1]}else{let C=this._findTableCode(2,6,S);if(C[0]||(C=this._findTableCode(7,12,v,64),C[0])||(C=this._findTableCode(10,13,O),C[0]))return C[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(g){let L;for(;this.inputBits<g;){if(-1===(L=this.source.next()))return 0===this.inputBits?x:this.inputBuf<<g-this.inputBits&65535>>16-g;this.inputBuf=this.inputBuf<<8|L,this.inputBits+=8}return this.inputBuf>>this.inputBits-g&65535>>16-g}_eatBits(g){(this.inputBits-=g)<0&&(this.inputBits=0)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FlateStream=void 0;var n=V(18),j=V(2);const x=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),a=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],F=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];E.FlateStream=class m extends n.DecodeStream{constructor(k,s){super(s),this.str=k,this.dict=k.dict;const p=k.getByte(),i=k.getByte();if(-1===p||-1===i)throw new j.FormatError(`Invalid header in flate stream: ${p}, ${i}`);if(8!=(15&p))throw new j.FormatError(`Unknown compression method in flate stream: ${p}, ${i}`);if(((p<<8)+i)%31!=0)throw new j.FormatError(`Bad FCHECK in flate stream: ${p}, ${i}`);if(32&i)throw new j.FormatError(`FDICT bit set in flate stream: ${p}, ${i}`);this.codeSize=0,this.codeBuf=0}getBits(k){const s=this.str;let D,p=this.codeSize,i=this.codeBuf;for(;p<k;){if(-1===(D=s.getByte()))throw new j.FormatError("Bad encoding in flate stream");i|=D<<p,p+=8}return D=i&(1<<k)-1,this.codeBuf=i>>k,this.codeSize=p-=k,D}getCode(k){const s=this.str,p=k[0],i=k[1];let O,D=this.codeSize,b=this.codeBuf;for(;D<i&&-1!==(O=s.getByte());)b|=O<<D,D+=8;const v=p[b&(1<<i)-1],S=v>>16,d=65535&v;if(S<1||D<S)throw new j.FormatError("Bad encoding in flate stream");return this.codeBuf=b>>S,this.codeSize=D-S,d}generateHuffmanTable(k){const s=k.length;let i,p=0;for(i=0;i<s;++i)k[i]>p&&(p=k[i]);const D=1<<p,b=new Int32Array(D);for(let O=1,v=0,S=2;O<=p;++O,v<<=1,S<<=1)for(let d=0;d<s;++d)if(k[d]===O){let B=0,g=v;for(i=0;i<O;++i)B=B<<1|1&g,g>>=1;for(i=B;i<D;i+=S)b[i]=O<<16|d;++v}return[b,p]}readBlock(){let k,s;const p=this.str;let D,b,i=this.getBits(3);if(1&i&&(this.eof=!0),i>>=1,0===i){let S;if(-1===(S=p.getByte()))throw new j.FormatError("Bad block header in flate stream");let d=S;if(-1===(S=p.getByte()))throw new j.FormatError("Bad block header in flate stream");if(d|=S<<8,-1===(S=p.getByte()))throw new j.FormatError("Bad block header in flate stream");let B=S;if(-1===(S=p.getByte()))throw new j.FormatError("Bad block header in flate stream");if(B|=S<<8,B!==(65535&~d)&&(0!==d||0!==B))throw new j.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const g=this.bufferLength,L=g+d;if(k=this.ensureBuffer(L),this.bufferLength=L,0===d)-1===p.peekByte()&&(this.eof=!0);else{const C=p.getBytes(d);k.set(C,g),C.length<d&&(this.eof=!0)}return}if(1===i)D=a,b=F;else{if(2!==i)throw new j.FormatError("Unknown block type in flate stream");{const S=this.getBits(5)+257,d=this.getBits(5)+1,B=this.getBits(4)+4,g=new Uint8Array(x.length);let L;for(L=0;L<B;++L)g[x[L]]=this.getBits(3);const C=this.generateHuffmanTable(g);s=0,L=0;const h=S+d,M=new Uint8Array(h);let l,r,f;for(;L<h;){const c=this.getCode(C);if(16===c)l=2,r=3,f=s;else if(17===c)l=3,r=3,f=s=0;else{if(18!==c){M[L++]=s=c;continue}l=7,r=11,f=s=0}let u=this.getBits(l)+r;for(;u-- >0;)M[L++]=f}D=this.generateHuffmanTable(M.subarray(0,S)),b=this.generateHuffmanTable(M.subarray(S,h))}}k=this.buffer;let O=k?k.length:0,v=this.bufferLength;for(;;){let S=this.getCode(D);if(S<256){v+1>=O&&(k=this.ensureBuffer(v+1),O=k.length),k[v++]=S;continue}if(256===S)return void(this.bufferLength=v);S-=257,S=e[S];let d=S>>16;d>0&&(d=this.getBits(d)),s=(65535&S)+d,S=this.getCode(b),S=t[S],d=S>>16,d>0&&(d=this.getBits(d));const B=(65535&S)+d;v+s>=O&&(k=this.ensureBuffer(v+s),O=k.length);for(let g=0;g<s;++g,++v)k[v]=k[v-B]}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Jbig2Stream=void 0;var n=V(5),j=V(18),x=V(4),e=V(24),t=V(2);E.Jbig2Stream=class a extends j.DecodeStream{constructor(m,y,k){super(y),this.stream=m,this.dict=m.dict,this.maybeLength=y,this.params=k}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(m){}readBlock(){if(this.eof)return;const m=new e.Jbig2Image,y=[];if(this.params instanceof x.Dict){const p=this.params.get("JBIG2Globals");if(p instanceof n.BaseStream){const i=p.getBytes();y.push({data:i,start:0,end:i.length})}}y.push({data:this.bytes,start:0,end:this.bytes.length});const k=m.parseChunks(y),s=k.length;for(let p=0;p<s;p++)k[p]^=255;this.buffer=k,this.bufferLength=s,this.eof=!0}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Jbig2Image=void 0;var n=V(2),j=V(3),x=V(25),e=V(21);class t extends n.BaseException{constructor(R){super(`JBIG2 error: ${R}`,"Jbig2Error")}}class a{getContexts(R){return R in this?this[R]:this[R]=new Int8Array(65536)}}class F{constructor(R,X,G){this.data=R,this.start=X,this.end=G}get decoder(){const R=new x.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",R)}get contextCache(){const R=new a;return(0,n.shadow)(this,"contextCache",R)}}const m=2**31-1,y=-(2**31);function k(Q,R,X){const G=Q.getContexts(R);let Y=1;function K(te){let re=0;for(let ee=0;ee<te;ee++){const le=X.readBit(G,Y);Y=Y<256?Y<<1|le:511&(Y<<1|le)|256,re=re<<1|le}return re>>>0}const Z=K(1),ae=K(1)?K(1)?K(1)?K(1)?K(1)?K(32)+4436:K(12)+340:K(8)+84:K(6)+20:K(4)+4:K(2);let ie;return 0===Z?ie=ae:ae>0&&(ie=-ae),ie>=y&&ie<=m?ie:null}function s(Q,R,X){const G=Q.getContexts("IAID");let Y=1;for(let K=0;K<X;K++)Y=Y<<1|R.readBit(G,Y);return X<31?Y&(1<<X)-1:2147483647&Y}const p=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],D=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],b=[39717,1941,229,405],O=[32,8];function S(Q,R,X,G,Y,K,Z,ae){if(Q)return oe(new H(ae.data,ae.start,ae.end),R,X,!1);if(0===G&&!K&&!Y&&4===Z.length&&3===Z[0].x&&-1===Z[0].y&&-3===Z[1].x&&-1===Z[1].y&&2===Z[2].x&&-2===Z[2].y&&-2===Z[3].x&&-2===Z[3].y)return function v(Q,R,X){const G=X.decoder,Y=X.contextCache.getContexts("GB"),K=[];let Z,ae,ie,te,re,ee,le;for(ae=0;ae<R;ae++)for(re=K[ae]=new Uint8Array(Q),ee=ae<1?re:K[ae-1],le=ae<2?re:K[ae-2],Z=le[0]<<13|le[1]<<12|le[2]<<11|ee[0]<<7|ee[1]<<6|ee[2]<<5|ee[3]<<4,ie=0;ie<Q;ie++)re[ie]=te=G.readBit(Y,Z),Z=(31735&Z)<<1|(ie+3<Q?le[ie+3]<<11:0)|(ie+4<Q?ee[ie+4]<<4:0)|te;return K}(R,X,ae);const ie=!!K,te=i[G].concat(Z);te.sort(function(lt,Ue){return lt.y-Ue.y||lt.x-Ue.x});const re=te.length,ee=new Int8Array(re),le=new Int8Array(re),ue=[];let me,de,fe=0,Se=0,Ce=0,ve=0;for(de=0;de<re;de++)ee[de]=te[de].x,le[de]=te[de].y,Se=Math.min(Se,te[de].x),Ce=Math.max(Ce,te[de].x),ve=Math.min(ve,te[de].y),de<re-1&&te[de].y===te[de+1].y&&te[de].x===te[de+1].x-1?fe|=1<<re-1-de:ue.push(de);const ge=ue.length,Ae=new Int8Array(ge),be=new Int8Array(ge),pe=new Uint16Array(ge);for(me=0;me<ge;me++)de=ue[me],Ae[me]=te[de].x,be[me]=te[de].y,pe[me]=1<<re-1-de;const xe=-Se,we=-ve,Ne=R-Ce,He=b[G];let $e=new Uint8Array(R);const qe=[],Ke=ae.decoder,Oe=ae.contextCache.getContexts("GB");let ze,Ze,Be,Ye,Qe,Pe=0,Je=0;for(let lt=0;lt<X;lt++)if(Y&&(Pe^=Ke.readBit(Oe,He),Pe))qe.push($e);else for($e=new Uint8Array($e),qe.push($e),ze=0;ze<R;ze++){if(ie&&K[lt][ze]){$e[ze]=0;continue}if(ze>=xe&&ze<Ne&&lt>=we)for(Je=Je<<1&fe,de=0;de<ge;de++)Ze=lt+be[de],Be=ze+Ae[de],Ye=qe[Ze][Be],Ye&&(Ye=pe[de],Je|=Ye);else for(Je=0,Qe=re-1,de=0;de<re;de++,Qe--)Be=ze+ee[de],Be>=0&&Be<R&&(Ze=lt+le[de],Ze>=0&&(Ye=qe[Ze][Be],Ye&&(Je|=Ye<<Qe)));const Ue=Ke.readBit(Oe,Je);$e[ze]=Ue}return qe}function d(Q,R,X,G,Y,K,Z,ae,ie){let te=D[X].coding;0===X&&(te=te.concat([ae[0]]));const re=te.length,ee=new Int32Array(re),le=new Int32Array(re);let ue;for(ue=0;ue<re;ue++)ee[ue]=te[ue].x,le[ue]=te[ue].y;let fe=D[X].reference;0===X&&(fe=fe.concat([ae[1]]));const Se=fe.length,Ce=new Int32Array(Se),ve=new Int32Array(Se);for(ue=0;ue<Se;ue++)Ce[ue]=fe[ue].x,ve[ue]=fe[ue].y;const me=G[0].length,de=G.length,ge=O[X],Ae=[],be=ie.decoder,pe=ie.contextCache.getContexts("GR");let xe=0;for(let we=0;we<R;we++){if(Z&&(xe^=be.readBit(pe,ge),xe))throw new t("prediction is not supported");const Ne=new Uint8Array(Q);Ae.push(Ne);for(let He=0;He<Q;He++){let $e,qe,Ke=0;for(ue=0;ue<re;ue++)$e=we+le[ue],qe=He+ee[ue],$e<0||qe<0||qe>=Q?Ke<<=1:Ke=Ke<<1|Ae[$e][qe];for(ue=0;ue<Se;ue++)$e=we+ve[ue]-K,qe=He+Ce[ue]-Y,$e<0||$e>=de||qe<0||qe>=me?Ke<<=1:Ke=Ke<<1|G[$e][qe];const Oe=be.readBit(pe,Ke);Ne[He]=Oe}}return Ae}function g(Q,R,X,G,Y,K,Z,ae,ie,te,re,ee,le,ue,fe,Se,Ce,ve,me){if(Q&&R)throw new t("refinement with Huffman is not supported");const de=[];let ge,Ae;for(ge=0;ge<G;ge++){if(Ae=new Uint8Array(X),Y)for(let Ne=0;Ne<X;Ne++)Ae[Ne]=Y;de.push(Ae)}const be=Ce.decoder,pe=Ce.contextCache;let xe=Q?-ue.tableDeltaT.decode(me):-k(pe,"IADT",be),we=0;for(ge=0;ge<K;){xe+=Q?ue.tableDeltaT.decode(me):k(pe,"IADT",be),we+=Q?ue.tableFirstS.decode(me):k(pe,"IAFS",be);let $e=we;for(;;){let qe=0;Z>1&&(qe=Q?me.readBits(ve):k(pe,"IAIT",be));const Ke=Z*xe+qe,Oe=Q?ue.symbolIDTable.decode(me):s(pe,be,ie),Pe=R&&(Q?me.readBit():k(pe,"IARI",be));let ze=ae[Oe],Ze=ze[0].length,Be=ze.length;if(Pe){const Xe=k(pe,"IARDW",be),pt=k(pe,"IARDH",be);Ze+=Xe,Be+=pt,ze=d(Ze,Be,fe,ze,(Xe>>1)+k(pe,"IARDX",be),(pt>>1)+k(pe,"IARDY",be),!1,Se,Ce)}const Je=Ke-(1&ee?0:Be-1),Ye=$e-(2&ee?Ze-1:0);let Qe,lt,Ue;if(te){for(Qe=0;Qe<Be;Qe++){if(Ae=de[Ye+Qe],!Ae)continue;Ue=ze[Qe];const Xe=Math.min(X-Je,Ze);switch(le){case 0:for(lt=0;lt<Xe;lt++)Ae[Je+lt]|=Ue[lt];break;case 2:for(lt=0;lt<Xe;lt++)Ae[Je+lt]^=Ue[lt];break;default:throw new t(`operator ${le} is not supported`)}}$e+=Be-1}else{for(lt=0;lt<Be;lt++)if(Ae=de[Je+lt],Ae)switch(Ue=ze[lt],le){case 0:for(Qe=0;Qe<Ze;Qe++)Ae[Ye+Qe]|=Ue[Qe];break;case 2:for(Qe=0;Qe<Ze;Qe++)Ae[Ye+Qe]^=Ue[Qe];break;default:throw new t(`operator ${le} is not supported`)}$e+=Ze-1}ge++;const at=Q?ue.tableDeltaS.decode(me):k(pe,"IADS",be);if(null===at)break;$e+=at+re}}return de}function h(Q,R){const X={};X.number=(0,j.readUint32)(Q,R);const G=Q[R+4],Y=63&G;if(!p[Y])throw new t("invalid segment type: "+Y);X.type=Y,X.typeName=p[Y],X.deferredNonRetain=!!(128&G);const K=!!(64&G),Z=Q[R+5];let ae=Z>>5&7;const ie=[31&Z];let te=R+6;if(7===Z){ae=536870911&(0,j.readUint32)(Q,te-1),te+=3;let fe=ae+7>>3;for(ie[0]=Q[te++];--fe>0;)ie.push(Q[te++])}else if(5===Z||6===Z)throw new t("invalid referred-to flags");X.retainBits=ie;let re=4;X.number<=256?re=1:X.number<=65536&&(re=2);const ee=[];let le,ue;for(le=0;le<ae;le++){let fe;fe=1===re?Q[te]:2===re?(0,j.readUint16)(Q,te):(0,j.readUint32)(Q,te),ee.push(fe),te+=re}if(X.referredTo=ee,K?(X.pageAssociation=(0,j.readUint32)(Q,te),te+=4):X.pageAssociation=Q[te++],X.length=(0,j.readUint32)(Q,te),te+=4,4294967295===X.length){if(38!==Y)throw new t("invalid unknown segment length");{const fe=l(Q,te),Ce=!!(1&Q[te+r]),ve=6,me=new Uint8Array(ve);for(Ce||(me[0]=255,me[1]=172),me[2]=fe.height>>>24&255,me[3]=fe.height>>16&255,me[4]=fe.height>>8&255,me[5]=255&fe.height,le=te,ue=Q.length;le<ue;le++){let de=0;for(;de<ve&&me[de]===Q[le+de];)de++;if(de===ve){X.length=le+ve;break}}if(4294967295===X.length)throw new t("segment end was not found")}}return X.headerEnd=te,X}function M(Q,R,X,G){const Y=[];let K=X;for(;K<G;){const Z=h(R,K);K=Z.headerEnd;const ae={header:Z,data:R};if(Q.randomAccess||(ae.start=K,K+=Z.length,ae.end=K),Y.push(ae),51===Z.type)break}if(Q.randomAccess)for(let Z=0,ae=Y.length;Z<ae;Z++)Y[Z].start=K,K+=Y[Z].header.length,Y[Z].end=K;return Y}function l(Q,R){return{width:(0,j.readUint32)(Q,R),height:(0,j.readUint32)(Q,R+4),x:(0,j.readUint32)(Q,R+8),y:(0,j.readUint32)(Q,R+12),combinationOperator:7&Q[R+16]}}const r=17;function f(Q,R){const X=Q.header,G=Q.data,Y=Q.end;let Z,ae,ie,te,K=Q.start;switch(X.type){case 0:const ee={},le=(0,j.readUint16)(G,K);if(ee.huffman=!!(1&le),ee.refinement=!!(2&le),ee.huffmanDHSelector=le>>2&3,ee.huffmanDWSelector=le>>4&3,ee.bitmapSizeSelector=le>>6&1,ee.aggregationInstancesSelector=le>>7&1,ee.bitmapCodingContextUsed=!!(256&le),ee.bitmapCodingContextRetained=!!(512&le),ee.template=le>>10&3,ee.refinementTemplate=le>>12&1,K+=2,!ee.huffman){for(te=0===ee.template?4:1,ae=[],ie=0;ie<te;ie++)ae.push({x:(0,j.readInt8)(G,K),y:(0,j.readInt8)(G,K+1)}),K+=2;ee.at=ae}if(ee.refinement&&!ee.refinementTemplate){for(ae=[],ie=0;ie<2;ie++)ae.push({x:(0,j.readInt8)(G,K),y:(0,j.readInt8)(G,K+1)}),K+=2;ee.refinementAt=ae}ee.numberOfExportedSymbols=(0,j.readUint32)(G,K),K+=4,ee.numberOfNewSymbols=(0,j.readUint32)(G,K),K+=4,Z=[ee,X.number,X.referredTo,G,K,Y];break;case 6:case 7:const ue={};ue.info=l(G,K),K+=r;const fe=(0,j.readUint16)(G,K);if(K+=2,ue.huffman=!!(1&fe),ue.refinement=!!(2&fe),ue.logStripSize=fe>>2&3,ue.stripSize=1<<ue.logStripSize,ue.referenceCorner=fe>>4&3,ue.transposed=!!(64&fe),ue.combinationOperator=fe>>7&3,ue.defaultPixelValue=fe>>9&1,ue.dsOffset=fe<<17>>27,ue.refinementTemplate=fe>>15&1,ue.huffman){const pe=(0,j.readUint16)(G,K);K+=2,ue.huffmanFS=3&pe,ue.huffmanDS=pe>>2&3,ue.huffmanDT=pe>>4&3,ue.huffmanRefinementDW=pe>>6&3,ue.huffmanRefinementDH=pe>>8&3,ue.huffmanRefinementDX=pe>>10&3,ue.huffmanRefinementDY=pe>>12&3,ue.huffmanRefinementSizeSelector=!!(16384&pe)}if(ue.refinement&&!ue.refinementTemplate){for(ae=[],ie=0;ie<2;ie++)ae.push({x:(0,j.readInt8)(G,K),y:(0,j.readInt8)(G,K+1)}),K+=2;ue.refinementAt=ae}ue.numberOfSymbolInstances=(0,j.readUint32)(G,K),K+=4,Z=[ue,X.referredTo,G,K,Y];break;case 16:const Se={},Ce=G[K++];Se.mmr=!!(1&Ce),Se.template=Ce>>1&3,Se.patternWidth=G[K++],Se.patternHeight=G[K++],Se.maxPatternIndex=(0,j.readUint32)(G,K),K+=4,Z=[Se,X.number,G,K,Y];break;case 22:case 23:const ve={};ve.info=l(G,K),K+=r;const me=G[K++];ve.mmr=!!(1&me),ve.template=me>>1&3,ve.enableSkip=!!(8&me),ve.combinationOperator=me>>4&7,ve.defaultPixelValue=me>>7&1,ve.gridWidth=(0,j.readUint32)(G,K),K+=4,ve.gridHeight=(0,j.readUint32)(G,K),K+=4,ve.gridOffsetX=4294967295&(0,j.readUint32)(G,K),K+=4,ve.gridOffsetY=4294967295&(0,j.readUint32)(G,K),K+=4,ve.gridVectorX=(0,j.readUint16)(G,K),K+=2,ve.gridVectorY=(0,j.readUint16)(G,K),K+=2,Z=[ve,X.referredTo,G,K,Y];break;case 38:case 39:const de={};de.info=l(G,K),K+=r;const ge=G[K++];if(de.mmr=!!(1&ge),de.template=ge>>1&3,de.prediction=!!(8&ge),!de.mmr){for(te=0===de.template?4:1,ae=[],ie=0;ie<te;ie++)ae.push({x:(0,j.readInt8)(G,K),y:(0,j.readInt8)(G,K+1)}),K+=2;de.at=ae}Z=[de,G,K,Y];break;case 48:const Ae={width:(0,j.readUint32)(G,K),height:(0,j.readUint32)(G,K+4),resolutionX:(0,j.readUint32)(G,K+8),resolutionY:(0,j.readUint32)(G,K+12)};4294967295===Ae.height&&delete Ae.height;const be=G[K+16];(0,j.readUint16)(G,K+17),Ae.lossless=!!(1&be),Ae.refinement=!!(2&be),Ae.defaultPixelValue=be>>2&1,Ae.combinationOperator=be>>3&3,Ae.requiresBuffer=!!(32&be),Ae.combinationOperatorOverride=!!(64&be),Z=[Ae];break;case 49:case 50:case 51:case 62:break;case 53:Z=[X.number,G,K,Y];break;default:throw new t(`segment type ${X.typeName}(${X.type}) is not implemented`)}const re="on"+X.typeName;re in R&&R[re].apply(R,Z)}function c(Q,R){for(let X=0,G=Q.length;X<G;X++)f(Q[X],R)}class A{onPageInformation(R){this.currentPageInfo=R;const G=new Uint8ClampedArray((R.width+7>>3)*R.height);R.defaultPixelValue&&G.fill(255),this.buffer=G}drawBitmap(R,X){const G=this.currentPageInfo,Y=R.width,K=R.height,Z=G.width+7>>3,ae=G.combinationOperatorOverride?R.combinationOperator:G.combinationOperator,ie=this.buffer,te=128>>(7&R.x);let ee,le,ue,fe,re=R.y*Z+(R.x>>3);switch(ae){case 0:for(ee=0;ee<K;ee++){for(ue=te,fe=re,le=0;le<Y;le++)X[ee][le]&&(ie[fe]|=ue),ue>>=1,ue||(ue=128,fe++);re+=Z}break;case 2:for(ee=0;ee<K;ee++){for(ue=te,fe=re,le=0;le<Y;le++)X[ee][le]&&(ie[fe]^=ue),ue>>=1,ue||(ue=128,fe++);re+=Z}break;default:throw new t(`operator ${ae} is not supported`)}}onImmediateGenericRegion(R,X,G,Y){const K=R.info,Z=new F(X,G,Y),ae=S(R.mmr,K.width,K.height,R.template,R.prediction,null,R.at,Z);this.drawBitmap(K,ae)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(R,X,G,Y,K,Z){let ae,ie;R.huffman&&(ae=function q(Q,R,X){let Y,K,Z,ae,G=0;switch(Q.huffmanDHSelector){case 0:case 1:Y=N(Q.huffmanDHSelector+4);break;case 3:Y=z(G,R,X),G++;break;default:throw new t("invalid Huffman DH selector")}switch(Q.huffmanDWSelector){case 0:case 1:K=N(Q.huffmanDWSelector+2);break;case 3:K=z(G,R,X),G++;break;default:throw new t("invalid Huffman DW selector")}return Q.bitmapSizeSelector?(Z=z(G,R,X),G++):Z=N(1),ae=Q.aggregationInstancesSelector?z(G,R,X):N(1),{tableDeltaHeight:Y,tableDeltaWidth:K,tableBitmapSize:Z,tableAggregateInstances:ae}}(R,G,this.customTables),ie=new H(Y,K,Z));let te=this.symbols;te||(this.symbols=te={});const re=[];for(const le of G){const ue=te[le];ue&&re.push(...ue)}const ee=new F(Y,K,Z);te[X]=function B(Q,R,X,G,Y,K,Z,ae,ie,te,re,ee){if(Q&&R)throw new t("symbol refinement with Huffman is not supported");const le=[];let ue=0,fe=(0,j.log2)(X.length+G);const Se=re.decoder,Ce=re.contextCache;let ve,me;for(Q&&(ve=N(1),me=[],fe=Math.max(fe,1));le.length<G;){ue+=Q?K.tableDeltaHeight.decode(ee):k(Ce,"IADH",Se);let Ne=0,He=0;const $e=Q?me.length:0;for(;;){const qe=Q?K.tableDeltaWidth.decode(ee):k(Ce,"IADW",Se);if(null===qe)break;let Ke;if(Ne+=qe,He+=Ne,R){const Oe=k(Ce,"IAAI",Se);if(Oe>1)Ke=g(Q,R,Ne,ue,0,Oe,1,X.concat(le),fe,0,0,1,0,K,ie,te,re,0,ee);else{const Pe=s(Ce,Se,fe),ze=k(Ce,"IARDX",Se),Ze=k(Ce,"IARDY",Se);Ke=d(Ne,ue,ie,Pe<X.length?X[Pe]:le[Pe-X.length],ze,Ze,!1,te,re)}le.push(Ke)}else Q?me.push(Ne):(Ke=S(!1,Ne,ue,Z,!1,null,ae,re),le.push(Ke))}if(Q&&!R){const qe=K.tableBitmapSize.decode(ee);let Ke;if(ee.byteAlign(),0===qe)Ke=J(ee,He,ue);else{const Pe=ee.end,ze=ee.position+qe;ee.end=ze,Ke=oe(ee,He,ue,!1),ee.end=Pe,ee.position=ze}const Oe=me.length;if($e===Oe-1)le.push(Ke);else{let Pe,ze,Be,Je,Ye,Ze=0;for(Pe=$e;Pe<Oe;Pe++){for(Je=me[Pe],Be=Ze+Je,Ye=[],ze=0;ze<ue;ze++)Ye.push(Ke[ze].subarray(Ze,Be));le.push(Ye),Ze=Be}}}}const de=[],ge=[];let be,pe,Ae=!1;const xe=X.length+G;for(;ge.length<xe;){let we=Q?ve.decode(ee):k(Ce,"IAEX",Se);for(;we--;)ge.push(Ae);Ae=!Ae}for(be=0,pe=X.length;be<pe;be++)ge[be]&&de.push(X[be]);for(let we=0;we<G;be++,we++)ge[be]&&de.push(le[we]);return de}(R.huffman,R.refinement,re,R.numberOfNewSymbols,0,ae,R.template,R.at,R.refinementTemplate,R.refinementAt,ee,ie)}onImmediateTextRegion(R,X,G,Y,K){const Z=R.info;let ae,ie;const te=this.symbols,re=[];for(const fe of X){const Se=te[fe];Se&&re.push(...Se)}const ee=(0,j.log2)(re.length);R.huffman&&(ie=new H(G,Y,K),ae=function U(Q,R,X,G,Y){const K=[];for(let le=0;le<=34;le++){const ue=Y.readBits(4);K.push(new P([le,ue,0,0]))}const Z=new _(K,!1);K.length=0;for(let le=0;le<G;){const ue=Z.decode(Y);if(ue>=32){let fe,Se,Ce;switch(ue){case 32:if(0===le)throw new t("no previous value in symbol ID table");Se=Y.readBits(2)+3,fe=K[le-1].prefixLength;break;case 33:Se=Y.readBits(3)+3,fe=0;break;case 34:Se=Y.readBits(7)+11,fe=0;break;default:throw new t("invalid code length in symbol ID table")}for(Ce=0;Ce<Se;Ce++)K.push(new P([le,fe,0,0])),le++}else K.push(new P([le,ue,0,0])),le++}Y.byteAlign();const ae=new _(K,!1);let te,re,ee,ie=0;switch(Q.huffmanFS){case 0:case 1:te=N(Q.huffmanFS+6);break;case 3:te=z(ie,R,X),ie++;break;default:throw new t("invalid Huffman FS selector")}switch(Q.huffmanDS){case 0:case 1:case 2:re=N(Q.huffmanDS+8);break;case 3:re=z(ie,R,X),ie++;break;default:throw new t("invalid Huffman DS selector")}switch(Q.huffmanDT){case 0:case 1:case 2:ee=N(Q.huffmanDT+11);break;case 3:ee=z(ie,R,X),ie++;break;default:throw new t("invalid Huffman DT selector")}if(Q.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:ae,tableFirstS:te,tableDeltaS:re,tableDeltaT:ee}}(R,X,this.customTables,re.length,ie));const le=new F(G,Y,K),ue=g(R.huffman,R.refinement,Z.width,Z.height,R.defaultPixelValue,R.numberOfSymbolInstances,R.stripSize,re,ee,R.transposed,R.dsOffset,R.referenceCorner,R.combinationOperator,ae,R.refinementTemplate,R.refinementAt,le,R.logStripSize,ie);this.drawBitmap(Z,ue)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(R,X,G,Y,K){let Z=this.patterns;Z||(this.patterns=Z={});const ae=new F(G,Y,K);Z[X]=function L(Q,R,X,G,Y,K){const Z=[];Q||(Z.push({x:-R,y:0}),0===Y&&Z.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ie=S(Q,(G+1)*R,X,Y,!1,null,Z,K),te=[];for(let re=0;re<=G;re++){const ee=[],le=R*re,ue=le+R;for(let fe=0;fe<X;fe++)ee.push(ie[fe].subarray(le,ue));te.push(ee)}return te}(R.mmr,R.patternWidth,R.patternHeight,R.maxPatternIndex,R.template,ae)}onImmediateHalftoneRegion(R,X,G,Y,K){const Z=this.patterns[X[0]],ae=R.info,ie=new F(G,Y,K),te=function C(Q,R,X,G,Y,K,Z,ae,ie,te,re,ee,le,ue,fe){if(Z)throw new t("skip is not supported");if(0!==ae)throw new t(`operator "${ae}" is not supported in halftone region`);const Ce=[];let ve,me,de;for(ve=0;ve<Y;ve++){if(de=new Uint8Array(G),K)for(me=0;me<G;me++)de[me]=K;Ce.push(de)}const Ae=R[0],be=Ae[0].length,pe=Ae.length,xe=(0,j.log2)(R.length),we=[];Q||(we.push({x:X<=1?3:2,y:-1}),0===X&&we.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ne=[];let He,$e,qe,Ke,Oe,Pe,ze,Ze,Be,Je,Ye;for(Q&&(He=new H(fe.data,fe.start,fe.end)),ve=xe-1;ve>=0;ve--)$e=Q?oe(He,ie,te,!0):S(!1,ie,te,X,!1,null,we,fe),Ne[ve]=$e;for(qe=0;qe<te;qe++)for(Ke=0;Ke<ie;Ke++){for(Oe=0,Pe=0,me=xe-1;me>=0;me--)Oe^=Ne[me][qe][Ke],Pe|=Oe<<me;if(ze=R[Pe],Ze=re+qe*ue+Ke*le>>8,Be=ee+qe*le-Ke*ue>>8,Ze>=0&&Ze+be<=G&&Be>=0&&Be+pe<=Y)for(ve=0;ve<pe;ve++)for(Ye=Ce[Be+ve],Je=ze[ve],me=0;me<be;me++)Ye[Ze+me]|=Je[me];else{let Qe,lt;for(ve=0;ve<pe;ve++)if(lt=Be+ve,!(lt<0||lt>=Y))for(Ye=Ce[lt],Je=ze[ve],me=0;me<be;me++)Qe=Ze+me,Qe>=0&&Qe<G&&(Ye[Qe]|=Je[me])}}return Ce}(R.mmr,Z,R.template,ae.width,ae.height,R.defaultPixelValue,R.enableSkip,R.combinationOperator,R.gridWidth,R.gridHeight,R.gridOffsetX,R.gridOffsetY,R.gridVectorX,R.gridVectorY,ie);this.drawBitmap(ae,te)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(R,X,G,Y){let K=this.customTables;K||(this.customTables=K={}),K[R]=function w(Q,R,X){const G=Q[R],Y=4294967295&(0,j.readUint32)(Q,R+1),K=4294967295&(0,j.readUint32)(Q,R+5),Z=new H(Q,R+9,X),ae=1+(G>>1&7),ie=1+(G>>4&7),te=[];let re,ee,le=Y;do{re=Z.readBits(ae),ee=Z.readBits(ie),te.push(new P([le,re,ee,0])),le+=1<<ee}while(le<K);return re=Z.readBits(ae),te.push(new P([Y-1,re,32,0,"lower"])),re=Z.readBits(ae),te.push(new P([K,re,32,0])),1&G&&(re=Z.readBits(ae),te.push(new P([re,0]))),new _(te,!1)}(X,G,Y)}}class P{constructor(R){2===R.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=R[0],this.rangeLength=0,this.prefixCode=R[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=R[0],this.prefixLength=R[1],this.rangeLength=R[2],this.prefixCode=R[3],this.isLowerRange="lower"===R[4])}}class ${constructor(R){this.children=[],R?(this.isLeaf=!0,this.rangeLength=R.rangeLength,this.rangeLow=R.rangeLow,this.isLowerRange=R.isLowerRange,this.isOOB=R.isOOB):this.isLeaf=!1}buildTree(R,X){const G=R.prefixCode>>X&1;if(X<=0)this.children[G]=new $(R);else{let Y=this.children[G];Y||(this.children[G]=Y=new $(null)),Y.buildTree(R,X-1)}}decodeNode(R){if(this.isLeaf){if(this.isOOB)return null;const G=R.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-G:G)}const X=this.children[R.readBit()];if(!X)throw new t("invalid Huffman data");return X.decodeNode(R)}}class _{constructor(R,X){X||this.assignPrefixCodes(R),this.rootNode=new $(null);for(let G=0,Y=R.length;G<Y;G++){const K=R[G];K.prefixLength>0&&this.rootNode.buildTree(K,K.prefixLength-1)}}decode(R){return this.rootNode.decodeNode(R)}assignPrefixCodes(R){const X=R.length;let G=0;for(let re=0;re<X;re++)G=Math.max(G,R[re].prefixLength);const Y=new Uint32Array(G+1);for(let re=0;re<X;re++)Y[R[re].prefixLength]++;let ae,ie,te,K=1,Z=0;for(Y[0]=0;K<=G;){for(Z=Z+Y[K-1]<<1,ae=Z,ie=0;ie<X;)te=R[ie],te.prefixLength===K&&(te.prefixCode=ae,ae++),ie++;K++}}}const T={};function N(Q){let X,R=T[Q];if(R)return R;switch(Q){case 1:X=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:X=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:X=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:X=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:X=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:X=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:X=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:X=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:X=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:X=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:X=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:X=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:X=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:X=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:X=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${Q} does not exist`)}for(let G=0,Y=X.length;G<Y;G++)X[G]=new P(X[G]);return R=new _(X,!0),T[Q]=R,R}class H{constructor(R,X,G){this.data=R,this.start=X,this.end=G,this.position=X,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const R=this.currentByte>>this.shift&1;return this.shift--,R}readBits(R){let G,X=0;for(G=R-1;G>=0;G--)X|=this.readBit()<<G;return X}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function z(Q,R,X){let G=0;for(let Y=0,K=R.length;Y<K;Y++){const Z=X[R[Y]];if(Z){if(Q===G)return Z;G++}}throw new t("can't find custom Huffman table")}function J(Q,R,X){const G=[];for(let Y=0;Y<X;Y++){const K=new Uint8Array(R);G.push(K);for(let Z=0;Z<R;Z++)K[Z]=Q.readBit();Q.byteAlign()}return G}function oe(Q,R,X,G){const K=new e.CCITTFaxDecoder(Q,{K:-1,Columns:R,Rows:X,BlackIs1:!0,EndOfBlock:G}),Z=[];let ae,ie=!1;for(let te=0;te<X;te++){const re=new Uint8Array(R);Z.push(re);let ee=-1;for(let le=0;le<R;le++)ee<0&&(ae=K.readNextChar(),-1===ae&&(ae=0,ie=!0),ee=7),re[le]=ae>>ee&1,ee--}if(G&&!ie)for(let re=0;re<5&&-1!==K.readNextChar();re++);return Z}E.Jbig2Image=class ne{parseChunks(R){return function u(Q){const R=new A;for(let X=0,G=Q.length;X<G;X++){const Y=Q[X];c(M({},Y.data,Y.start,Y.end),R)}return R.buffer}(R)}parse(R){throw new Error("Not implemented: Jbig2Image.parse")}}},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ArithmeticDecoder=void 0;const V=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];E.ArithmeticDecoder=class n{constructor(x,e,t){this.data=x,this.bp=e,this.dataEnd=t,this.chigh=x[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const x=this.data;let e=this.bp;255===x[e]?x[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=x[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?x[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(x,e){let t=x[e]>>1,a=1&x[e];const F=V[t],m=F.qe;let y,k=this.a-m;if(this.chigh<m)k<m?(k=m,y=a,t=F.nmps):(k=m,y=1^a,1===F.switchFlag&&(a=y),t=F.nlps);else{if(this.chigh-=m,32768&k)return this.a=k,a;k<m?(y=1^a,1===F.switchFlag&&(a=y),t=F.nlps):(y=a,t=F.nmps)}do{0===this.ct&&this.byteIn(),k<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(!(32768&k));return this.a=k,x[e]=t<<1|a,y}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.JpegStream=void 0;var n=V(18),j=V(4),x=V(27),e=V(2);E.JpegStream=class t extends n.DecodeStream{constructor(F,m,y){let k;for(;-1!==(k=F.getByte());)if(255===k){F.skip(-1);break}super(m),this.stream=F,this.dict=F.dict,this.maybeLength=m,this.params=y}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(F){}readBlock(){if(this.eof)return;const F={decodeTransform:void 0,colorTransform:void 0},m=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(m)){const s=this.dict.get("BPC","BitsPerComponent")||8,p=m.length,i=new Int32Array(p);let D=!1;const b=(1<<s)-1;for(let O=0;O<p;O+=2)i[O]=256*(m[O+1]-m[O])|0,i[O+1]=m[O]*b|0,(256!==i[O]||0!==i[O+1])&&(D=!0);D&&(F.decodeTransform=i)}if(this.params instanceof j.Dict){const s=this.params.get("ColorTransform");Number.isInteger(s)&&(F.colorTransform=s)}const y=new x.JpegImage(F);y.parse(this.bytes);const k=y.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=k,this.bufferLength=k.length,this.eof=!0}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.JpegImage=void 0;var n=V(2),j=V(28),x=V(3);class e extends n.BaseException{constructor(h){super(`JPEG error: ${h}`,"JpegError")}}class t extends n.BaseException{constructor(h,M){super(h,"DNLMarkerError"),this.scanLines=M}}class a extends n.BaseException{constructor(h){super(h,"EOIMarkerError")}}const F=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,y=799,k=3406,s=2276,p=1567,i=3784,D=5793,b=2896;function O(C,h){let l,r,M=0,f=16;for(;f>0&&!C[f-1];)f--;const c=[{children:[],index:0}];let I,u=c[0];for(l=0;l<f;l++){for(r=0;r<C[l];r++){for(u=c.pop(),u.children[u.index]=h[M];u.index>0;)u=c.pop();for(u.index++,c.push(u);c.length<=l;)c.push(I={children:[],index:0}),u.children[u.index]=I.children,u=I;M++}l+1<f&&(c.push(I={children:[],index:0}),u.children[u.index]=I.children,u=I)}return c[0].children}function v(C,h,M){return 64*((C.blocksPerLine+1)*h+M)}function S(C,h,M,l,r,f,c,u,I,A=!1){const P=M.mcusPerLine,_=h;let w=0,T=0;function N(){if(T>0)return T--,w>>T&1;if(w=C[h++],255===w){const de=C[h++];if(de){if(220===de&&A){const ge=(0,x.readUint16)(C,h+=2);if(h+=2,ge>0&&ge!==M.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",ge)}else if(217===de){if(A){const ge=Y*(8===M.precision?8:0);if(ge>0&&Math.round(M.scanLines/ge)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ge)}throw new a("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(w<<8|de).toString(16)}`)}}return T=7,w>>>7}function H(de){let ge=de;for(;;){switch(ge=ge[N()],typeof ge){case"number":return ge;case"object":continue}throw new e("invalid huffman sequence")}}function z(de){let ge=0;for(;de>0;)ge=ge<<1|N(),de--;return ge}function U(de){if(1===de)return 1===N()?1:-1;const ge=z(de);return ge>=1<<de-1?ge:ge+(-1<<de)+1}let X,ne=0,R=0,Y=0;function K(de,ge,Ae,be,pe){Y=(Ae/P|0)*de.v+be,ge(de,v(de,Y,Ae%P*de.h+pe))}function Z(de,ge,Ae){Y=Ae/de.blocksPerLine|0,ge(de,v(de,Y,Ae%de.blocksPerLine))}const ae=l.length;let ie,te,re,ee,le,ue;ue=M.progressive?0===f?0===u?function J(de,ge){const Ae=H(de.huffmanTableDC),be=0===Ae?0:U(Ae)<<I;de.blockData[ge]=de.pred+=be}:function oe(de,ge){de.blockData[ge]|=N()<<I}:0===u?function Q(de,ge){if(ne>0)return void ne--;let Ae=f;const be=c;for(;Ae<=be;){const pe=H(de.huffmanTableAC),xe=15&pe,we=pe>>4;if(0!==xe)Ae+=we,de.blockData[ge+F[Ae]]=U(xe)*(1<<I),Ae++;else{if(we<15){ne=z(we)+(1<<we)-1;break}Ae+=16}}}:function G(de,ge){let Ae=f;const be=c;let xe,we,pe=0;for(;Ae<=be;){const Ne=ge+F[Ae],He=de.blockData[Ne]<0?-1:1;switch(R){case 0:if(we=H(de.huffmanTableAC),xe=15&we,pe=we>>4,0===xe)pe<15?(ne=z(pe)+(1<<pe),R=4):(pe=16,R=1);else{if(1!==xe)throw new e("invalid ACn encoding");X=U(xe),R=pe?2:3}continue;case 1:case 2:de.blockData[Ne]?de.blockData[Ne]+=He*(N()<<I):(pe--,0===pe&&(R=2===R?3:0));break;case 3:de.blockData[Ne]?de.blockData[Ne]+=He*(N()<<I):(de.blockData[Ne]=X<<I,R=0);break;case 4:de.blockData[Ne]&&(de.blockData[Ne]+=He*(N()<<I))}Ae++}4===R&&(ne--,0===ne&&(R=0))}:function q(de,ge){const Ae=H(de.huffmanTableDC),be=0===Ae?0:U(Ae);de.blockData[ge]=de.pred+=be;let pe=1;for(;pe<64;){const xe=H(de.huffmanTableAC),we=15&xe,Ne=xe>>4;if(0!==we)pe+=Ne,de.blockData[ge+F[pe]]=U(we),pe++;else{if(Ne<15)break;pe+=16}}};let Se,fe=0;const Ce=1===ae?l[0].blocksPerLine*l[0].blocksPerColumn:P*M.mcusPerColumn;let ve,me;for(;fe<=Ce;){const de=r?Math.min(Ce-fe,r):Ce;if(de>0){for(te=0;te<ae;te++)l[te].pred=0;if(ne=0,1===ae)for(ie=l[0],le=0;le<de;le++)Z(ie,ue,fe),fe++;else for(le=0;le<de;le++){for(te=0;te<ae;te++)for(ie=l[te],ve=ie.h,me=ie.v,re=0;re<me;re++)for(ee=0;ee<ve;ee++)K(ie,ue,fe,re,ee);fe++}}if(T=0,Se=g(C,h),!Se)break;if(Se.invalid&&((0,n.warn)(`decodeScan - ${de>0?"unexpected":"excessive"} MCU data, current marker is: ${Se.invalid}`),h=Se.offset),!(Se.marker>=65488&&Se.marker<=65495))break;h+=2}return h-_}function d(C,h,M){const l=C.quantizationTable,r=C.blockData;let f,c,u,I,A,P,$,_,w,T,N,H,z,U,q,J,oe;if(!l)throw new e("missing required Quantization Table.");for(let ne=0;ne<64;ne+=8)w=r[h+ne],T=r[h+ne+1],N=r[h+ne+2],H=r[h+ne+3],z=r[h+ne+4],U=r[h+ne+5],q=r[h+ne+6],J=r[h+ne+7],w*=l[ne],T|N|H|z|U|q|J?(T*=l[ne+1],N*=l[ne+2],H*=l[ne+3],z*=l[ne+4],U*=l[ne+5],q*=l[ne+6],J*=l[ne+7],f=D*w+128>>8,c=D*z+128>>8,u=N,I=q,A=b*(T-J)+128>>8,_=b*(T+J)+128>>8,P=H<<4,$=U<<4,f=f+c+1>>1,c=f-c,oe=u*i+I*p+128>>8,u=u*p-I*i+128>>8,I=oe,A=A+$+1>>1,$=A-$,_=_+P+1>>1,P=_-P,f=f+I+1>>1,I=f-I,c=c+u+1>>1,u=c-u,oe=A*s+_*k+2048>>12,A=A*k-_*s+2048>>12,_=oe,oe=P*y+$*m+2048>>12,P=P*m-$*y+2048>>12,$=oe,M[ne]=f+_,M[ne+7]=f-_,M[ne+1]=c+$,M[ne+6]=c-$,M[ne+2]=u+P,M[ne+5]=u-P,M[ne+3]=I+A,M[ne+4]=I-A):(oe=D*w+512>>10,M[ne]=oe,M[ne+1]=oe,M[ne+2]=oe,M[ne+3]=oe,M[ne+4]=oe,M[ne+5]=oe,M[ne+6]=oe,M[ne+7]=oe);for(let ne=0;ne<8;++ne)w=M[ne],T=M[ne+8],N=M[ne+16],H=M[ne+24],z=M[ne+32],U=M[ne+40],q=M[ne+48],J=M[ne+56],T|N|H|z|U|q|J?(f=D*w+2048>>12,c=D*z+2048>>12,u=N,I=q,A=b*(T-J)+2048>>12,_=b*(T+J)+2048>>12,P=H,$=U,f=4112+(f+c+1>>1),c=f-c,oe=u*i+I*p+2048>>12,u=u*p-I*i+2048>>12,I=oe,A=A+$+1>>1,$=A-$,_=_+P+1>>1,P=_-P,f=f+I+1>>1,I=f-I,c=c+u+1>>1,u=c-u,oe=A*s+_*k+2048>>12,A=A*k-_*s+2048>>12,_=oe,oe=P*y+$*m+2048>>12,P=P*m-$*y+2048>>12,$=oe,w=f+_,J=f-_,T=c+$,q=c-$,N=u+P,U=u-P,H=I+A,z=I-A,w<16?w=0:w>=4080?w=255:w>>=4,T<16?T=0:T>=4080?T=255:T>>=4,N<16?N=0:N>=4080?N=255:N>>=4,H<16?H=0:H>=4080?H=255:H>>=4,z<16?z=0:z>=4080?z=255:z>>=4,U<16?U=0:U>=4080?U=255:U>>=4,q<16?q=0:q>=4080?q=255:q>>=4,J<16?J=0:J>=4080?J=255:J>>=4,r[h+ne]=w,r[h+ne+8]=T,r[h+ne+16]=N,r[h+ne+24]=H,r[h+ne+32]=z,r[h+ne+40]=U,r[h+ne+48]=q,r[h+ne+56]=J):(oe=D*w+8192>>14,oe=oe<-2040?0:oe>=2024?255:oe+2056>>4,r[h+ne]=oe,r[h+ne+8]=oe,r[h+ne+16]=oe,r[h+ne+24]=oe,r[h+ne+32]=oe,r[h+ne+40]=oe,r[h+ne+48]=oe,r[h+ne+56]=oe)}function B(C,h){const M=h.blocksPerLine,l=h.blocksPerColumn,r=new Int16Array(64);for(let f=0;f<l;f++)for(let c=0;c<M;c++)d(h,v(h,f,c),r);return h.blockData}function g(C,h,M=h){const l=C.length-1;let r=M<h?M:h;if(h>=l)return null;const f=(0,x.readUint16)(C,h);if(f>=65472&&f<=65534)return{invalid:null,marker:f,offset:h};let c=(0,x.readUint16)(C,r);for(;!(c>=65472&&c<=65534);){if(++r>=l)return null;c=(0,x.readUint16)(C,r)}return{invalid:f.toString(16),marker:c,offset:r}}E.JpegImage=class L{constructor({decodeTransform:h=null,colorTransform:M=-1}={}){this._decodeTransform=h,this._colorTransform=M}parse(h,{dnlScanLines:M=null}={}){function l(){const N=(0,x.readUint16)(h,f);f+=2;let H=f+N-2;const z=g(h,H,f);z?.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+z.invalid),H=z.offset);const U=h.subarray(f,H);return f+=U.length,U}function r(N){const H=Math.ceil(N.samplesPerLine/8/N.maxH),z=Math.ceil(N.scanLines/8/N.maxV);for(const U of N.components){const q=Math.ceil(Math.ceil(N.samplesPerLine/8)*U.h/N.maxH),J=Math.ceil(Math.ceil(N.scanLines/8)*U.v/N.maxV);U.blockData=new Int16Array(z*U.v*64*(H*U.h+1)),U.blocksPerLine=q,U.blocksPerColumn=J}N.mcusPerLine=H,N.mcusPerColumn=z}let I,A,f=0,c=null,u=null,P=0;const $=[],_=[],w=[];let T=(0,x.readUint16)(h,f);if(f+=2,65496!==T)throw new e("SOI not found");T=(0,x.readUint16)(h,f),f+=2;e:for(;65497!==T;){let N,H,z;switch(T){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const U=l();65504===T&&74===U[0]&&70===U[1]&&73===U[2]&&70===U[3]&&0===U[4]&&(c={version:{major:U[5],minor:U[6]},densityUnits:U[7],xDensity:U[8]<<8|U[9],yDensity:U[10]<<8|U[11],thumbWidth:U[12],thumbHeight:U[13],thumbData:U.subarray(14,14+3*U[12]*U[13])}),65518===T&&65===U[0]&&100===U[1]&&111===U[2]&&98===U[3]&&101===U[4]&&(u={version:U[5]<<8|U[6],flags0:U[7]<<8|U[8],flags1:U[9]<<8|U[10],transformCode:U[11]});break;case 65499:const q=(0,x.readUint16)(h,f);f+=2;const J=q+f-2;let oe;for(;f<J;){const ee=h[f++],le=new Uint16Array(64);if(ee>>4){if(ee>>4!=1)throw new e("DQT - invalid table spec");for(H=0;H<64;H++)oe=F[H],le[oe]=(0,x.readUint16)(h,f),f+=2}else for(H=0;H<64;H++)oe=F[H],le[oe]=h[f++];$[15&ee]=le}break;case 65472:case 65473:case 65474:if(I)throw new e("Only single frame JPEGs supported");f+=2,I={},I.extended=65473===T,I.progressive=65474===T,I.precision=h[f++];const ne=(0,x.readUint16)(h,f);f+=2,I.scanLines=M||ne,I.samplesPerLine=(0,x.readUint16)(h,f),f+=2,I.components=[],I.componentIds={};const Q=h[f++];let R=0,X=0;for(N=0;N<Q;N++){const ee=h[f],le=h[f+1]>>4,ue=15&h[f+1];R<le&&(R=le),X<ue&&(X=ue),z=I.components.push({h:le,v:ue,quantizationId:h[f+2],quantizationTable:null}),I.componentIds[ee]=z-1,f+=3}I.maxH=R,I.maxV=X,r(I);break;case 65476:const G=(0,x.readUint16)(h,f);for(f+=2,N=2;N<G;){const ee=h[f++],le=new Uint8Array(16);let ue=0;for(H=0;H<16;H++,f++)ue+=le[H]=h[f];const fe=new Uint8Array(ue);for(H=0;H<ue;H++,f++)fe[H]=h[f];N+=17+ue,(ee>>4?_:w)[15&ee]=O(le,fe)}break;case 65501:f+=2,A=(0,x.readUint16)(h,f),f+=2;break;case 65498:const Y=1==++P&&!M;f+=2;const K=h[f++],Z=[];for(N=0;N<K;N++){const ee=h[f++],ue=I.components[I.componentIds[ee]];ue.index=ee;const fe=h[f++];ue.huffmanTableDC=w[fe>>4],ue.huffmanTableAC=_[15&fe],Z.push(ue)}const ae=h[f++],ie=h[f++],te=h[f++];try{const ee=S(h,f,I,Z,A,ae,ie,te>>4,15&te,Y);f+=ee}catch(ee){if(ee instanceof t)return(0,n.warn)(`${ee.message} -- attempting to re-parse the JPEG image.`),this.parse(h,{dnlScanLines:ee.scanLines});if(ee instanceof a){(0,n.warn)(`${ee.message} -- ignoring the rest of the image data.`);break e}throw ee}break;case 65500:f+=4;break;case 65535:255!==h[f]&&f--;break;default:const re=g(h,f-2,f-3);if(re?.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+re.invalid),f=re.offset;break}if(!re||f>=h.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+T.toString(16))}T=(0,x.readUint16)(h,f),f+=2}this.width=I.samplesPerLine,this.height=I.scanLines,this.jfif=c,this.adobe=u,this.components=[];for(const N of I.components){const H=$[N.quantizationId];H&&(N.quantizationTable=H),this.components.push({index:N.index,output:B(0,N),scaleX:N.h/I.maxH,scaleY:N.v/I.maxV,blocksPerLine:N.blocksPerLine,blocksPerColumn:N.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(h,M,l=!1){const r=this.width/h,f=this.height/M;let c,u,I,A,P,$,_,w,T,N,z,H=0;const U=this.components.length,q=h*M*U,J=new Uint8ClampedArray(q),oe=new Uint32Array(h),ne=4294967288;let Q;for(_=0;_<U;_++){if(c=this.components[_],u=c.scaleX*r,I=c.scaleY*f,H=_,z=c.output,A=c.blocksPerLine+1<<3,u!==Q){for(P=0;P<h;P++)w=0|P*u,oe[P]=(w&ne)<<3|7&w;Q=u}for($=0;$<M;$++)for(w=0|$*I,N=A*(w&ne)|(7&w)<<3,P=0;P<h;P++)J[H]=z[N+oe[P]],H+=U}let R=this._decodeTransform;if(!l&&4===U&&!R&&(R=new Int32Array([-256,255,-256,255,-256,255,-256,255])),R)for(_=0;_<q;)for(w=0,T=0;w<U;w++,_++,T+=2)J[_]=(J[_]*R[T]>>8)+R[T+1];return J}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&!(82===this.components[0].index&&71===this.components[1].index&&66===this.components[2].index):1===this._colorTransform}_convertYccToRgb(h){let M,l,r;for(let f=0,c=h.length;f<c;f+=3)M=h[f],l=h[f+1],r=h[f+2],h[f]=M-179.456+1.402*r,h[f+1]=M+135.459-.344*l-.714*r,h[f+2]=M-226.816+1.772*l;return h}_convertYccToRgba(h,M){for(let l=0,r=0,f=h.length;l<f;l+=3,r+=4){const c=h[l],u=h[l+1],I=h[l+2];M[r]=c-179.456+1.402*I,M[r+1]=c+135.459-.344*u-.714*I,M[r+2]=c-226.816+1.772*u,M[r+3]=255}return M}_convertYcckToRgb(h){let M,l,r,f,c=0;for(let u=0,I=h.length;u<I;u+=4)M=h[u],l=h[u+1],r=h[u+2],f=h[u+3],h[c++]=l*(-660635669420364e-19*l+.000437130475926232*r-54080610064599e-18*M+.00048449797120281*f-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*M-.00477271405408747*f+1.53380253221734)+M*(.000961250184130688*M-.00266257332283933*f+.48357088451265)+f*(-.000336197177618394*f+.484791561490776),h[c++]=107.268039397724+l*(219927104525741e-19*l-.000640992018297945*r+.000659397001245577*M+.000426105652938837*f-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*M+.000770482631801132*f-.151051492775562)+M*(.00126935368114843*M-.00265090189010898*f+.25802910206845)+f*(-.000318913117588328*f-.213742400323665),h[c++]=l*(-.000570115196973677*l-263409051004589e-19*r+.0020741088115012*M-.00288260236853442*f+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*M+.000560833691242812*f-.195152027534049)+M*(.00174418132927582*M-.00255243321439347*f+.116935020465145)+f*(-.000343531996510555*f+.24165260232407);return h.subarray(0,c)}_convertYcckToRgba(h){for(let M=0,l=h.length;M<l;M+=4){const r=h[M],f=h[M+1],c=h[M+2],u=h[M+3];h[M]=f*(-660635669420364e-19*f+.000437130475926232*c-54080610064599e-18*r+.00048449797120281*u-.154362151871126)-122.67195406894+c*(-.000957964378445773*c+.000817076911346625*r-.00477271405408747*u+1.53380253221734)+r*(.000961250184130688*r-.00266257332283933*u+.48357088451265)+u*(-.000336197177618394*u+.484791561490776),h[M+1]=107.268039397724+f*(219927104525741e-19*f-.000640992018297945*c+.000659397001245577*r+.000426105652938837*u-.176491792462875)+c*(-.000778269941513683*c+.00130872261408275*r+.000770482631801132*u-.151051492775562)+r*(.00126935368114843*r-.00265090189010898*u+.25802910206845)+u*(-.000318913117588328*u-.213742400323665),h[M+2]=f*(-.000570115196973677*f-263409051004589e-19*c+.0020741088115012*r-.00288260236853442*u+.814272968359295)-20.810012546947+c*(-153496057440975e-19*c-.000132689043961446*r+.000560833691242812*u-.195152027534049)+r*(.00174418132927582*r-.00255243321439347*u+.116935020465145)+u*(-.000343531996510555*u+.24165260232407),h[M+3]=255}return h}_convertYcckToCmyk(h){let M,l,r;for(let f=0,c=h.length;f<c;f+=4)M=h[f],l=h[f+1],r=h[f+2],h[f]=434.456-M-1.402*r,h[f+1]=119.541-M+.344*l+.714*r,h[f+2]=481.816-M-1.772*l;return h}_convertCmykToRgb(h){let M,l,r,f,c=0;for(let u=0,I=h.length;u<I;u+=4)M=h[u],l=h[u+1],r=h[u+2],f=h[u+3],h[c++]=255+M*(-6747147073602441e-20*M+.0008379262121013727*l+.0002894718188643294*r+.003264231057537806*f-1.1185611867203937)+l*(26374107616089405e-21*l-8626949158638572e-20*r-.0002748769067499491*f-.02155688794978967)+r*(-3878099212869363e-20*r-.0003267808279485286*f+.0686742238595345)-f*(.0003361971776183937*f+.7430659151342254),h[c++]=255+M*(.00013596372813588848*M+.000924537132573585*l+.00010567359618683593*r+.0004791864687436512*f-.3109689587515875)+l*(-.00023545346108370344*l+.0002702845253534714*r+.0020200308977307156*f-.7488052167015494)+r*(6834815998235662e-20*r+.00015168452363460973*f-.09751927774728933)-f*(.0003189131175883281*f+.7364883807733168),h[c++]=255+M*(13598650411385307e-21*M+.00012423956175490851*l+.0004751985097583589*r-36729317476630422e-22*f-.05562186980264034)+l*(.00016141380598724676*l+.0009692239130725186*r+.0007782692450036253*f-.44015232367526463)+r*(5.068882914068769e-7*r+.0017778369011375071*f-.7591454649749609)-f*(.0003435319965105553*f+.7063770186160144);return h.subarray(0,c)}_convertCmykToRgba(h){for(let M=0,l=h.length;M<l;M+=4){const r=h[M],f=h[M+1],c=h[M+2],u=h[M+3];h[M]=255+r*(-6747147073602441e-20*r+.0008379262121013727*f+.0002894718188643294*c+.003264231057537806*u-1.1185611867203937)+f*(26374107616089405e-21*f-8626949158638572e-20*c-.0002748769067499491*u-.02155688794978967)+c*(-3878099212869363e-20*c-.0003267808279485286*u+.0686742238595345)-u*(.0003361971776183937*u+.7430659151342254),h[M+1]=255+r*(.00013596372813588848*r+.000924537132573585*f+.00010567359618683593*c+.0004791864687436512*u-.3109689587515875)+f*(-.00023545346108370344*f+.0002702845253534714*c+.0020200308977307156*u-.7488052167015494)+c*(6834815998235662e-20*c+.00015168452363460973*u-.09751927774728933)-u*(.0003189131175883281*u+.7364883807733168),h[M+2]=255+r*(13598650411385307e-21*r+.00012423956175490851*f+.0004751985097583589*c-36729317476630422e-22*u-.05562186980264034)+f*(.00016141380598724676*f+.0009692239130725186*c+.0007782692450036253*u-.44015232367526463)+c*(5.068882914068769e-7*c+.0017778369011375071*u-.7591454649749609)-u*(.0003435319965105553*u+.7063770186160144),h[M+3]=255}return h}getData({width:h,height:M,forceRGBA:l=!1,forceRGB:r=!1,isSourcePDF:f=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const c=this._getLinearizedBlockData(h,M,f);if(1===this.numComponents&&(l||r)){const I=new Uint8ClampedArray(c.length*(l?4:3));let A=0;if(l)(0,j.grayToRGBA)(c,new Uint32Array(I.buffer));else for(const P of c)I[A++]=P,I[A++]=P,I[A++]=P;return I}if(3===this.numComponents&&this._isColorConversionNeeded){if(l){const u=new Uint8ClampedArray(c.length/3*4);return this._convertYccToRgba(c,u)}return this._convertYccToRgb(c)}if(4===this.numComponents){if(this._isColorConversionNeeded)return l?this._convertYcckToRgba(c):r?this._convertYcckToRgb(c):this._convertYcckToCmyk(c);if(l)return this._convertCmykToRgba(c);if(r)return this._convertCmykToRgb(c)}return c}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.convertBlackAndWhiteToRGBA=x,E.convertToRGBA=function j(a){switch(a.kind){case n.ImageKind.GRAYSCALE_1BPP:return x(a);case n.ImageKind.RGB_24BPP:return function e({src:a,srcPos:F=0,dest:m,destPos:y=0}){let p=0;const i=a.length>>2,D=new Uint32Array(a.buffer,F,i);if(n.FeatureTest.isLittleEndian){for(;p<i-2;p+=3,y+=4){const b=D[p],O=D[p+1],v=D[p+2];m[y]=4278190080|b,m[y+1]=b>>>24|O<<8|4278190080,m[y+2]=O>>>16|v<<16|4278190080,m[y+3]=v>>>8|4278190080}for(let b=4*p,O=a.length;b<O;b+=3)m[y++]=a[b]|a[b+1]<<8|a[b+2]<<16|4278190080}else{for(;p<i-2;p+=3,y+=4){const b=D[p],O=D[p+1],v=D[p+2];m[y]=255|b,m[y+1]=b<<24|O>>>8|255,m[y+2]=O<<16|v>>>16|255,m[y+3]=v<<8|255}for(let b=4*p,O=a.length;b<O;b+=3)m[y++]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|255}return{srcPos:F,destPos:y}}(a)}return null},E.grayToRGBA=function t(a,F){if(n.FeatureTest.isLittleEndian)for(let m=0,y=a.length;m<y;m++)F[m]=65793*a[m]|4278190080;else for(let m=0,y=a.length;m<y;m++)F[m]=16843008*a[m]|255};var n=V(2);function x({src:a,srcPos:F=0,dest:m,width:y,height:k,nonBlackColor:s=4294967295,inverseDecode:p=!1}){const i=n.FeatureTest.isLittleEndian?4278190080:255,[D,b]=p?[s,i]:[i,s],O=y>>3,v=7&y,S=a.length;m=new Uint32Array(m.buffer);let d=0;for(let B=0;B<k;B++){for(const L=F+O;F<L;F++){const C=F<S?a[F]:255;m[d++]=128&C?b:D,m[d++]=64&C?b:D,m[d++]=32&C?b:D,m[d++]=16&C?b:D,m[d++]=8&C?b:D,m[d++]=4&C?b:D,m[d++]=2&C?b:D,m[d++]=1&C?b:D}if(0===v)continue;const g=F<S?a[F++]:255;for(let L=0;L<v;L++)m[d++]=g&1<<7-L?b:D}return{srcPos:F,destPos:d}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.JpxStream=void 0;var n=V(18),j=V(30),x=V(2);E.JpxStream=class e extends n.DecodeStream{constructor(a,F,m){super(F),this.stream=a,this.dict=a.dict,this.maybeLength=F,this.params=m}get bytes(){return(0,x.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(a){}readBlock(){if(this.eof)return;const a=new j.JpxImage;a.parse(this.bytes);const F=a.width,m=a.height,y=a.componentsCount,k=a.tiles.length;if(1===k)this.buffer=a.tiles[0].items;else{const s=new Uint8ClampedArray(F*m*y);for(let p=0;p<k;p++){const i=a.tiles[p],b=i.height,S=i.items;let d=0,B=(F*i.top+i.left)*y;const g=F*y,L=i.width*y;for(let C=0;C<b;C++){const h=S.subarray(d,d+L);s.set(h,B),d+=L,B+=g}}this.buffer=s}this.bufferLength=this.buffer.length,this.eof=!0}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.JpxImage=void 0;var n=V(2),j=V(3),x=V(25);class e extends n.BaseException{constructor(P){super(`JPX error: ${P}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};function F(A,P){A.x0=Math.ceil(P.XOsiz/A.XRsiz),A.x1=Math.ceil(P.Xsiz/A.XRsiz),A.y0=Math.ceil(P.YOsiz/A.YRsiz),A.y1=Math.ceil(P.Ysiz/A.YRsiz),A.width=A.x1-A.x0,A.height=A.y1-A.y0}function m(A,P){const $=A.SIZ,_=[];let w;const T=Math.ceil(($.Xsiz-$.XTOsiz)/$.XTsiz),N=Math.ceil(($.Ysiz-$.YTOsiz)/$.YTsiz);for(let z=0;z<N;z++)for(let U=0;U<T;U++)w={},w.tx0=Math.max($.XTOsiz+U*$.XTsiz,$.XOsiz),w.ty0=Math.max($.YTOsiz+z*$.YTsiz,$.YOsiz),w.tx1=Math.min($.XTOsiz+(U+1)*$.XTsiz,$.Xsiz),w.ty1=Math.min($.YTOsiz+(z+1)*$.YTsiz,$.Ysiz),w.width=w.tx1-w.tx0,w.height=w.ty1-w.ty0,w.components=[],_.push(w);A.tiles=_;for(let z=0,U=$.Csiz;z<U;z++){const q=P[z];for(let J=0,oe=_.length;J<oe;J++){const ne={};w=_[J],ne.tcx0=Math.ceil(w.tx0/q.XRsiz),ne.tcy0=Math.ceil(w.ty0/q.YRsiz),ne.tcx1=Math.ceil(w.tx1/q.XRsiz),ne.tcy1=Math.ceil(w.ty1/q.YRsiz),ne.width=ne.tcx1-ne.tcx0,ne.height=ne.tcy1-ne.tcy0,w.components[z]=ne}}}function y(A,P,$){const _=P.codingStyleParameters,w={};return _.entropyCoderWithCustomPrecincts?(w.PPx=_.precinctsSizes[$].PPx,w.PPy=_.precinctsSizes[$].PPy):(w.PPx=15,w.PPy=15),w.xcb_=$>0?Math.min(_.xcb,w.PPx-1):Math.min(_.xcb,w.PPx),w.ycb_=$>0?Math.min(_.ycb,w.PPy-1):Math.min(_.ycb,w.PPy),w}function k(A,P,$){const _=1<<$.PPx,w=1<<$.PPy,T=0===P.resLevel,N=1<<$.PPx+(T?0:-1),H=1<<$.PPy+(T?0:-1),z=P.trx1>P.trx0?Math.ceil(P.trx1/_)-Math.floor(P.trx0/_):0,U=P.try1>P.try0?Math.ceil(P.try1/w)-Math.floor(P.try0/w):0;P.precinctParameters={precinctWidth:_,precinctHeight:w,numprecinctswide:z,numprecinctshigh:U,numprecincts:z*U,precinctWidthInSubband:N,precinctHeightInSubband:H}}function s(A,P,$){const _=$.xcb_,w=$.ycb_,T=1<<_,N=1<<w,H=P.tbx0>>_,z=P.tby0>>w,U=P.tbx1+T-1>>_,q=P.tby1+N-1>>w,J=P.resolution.precinctParameters,oe=[],ne=[];let Q,R,X,G;for(R=z;R<q;R++)for(Q=H;Q<U;Q++){if(X={cbx:Q,cby:R,tbx0:T*Q,tby0:N*R,tbx1:T*(Q+1),tby1:N*(R+1)},X.tbx0_=Math.max(P.tbx0,X.tbx0),X.tby0_=Math.max(P.tby0,X.tby0),X.tbx1_=Math.min(P.tbx1,X.tbx1),X.tby1_=Math.min(P.tby1,X.tby1),G=Math.floor((X.tbx0_-P.tbx0)/J.precinctWidthInSubband)+Math.floor((X.tby0_-P.tby0)/J.precinctHeightInSubband)*J.numprecinctswide,X.precinctNumber=G,X.subbandType=P.type,X.Lblock=3,X.tbx1_<=X.tbx0_||X.tby1_<=X.tby0_)continue;oe.push(X);let Z=ne[G];void 0!==Z?(Q<Z.cbxMin?Z.cbxMin=Q:Q>Z.cbxMax&&(Z.cbxMax=Q),R<Z.cbyMin?Z.cbxMin=R:R>Z.cbyMax&&(Z.cbyMax=R)):ne[G]=Z={cbxMin:Q,cbyMin:R,cbxMax:Q,cbyMax:R},X.precinct=Z}P.codeblockParameters={codeblockWidth:_,codeblockHeight:w,numcodeblockwide:U-H+1,numcodeblockhigh:q-z+1},P.codeblocks=oe,P.precincts=ne}function p(A,P,$){const _=[],w=A.subbands;for(let T=0,N=w.length;T<N;T++){const z=w[T].codeblocks;for(let U=0,q=z.length;U<q;U++){const J=z[U];J.precinctNumber===P&&_.push(J)}}return{layerNumber:$,codeblocks:_}}function i(A){const _=A.tiles[A.currentTile.index],w=_.codingStyleDefaultParameters.layersCount,T=A.SIZ.Csiz;let N=0;for(let J=0;J<T;J++)N=Math.max(N,_.components[J].codingStyleParameters.decompositionLevelsCount);let H=0,z=0,U=0,q=0;this.nextPacket=function(){for(;H<w;H++){for(;z<=N;z++){for(;U<T;U++){const oe=_.components[U];if(z>oe.codingStyleParameters.decompositionLevelsCount)continue;const ne=oe.resolutions[z],Q=ne.precinctParameters.numprecincts;for(;q<Q;){const R=p(ne,q,H);return q++,R}q=0}U=0}z=0}throw new e("Out of packets")}}function D(A){const _=A.tiles[A.currentTile.index],w=_.codingStyleDefaultParameters.layersCount,T=A.SIZ.Csiz;let N=0;for(let J=0;J<T;J++)N=Math.max(N,_.components[J].codingStyleParameters.decompositionLevelsCount);let H=0,z=0,U=0,q=0;this.nextPacket=function(){for(;H<=N;H++){for(;z<w;z++){for(;U<T;U++){const oe=_.components[U];if(H>oe.codingStyleParameters.decompositionLevelsCount)continue;const ne=oe.resolutions[H],Q=ne.precinctParameters.numprecincts;for(;q<Q;){const R=p(ne,q,z);return q++,R}q=0}U=0}z=0}throw new e("Out of packets")}}function b(A){const _=A.tiles[A.currentTile.index],w=_.codingStyleDefaultParameters.layersCount,T=A.SIZ.Csiz;let N,H,z,U,q=0;for(z=0;z<T;z++)q=Math.max(q,_.components[z].codingStyleParameters.decompositionLevelsCount);const J=new Int32Array(q+1);for(H=0;H<=q;++H){let oe=0;for(z=0;z<T;++z){const ne=_.components[z].resolutions;H<ne.length&&(oe=Math.max(oe,ne[H].precinctParameters.numprecincts))}J[H]=oe}N=0,H=0,z=0,U=0,this.nextPacket=function(){for(;H<=q;H++){for(;U<J[H];U++){for(;z<T;z++){const ne=_.components[z];if(H>ne.codingStyleParameters.decompositionLevelsCount)continue;const Q=ne.resolutions[H];if(!(U>=Q.precinctParameters.numprecincts)){for(;N<w;){const X=p(Q,U,N);return N++,X}N=0}}z=0}U=0}throw new e("Out of packets")}}function O(A){const _=A.tiles[A.currentTile.index],w=_.codingStyleDefaultParameters.layersCount,T=A.SIZ.Csiz,N=d(_),H=N;let z=0,U=0,q=0,J=0,oe=0;this.nextPacket=function(){for(;oe<H.maxNumHigh;oe++){for(;J<H.maxNumWide;J++){for(;q<T;q++){const Q=_.components[q],R=Q.codingStyleParameters.decompositionLevelsCount;for(;U<=R;U++){const X=Q.resolutions[U],Y=S(J,oe,N.components[q].resolutions[U],H,X);if(null!==Y){for(;z<w;){const K=p(X,Y,z);return z++,K}z=0}}U=0}q=0}J=0}throw new e("Out of packets")}}function v(A){const _=A.tiles[A.currentTile.index],w=_.codingStyleDefaultParameters.layersCount,T=A.SIZ.Csiz,N=d(_);let H=0,z=0,U=0,q=0,J=0;this.nextPacket=function(){for(;U<T;++U){const ne=_.components[U],Q=N.components[U],R=ne.codingStyleParameters.decompositionLevelsCount;for(;J<Q.maxNumHigh;J++){for(;q<Q.maxNumWide;q++){for(;z<=R;z++){const X=ne.resolutions[z],Y=S(q,J,Q.resolutions[z],Q,X);if(null!==Y){for(;H<w;){const K=p(X,Y,H);return H++,K}H=0}}z=0}q=0}J=0}throw new e("Out of packets")}}function S(A,P,$,_,w){const T=A*_.minWidth,N=P*_.minHeight;return T%$.width!=0||N%$.height!=0?null:T/$.height+N/$.width*w.precinctParameters.numprecinctswide}function d(A){const P=A.components.length;let $=Number.MAX_VALUE,_=Number.MAX_VALUE,w=0,T=0;const N=new Array(P);for(let H=0;H<P;H++){const z=A.components[H],U=z.codingStyleParameters.decompositionLevelsCount,q=new Array(U+1);let J=Number.MAX_VALUE,oe=Number.MAX_VALUE,ne=0,Q=0,R=1;for(let X=U;X>=0;--X){const G=z.resolutions[X],Y=R*G.precinctParameters.precinctWidth,K=R*G.precinctParameters.precinctHeight;J=Math.min(J,Y),oe=Math.min(oe,K),ne=Math.max(ne,G.precinctParameters.numprecinctswide),Q=Math.max(Q,G.precinctParameters.numprecinctshigh),q[X]={width:Y,height:K},R<<=1}$=Math.min($,J),_=Math.min(_,oe),w=Math.max(w,ne),T=Math.max(T,Q),N[H]={resolutions:q,minWidth:J,minHeight:oe,maxNumWide:ne,maxNumHigh:Q}}return{components:N,minWidth:$,minHeight:_,maxNumWide:w,maxNumHigh:T}}function B(A){const _=A.tiles[A.currentTile.index],w=A.SIZ.Csiz;for(let N=0;N<w;N++){const H=_.components[N],z=H.codingStyleParameters.decompositionLevelsCount,U=[],q=[];for(let J=0;J<=z;J++){const oe=y(0,H,J),ne={},Q=1<<z-J;let R;if(ne.trx0=Math.ceil(H.tcx0/Q),ne.try0=Math.ceil(H.tcy0/Q),ne.trx1=Math.ceil(H.tcx1/Q),ne.try1=Math.ceil(H.tcy1/Q),ne.resLevel=J,k(0,ne,oe),U.push(ne),0===J)R={},R.type="LL",R.tbx0=Math.ceil(H.tcx0/Q),R.tby0=Math.ceil(H.tcy0/Q),R.tbx1=Math.ceil(H.tcx1/Q),R.tby1=Math.ceil(H.tcy1/Q),R.resolution=ne,s(0,R,oe),q.push(R),ne.subbands=[R];else{const X=1<<z-J+1,G=[];R={},R.type="HL",R.tbx0=Math.ceil(H.tcx0/X-.5),R.tby0=Math.ceil(H.tcy0/X),R.tbx1=Math.ceil(H.tcx1/X-.5),R.tby1=Math.ceil(H.tcy1/X),R.resolution=ne,s(0,R,oe),q.push(R),G.push(R),R={},R.type="LH",R.tbx0=Math.ceil(H.tcx0/X),R.tby0=Math.ceil(H.tcy0/X-.5),R.tbx1=Math.ceil(H.tcx1/X),R.tby1=Math.ceil(H.tcy1/X-.5),R.resolution=ne,s(0,R,oe),q.push(R),G.push(R),R={},R.type="HH",R.tbx0=Math.ceil(H.tcx0/X-.5),R.tby0=Math.ceil(H.tcy0/X-.5),R.tbx1=Math.ceil(H.tcx1/X-.5),R.tby1=Math.ceil(H.tcy1/X-.5),R.resolution=ne,s(0,R,oe),q.push(R),G.push(R),ne.subbands=G}}H.resolutions=U,H.subbands=q}const T=_.codingStyleDefaultParameters.progressionOrder;switch(T){case 0:_.packetsIterator=new i(A);break;case 1:_.packetsIterator=new D(A);break;case 2:_.packetsIterator=new b(A);break;case 3:_.packetsIterator=new O(A);break;case 4:_.packetsIterator=new v(A);break;default:throw new e(`Unsupported progression order ${T}`)}}function g(A,P,$,_){let T,w=0,N=0,H=!1;function z(Y){for(;N<Y;){const K=P[$+w];w++,H?(T=T<<7|K,N+=7,H=!1):(T=T<<8|K,N+=8),255===K&&(H=!0)}return N-=Y,T>>>N&(1<<Y)-1}function U(Y){return 255===P[$+w-1]&&P[$+w]===Y?(q(1),!0):255===P[$+w]&&P[$+w+1]===Y&&(q(2),!0)}function q(Y){w+=Y}function J(){N=0,H&&(w++,H=!1)}function oe(){if(0===z(1))return 1;if(0===z(1))return 2;let Y=z(2);return Y<3?Y+3:(Y=z(5),Y<31?Y+6:(Y=z(7),Y+37))}const R=A.COD.sopMarkerUsed,X=A.COD.ephMarkerUsed,G=A.tiles[A.currentTile.index].packetsIterator;for(;w<_;){J(),R&&U(145)&&q(4);const Y=G.nextPacket();if(!z(1))continue;const K=Y.layerNumber,Z=[];let ae;for(let ie=0,te=Y.codeblocks.length;ie<te;ie++){ae=Y.codeblocks[ie];let re=ae.precinct;const ee=ae.cbx-re.cbxMin,le=ae.cby-re.cbyMin;let Se,Ce,ue=!1,fe=!1;if(void 0!==ae.included)ue=!!z(1);else{let Ae;if(re=ae.precinct,void 0!==re.inclusionTree)Ae=re.inclusionTree;else{const be=re.cbxMax-re.cbxMin+1,pe=re.cbyMax-re.cbyMin+1;Ae=new r(be,pe,K),Ce=new l(be,pe),re.inclusionTree=Ae,re.zeroBitPlanesTree=Ce;for(let xe=0;xe<K;xe++)if(0!==z(1))throw new e("Invalid tag tree")}if(Ae.reset(ee,le,K))for(;;){if(!z(1)){Ae.incrementValue(K);break}if(Se=!Ae.nextLevel(),Se){ae.included=!0,ue=fe=!0;break}}}if(!ue)continue;if(fe){for(Ce=re.zeroBitPlanesTree,Ce.reset(ee,le);;)if(z(1)){if(Se=!Ce.nextLevel(),Se)break}else Ce.incrementValue();ae.zeroBitPlanes=Ce.value}const ve=oe();for(;z(1);)ae.Lblock++;const me=(0,j.log2)(ve),ge=z((ve<1<<me?me-1:me)+ae.Lblock);Z.push({codeblock:ae,codingpasses:ve,dataLength:ge})}for(J(),X&&U(146);Z.length>0;){const ie=Z.shift();ae=ie.codeblock,void 0===ae.data&&(ae.data=[]),ae.data.push({data:P,start:$+w,end:$+w+ie.dataLength,codingpasses:ie.codingpasses}),w+=ie.dataLength}}return w}function L(A,P,$,_,w,T,N,H,z){const U=_.tbx0,q=_.tby0,J=_.tbx1-_.tbx0,oe=_.codeblocks,ne="H"===_.type.charAt(0)?1:0,Q="H"===_.type.charAt(1)?P:0;for(let R=0,X=oe.length;R<X;++R){const G=oe[R],Y=G.tbx1_-G.tbx0_,K=G.tby1_-G.tby0_;if(0===Y||0===K||void 0===G.data)continue;const Z=new f(Y,K,G.subbandType,G.zeroBitPlanes,T);let ae=2;const ie=G.data;let ee,le,ue,te=0,re=0;for(ee=0,le=ie.length;ee<le;ee++)ue=ie[ee],te+=ue.end-ue.start,re+=ue.codingpasses;const fe=new Uint8Array(te);let Se=0;for(ee=0,le=ie.length;ee<le;ee++){ue=ie[ee];const Ne=ue.data.subarray(ue.start,ue.end);fe.set(Ne,Se),Se+=Ne.length}const Ce=new x.ArithmeticDecoder(fe,0,te);for(Z.setDecoder(Ce),ee=0;ee<re;ee++){switch(ae){case 0:Z.runSignificancePropagationPass();break;case 1:Z.runMagnitudeRefinementPass();break;case 2:Z.runCleanupPass(),H&&Z.checkSegmentationSymbol()}z&&Z.reset(),ae=(ae+1)%3}let ve=G.tbx0_-U+(G.tby0_-q)*J;const me=Z.coefficentsSign,de=Z.coefficentsMagnitude,ge=Z.bitsDecoded,Ae=N?0:.5;let be,pe,xe;Se=0;const we="LL"!==_.type;for(ee=0;ee<K;ee++){const He=2*(ve/J|0)*(P-J)+ne+Q;for(be=0;be<Y;be++)pe=de[Se],0!==pe&&(pe=(pe+Ae)*w,0!==me[Se]&&(pe=-pe),xe=ge[Se],A[we?He+(ve<<1):ve]=N&&xe>=T?pe:pe*(1<<T-xe)),ve++,Se++;ve+=J-Y}}}function C(A,P,$){const _=P.components[$],w=_.codingStyleParameters,T=_.quantizationParameters,N=w.decompositionLevelsCount,H=T.SPqcds,z=T.scalarExpounded,U=T.guardBits,q=w.segmentationSymbolUsed,J=w.resetContextProbabilities,oe=A.components[$].precision,ne=w.reversibleTransformation,Q=ne?new I:new u,R=[];let X=0;for(let Y=0;Y<=N;Y++){const K=_.resolutions[Y],Z=K.trx1-K.trx0,ae=K.try1-K.try0,ie=new Float32Array(Z*ae);for(let te=0,re=K.subbands.length;te<re;te++){let ee,le;z?(ee=H[X].mu,le=H[X].epsilon,X++):(ee=H[0].mu,le=H[0].epsilon+(Y>0?1-Y:0));const ue=K.subbands[te];L(ie,Z,0,ue,ne?1:2**(oe+t[ue.type]-le)*(1+ee/2048),U+le-1,ne,q,J)}R.push({width:Z,height:ae,items:ie})}const G=Q.calculate(R,_.tcx0,_.tcy0);return{left:_.tcx0,top:_.tcy0,width:G.width,height:G.height,items:G.items}}function M(A,P){const _=A.SIZ.Csiz,w=A.tiles[P];for(let T=0;T<_;T++){const N=w.components[T];N.quantizationParameters=void 0!==A.currentTile.QCC[T]?A.currentTile.QCC[T]:A.currentTile.QCD,N.codingStyleParameters=void 0!==A.currentTile.COC[T]?A.currentTile.COC[T]:A.currentTile.COD}w.codingStyleDefaultParameters=A.currentTile.COD}E.JpxImage=class a{constructor(){this.failOnCorruptedImage=!1}parse(P){if(65359===(0,j.readUint16)(P,0))return void this.parseCodestream(P,0,P.length);const _=P.length;let w=0;for(;w<_;){let T=8,N=(0,j.readUint32)(P,w);const H=(0,j.readUint32)(P,w+4);if(w+=T,1===N&&(N=4294967296*(0,j.readUint32)(P,w)+(0,j.readUint32)(P,w+4),w+=8,T+=8),0===N&&(N=_-w+T),N<T)throw new e("Invalid box field size");const z=N-T;let U=!0;switch(H){case 1785737832:U=!1;break;case 1668246642:const q=P[w];if(1===q){const oe=(0,j.readUint32)(P,w+3);switch(oe){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+oe)}}else 2===q&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(P,w,w+z);break;case 1783636e3:218793738!==(0,j.readUint32)(P,w)&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const J=String.fromCharCode(H>>24&255,H>>16&255,H>>8&255,255&H);(0,n.warn)(`Unsupported header type ${H} (${J}).`)}U&&(w+=z)}}parseImageProperties(P){let $=P.getByte();for(;$>=0;){const _=$;if($=P.getByte(),65361==(_<<8|$)){P.skip(4);const T=P.getInt32()>>>0,N=P.getInt32()>>>0,H=P.getInt32()>>>0,z=P.getInt32()>>>0;P.skip(16);const U=P.getUint16();return this.width=T-H,this.height=N-z,this.componentsCount=U,void(this.bitsPerComponent=8)}}throw new e("No size marker found in JPX stream")}parseCodestream(P,$,_){const w={};let T=!1;try{let N=$;for(;N+1<_;){const H=(0,j.readUint16)(P,N);N+=2;let U,q,J,oe,ne,Q,z=0;switch(H){case 65359:w.mainHeader=!0;break;case 65497:break;case 65361:z=(0,j.readUint16)(P,N);const R={};R.Xsiz=(0,j.readUint32)(P,N+4),R.Ysiz=(0,j.readUint32)(P,N+8),R.XOsiz=(0,j.readUint32)(P,N+12),R.YOsiz=(0,j.readUint32)(P,N+16),R.XTsiz=(0,j.readUint32)(P,N+20),R.YTsiz=(0,j.readUint32)(P,N+24),R.XTOsiz=(0,j.readUint32)(P,N+28),R.YTOsiz=(0,j.readUint32)(P,N+32);const X=(0,j.readUint16)(P,N+36);R.Csiz=X;const G=[];U=N+38;for(let ee=0;ee<X;ee++){const le={precision:1+(127&P[U]),isSigned:!!(128&P[U]),XRsiz:P[U+1],YRsiz:P[U+2]};U+=3,F(le,R),G.push(le)}w.SIZ=R,w.components=G,m(w,G),w.QCC=[],w.COC=[];break;case 65372:z=(0,j.readUint16)(P,N);const Y={};switch(U=N+2,q=P[U++],31&q){case 0:oe=8,ne=!0;break;case 1:oe=16,ne=!1;break;case 2:oe=16,ne=!0;break;default:throw new Error("Invalid SQcd value "+q)}for(Y.noQuantization=8===oe,Y.scalarExpounded=ne,Y.guardBits=q>>5,J=[];U<z+N;){const ee={};8===oe?(ee.epsilon=P[U++]>>3,ee.mu=0):(ee.epsilon=P[U]>>3,ee.mu=(7&P[U])<<8|P[U+1],U+=2),J.push(ee)}Y.SPqcds=J,w.mainHeader?w.QCD=Y:(w.currentTile.QCD=Y,w.currentTile.QCC=[]);break;case 65373:z=(0,j.readUint16)(P,N);const K={};let Z;switch(U=N+2,w.SIZ.Csiz<257?Z=P[U++]:(Z=(0,j.readUint16)(P,U),U+=2),q=P[U++],31&q){case 0:oe=8,ne=!0;break;case 1:oe=16,ne=!1;break;case 2:oe=16,ne=!0;break;default:throw new Error("Invalid SQcd value "+q)}for(K.noQuantization=8===oe,K.scalarExpounded=ne,K.guardBits=q>>5,J=[];U<z+N;){const ee={};8===oe?(ee.epsilon=P[U++]>>3,ee.mu=0):(ee.epsilon=P[U]>>3,ee.mu=(7&P[U])<<8|P[U+1],U+=2),J.push(ee)}K.SPqcds=J,w.mainHeader?w.QCC[Z]=K:w.currentTile.QCC[Z]=K;break;case 65362:z=(0,j.readUint16)(P,N);const ae={};U=N+2;const ie=P[U++];ae.entropyCoderWithCustomPrecincts=!!(1&ie),ae.sopMarkerUsed=!!(2&ie),ae.ephMarkerUsed=!!(4&ie),ae.progressionOrder=P[U++],ae.layersCount=(0,j.readUint16)(P,U),U+=2,ae.multipleComponentTransform=P[U++],ae.decompositionLevelsCount=P[U++],ae.xcb=2+(15&P[U++]),ae.ycb=2+(15&P[U++]);const te=P[U++];if(ae.selectiveArithmeticCodingBypass=!!(1&te),ae.resetContextProbabilities=!!(2&te),ae.terminationOnEachCodingPass=!!(4&te),ae.verticallyStripe=!!(8&te),ae.predictableTermination=!!(16&te),ae.segmentationSymbolUsed=!!(32&te),ae.reversibleTransformation=P[U++],ae.entropyCoderWithCustomPrecincts){const ee=[];for(;U<z+N;){const le=P[U++];ee.push({PPx:15&le,PPy:le>>4})}ae.precinctsSizes=ee}const re=[];ae.selectiveArithmeticCodingBypass&&re.push("selectiveArithmeticCodingBypass"),ae.terminationOnEachCodingPass&&re.push("terminationOnEachCodingPass"),ae.verticallyStripe&&re.push("verticallyStripe"),ae.predictableTermination&&re.push("predictableTermination"),re.length>0&&(T=!0,(0,n.warn)(`JPX: Unsupported COD options (${re.join(", ")}).`)),w.mainHeader?w.COD=ae:(w.currentTile.COD=ae,w.currentTile.COC=[]);break;case 65424:z=(0,j.readUint16)(P,N),Q={},Q.index=(0,j.readUint16)(P,N+2),Q.length=(0,j.readUint32)(P,N+4),Q.dataEnd=Q.length+N-2,Q.partIndex=P[N+8],Q.partsCount=P[N+9],w.mainHeader=!1,0===Q.partIndex&&(Q.COD=w.COD,Q.COC=w.COC.slice(0),Q.QCD=w.QCD,Q.QCC=w.QCC.slice(0)),w.currentTile=Q;break;case 65427:Q=w.currentTile,0===Q.partIndex&&(M(w,Q.index),B(w)),z=Q.dataEnd-N,g(w,P,N,z);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:z=(0,j.readUint16)(P,N);break;default:throw new Error("Unknown codestream code: "+H.toString(16))}N+=z}}catch(N){if(T||this.failOnCorruptedImage)throw new e(N.message);(0,n.warn)(`JPX: Trying to recover from: "${N.message}".`)}this.tiles=function h(A){const $=A.components,_=A.SIZ.Csiz,w=[];for(let T=0,N=A.tiles.length;T<N;T++){const H=A.tiles[T],z=[];for(let Z=0;Z<_;Z++)z[Z]=C(A,H,Z);const U=z[0],q=new Uint8ClampedArray(U.items.length*_),J={left:U.left,top:U.top,width:U.width,height:U.height,items:q};let oe,ne,R,X,G,Y,K,Q=0;if(H.codingStyleDefaultParameters.multipleComponentTransform){const Z=4===_,ae=z[0].items,ie=z[1].items,te=z[2].items,re=Z?z[3].items:null;oe=$[0].precision-8,ne=.5+(128<<oe);const le=_-3;if(X=ae.length,H.components[0].codingStyleParameters.reversibleTransformation)for(R=0;R<X;R++,Q+=le){G=ae[R]+ne,Y=ie[R],K=te[R];const ue=G-(K+Y>>2);q[Q++]=ue+K>>oe,q[Q++]=ue>>oe,q[Q++]=ue+Y>>oe}else for(R=0;R<X;R++,Q+=le)G=ae[R]+ne,Y=ie[R],K=te[R],q[Q++]=G+1.402*K>>oe,q[Q++]=G-.34413*Y-.71414*K>>oe,q[Q++]=G+1.772*Y>>oe;if(Z)for(R=0,Q=3;R<X;R++,Q+=4)q[Q]=re[R]+ne>>oe}else for(let Z=0;Z<_;Z++){const ae=z[Z].items;for(oe=$[Z].precision-8,ne=.5+(128<<oe),Q=Z,R=0,X=ae.length;R<X;R++)q[Q]=ae[R]+ne>>oe,Q+=_}w.push(J)}return w}(w),this.width=w.SIZ.Xsiz-w.SIZ.XOsiz,this.height=w.SIZ.Ysiz-w.SIZ.YOsiz,this.componentsCount=w.SIZ.Csiz}};class l{constructor(P,$){const _=(0,j.log2)(Math.max(P,$))+1;this.levels=[];for(let w=0;w<_;w++)this.levels.push({width:P,height:$,items:[]}),P=Math.ceil(P/2),$=Math.ceil($/2)}reset(P,$){let T,_=0,w=0;for(;_<this.levels.length;){T=this.levels[_];const N=P+$*T.width;if(void 0!==T.items[N]){w=T.items[N];break}T.index=N,P>>=1,$>>=1,_++}_--,T=this.levels[_],T.items[T.index]=w,this.currentLevel=_,delete this.value}incrementValue(){const P=this.levels[this.currentLevel];P.items[P.index]++}nextLevel(){let P=this.currentLevel,$=this.levels[P];const _=$.items[$.index];return P--,P<0?(this.value=_,!1):(this.currentLevel=P,$=this.levels[P],$.items[$.index]=_,!0)}}class r{constructor(P,$,_){const w=(0,j.log2)(Math.max(P,$))+1;this.levels=[];for(let T=0;T<w;T++){const N=new Uint8Array(P*$);for(let z=0,U=N.length;z<U;z++)N[z]=_;this.levels.push({width:P,height:$,items:N}),P=Math.ceil(P/2),$=Math.ceil($/2)}}reset(P,$,_){let w=0;for(;w<this.levels.length;){const T=this.levels[w],N=P+$*T.width;T.index=N;const H=T.items[N];if(255===H)break;if(H>_)return this.currentLevel=w,this.propagateValues(),!1;P>>=1,$>>=1,w++}return this.currentLevel=w-1,!0}incrementValue(P){const $=this.levels[this.currentLevel];$.items[$.index]=P+1,this.propagateValues()}propagateValues(){let P=this.currentLevel,$=this.levels[P];const _=$.items[$.index];for(;--P>=0;)$=this.levels[P],$.items[$.index]=_}nextLevel(){let P=this.currentLevel,$=this.levels[P];const _=$.items[$.index];return $.items[$.index]=255,P--,!(P<0||(this.currentLevel=P,$=this.levels[P],$.items[$.index]=_,0))}}class f{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(P,$,_,w,T){let N;this.width=P,this.height=$,N="HH"===_?f.HHContextLabel:"HL"===_?f.HLContextLabel:f.LLAndLHContextsLabel,this.contextLabelTable=N;const H=P*$;let z;this.neighborsSignificance=new Uint8Array(H),this.coefficentsSign=new Uint8Array(H),z=T>14?new Uint32Array(H):T>6?new Uint16Array(H):new Uint8Array(H),this.coefficentsMagnitude=z,this.processingFlags=new Uint8Array(H);const U=new Uint8Array(H);if(0!==w)for(let q=0;q<H;q++)U[q]=w;this.bitsDecoded=U,this.reset()}setDecoder(P){this.decoder=P}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[f.UNIFORM_CONTEXT]=92,this.contexts[f.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(P,$,_){const w=this.neighborsSignificance,T=this.width,N=this.height,H=$>0,z=$+1<T;let U;P>0&&(U=_-T,H&&(w[U-1]+=16),z&&(w[U+1]+=16),w[U]+=4),P+1<N&&(U=_+T,H&&(w[U-1]+=16),z&&(w[U+1]+=16),w[U]+=4),H&&(w[_-1]+=1),z&&(w[_+1]+=1),w[_]|=128}runSignificancePropagationPass(){const P=this.decoder,$=this.width,_=this.height,w=this.coefficentsMagnitude,T=this.coefficentsSign,N=this.neighborsSignificance,H=this.processingFlags,z=this.contexts,U=this.contextLabelTable,q=this.bitsDecoded;for(let Q=0;Q<_;Q+=4)for(let R=0;R<$;R++){let X=Q*$+R;for(let G=0;G<4;G++,X+=$){const Y=Q+G;if(Y>=_)break;if(H[X]&=-2,!w[X]&&N[X]){if(P.readBit(z,U[N[X]])){const ae=this.decodeSignBit(Y,R,X);T[X]=ae,w[X]=1,this.setNeighborsSignificance(Y,R,X),H[X]|=2}q[X]++,H[X]|=1}}}}decodeSignBit(P,$,_){const w=this.width,N=this.coefficentsMagnitude,H=this.coefficentsSign;let z,U,q,J,oe,ne;J=$>0&&0!==N[_-1],$+1<w&&0!==N[_+1]?(q=H[_+1],J?(U=H[_-1],z=1-q-U):z=1-q-q):J?(U=H[_-1],z=1-U-U):z=0;const Q=3*z;return J=P>0&&0!==N[_-w],P+1<this.height&&0!==N[_+w]?(q=H[_+w],J?(U=H[_-w],z=1-q-U+Q):z=1-q-q+Q):J?(U=H[_-w],z=1-U-U+Q):z=Q,z>=0?(oe=9+z,ne=this.decoder.readBit(this.contexts,oe)):(oe=9-z,ne=1^this.decoder.readBit(this.contexts,oe)),ne}runMagnitudeRefinementPass(){const P=this.decoder,$=this.width,w=this.coefficentsMagnitude,T=this.neighborsSignificance,N=this.contexts,H=this.bitsDecoded,z=this.processingFlags,J=$*this.height,oe=4*$;for(let Q,ne=0;ne<J;ne=Q){Q=Math.min(J,ne+oe);for(let R=0;R<$;R++)for(let X=ne+R;X<Q;X+=$){if(!w[X]||1&z[X])continue;let G=16;2&z[X]&&(z[X]^=2,G=0==(127&T[X])?15:14);const Y=P.readBit(N,G);w[X]=w[X]<<1|Y,H[X]++,z[X]|=1}}}runCleanupPass(){const P=this.decoder,$=this.width,_=this.height,w=this.neighborsSignificance,T=this.coefficentsMagnitude,N=this.coefficentsSign,H=this.contexts,z=this.contextLabelTable,U=this.bitsDecoded,q=this.processingFlags,ne=$,Q=2*$,R=3*$;let X;for(let G=0;G<_;G=X){X=Math.min(G+4,_);const Y=G*$,K=G+3<_;for(let Z=0;Z<$;Z++){const ae=Y+Z;let le,te=0,re=ae,ee=G;if(K&&0===q[ae]&&0===q[ae+ne]&&0===q[ae+Q]&&0===q[ae+R]&&0===w[ae]&&0===w[ae+ne]&&0===w[ae+Q]&&0===w[ae+R]){if(!P.readBit(H,f.RUNLENGTH_CONTEXT)){U[ae]++,U[ae+ne]++,U[ae+Q]++,U[ae+R]++;continue}te=P.readBit(H,f.UNIFORM_CONTEXT)<<1|P.readBit(H,f.UNIFORM_CONTEXT),0!==te&&(ee=G+te,re+=te*$),le=this.decodeSignBit(ee,Z,re),N[re]=le,T[re]=1,this.setNeighborsSignificance(ee,Z,re),q[re]|=2,re=ae;for(let fe=G;fe<=ee;fe++,re+=$)U[re]++;te++}for(ee=G+te;ee<X;ee++,re+=$)T[re]||1&q[re]||(1===P.readBit(H,z[w[re]])&&(le=this.decodeSignBit(ee,Z,re),N[re]=le,T[re]=1,this.setNeighborsSignificance(ee,Z,re),q[re]|=2),U[re]++)}}}checkSegmentationSymbol(){const P=this.decoder,$=this.contexts;if(10!=(P.readBit($,f.UNIFORM_CONTEXT)<<3|P.readBit($,f.UNIFORM_CONTEXT)<<2|P.readBit($,f.UNIFORM_CONTEXT)<<1|P.readBit($,f.UNIFORM_CONTEXT)))throw new e("Invalid segmentation symbol")}}class c{constructor(){this.constructor===c&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(P,$,_){let w=P[0];for(let T=1,N=P.length;T<N;T++)w=this.iterate(w,P[T],$,_);return w}extend(P,$,_){let w=$-1,T=$+1,N=$+_-2,H=$+_;P[w--]=P[T++],P[H++]=P[N--],P[w--]=P[T++],P[H++]=P[N--],P[w--]=P[T++],P[H++]=P[N--],P[w]=P[T],P[H]=P[N]}filter(P,$,_){(0,n.unreachable)("Abstract method `filter` called")}iterate(P,$,_,w){const T=P.width,N=P.height;let H=P.items;const z=$.width,U=$.height,q=$.items;let J,oe,ne,Q,R,X;for(ne=0,J=0;J<N;J++)for(Q=2*J*z,oe=0;oe<T;oe++,ne++,Q+=2)q[Q]=H[ne];H=P.items=null;const Y=new Float32Array(z+8);if(1===z){if(1&_)for(X=0,ne=0;X<U;X++,ne+=z)q[ne]*=.5}else for(X=0,ne=0;X<U;X++,ne+=z)Y.set(q.subarray(ne,ne+z),4),this.extend(Y,4,z),this.filter(Y,4,z),q.set(Y.subarray(4,4+z),ne);let K=16;const Z=[];for(J=0;J<K;J++)Z.push(new Float32Array(U+8));let ae,ie=0;if(P=4+U,1===U){if(1&w)for(R=0;R<z;R++)q[R]*=.5}else for(R=0;R<z;R++){if(0===ie){for(K=Math.min(z-R,K),ne=R,Q=4;Q<P;ne+=z,Q++)for(ae=0;ae<K;ae++)Z[ae][Q]=q[ne+ae];ie=K}ie--;const te=Z[ie];if(this.extend(te,4,U),this.filter(te,4,U),0===ie)for(ne=R-K+1,Q=4;Q<P;ne+=z,Q++)for(ae=0;ae<K;ae++)q[ne+ae]=Z[ae][Q]}return{width:z,height:U,items:q}}}class u extends c{filter(P,$,_){const w=_>>1;let T,N,H,z;const U=-1.586134342059924,q=-.052980118572961,J=.882911075530934,oe=.443506852043971,ne=1.230174104914001;for(T=($|=0)-3,N=w+4;N--;T+=2)P[T]*=.8128930661159609;for(T=$-2,H=oe*P[T-1],N=w+3;N--&&(z=oe*P[T+1],P[T]=ne*P[T]-H-z,N--);T+=2)T+=2,H=oe*P[T+1],P[T]=ne*P[T]-H-z;for(T=$-1,H=J*P[T-1],N=w+2;N--&&(z=J*P[T+1],P[T]-=H+z,N--);T+=2)T+=2,H=J*P[T+1],P[T]-=H+z;for(T=$,H=q*P[T-1],N=w+1;N--&&(z=q*P[T+1],P[T]-=H+z,N--);T+=2)T+=2,H=q*P[T+1],P[T]-=H+z;if(0!==w)for(T=$+1,H=U*P[T-1],N=w;N--&&(z=U*P[T+1],P[T]-=H+z,N--);T+=2)T+=2,H=U*P[T+1],P[T]-=H+z}}class I extends c{filter(P,$,_){const w=_>>1;let T,N;for(T=$|=0,N=w+1;N--;T+=2)P[T]-=P[T-1]+P[T+1]+2>>2;for(T=$+1,N=w;N--;T+=2)P[T]+=P[T-1]+P[T+1]>>1}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.LZWStream=void 0;var n=V(18);E.LZWStream=class j extends n.DecodeStream{constructor(e,t,a){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const F=4096,m={earlyChange:a,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(F),dictionaryLengths:new Uint16Array(F),dictionaryPrevCodes:new Uint16Array(F),currentSequence:new Uint8Array(F),currentSequenceLength:0};for(let y=0;y<256;++y)m.dictionaryValues[y]=y,m.dictionaryLengths[y]=1;this.lzwState=m}readBits(e){let t=this.bitsCached,a=this.cachedData;for(;t<e;){const F=this.str.getByte();if(-1===F)return this.eof=!0,null;a=a<<8|F,t+=8}return this.bitsCached=t-=e,this.cachedData=a,this.lastCode=null,a>>>t&(1<<e)-1}readBlock(){let F,m,y,a=1024;const k=this.lzwState;if(!k)return;const s=k.earlyChange;let p=k.nextCode;const i=k.dictionaryValues,D=k.dictionaryLengths,b=k.dictionaryPrevCodes;let O=k.codeLength,v=k.prevCode;const S=k.currentSequence;let d=k.currentSequenceLength,B=0,g=this.bufferLength,L=this.ensureBuffer(this.bufferLength+a);for(F=0;F<512;F++){const C=this.readBits(O),h=d>0;if(C<256)S[0]=C,d=1;else{if(!(C>=258)){if(256===C){O=9,p=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(C<p)for(d=D[C],m=d-1,y=C;m>=0;m--)S[m]=i[y],y=b[y];else S[d++]=S[0]}if(h&&(b[p]=v,D[p]=D[v]+1,i[p]=S[0],p++,O=p+s&p+s-1?O:0|Math.min(Math.log(p+s)/.6931471805599453+1,12)),v=C,B+=d,a<B){do{a+=512}while(a<B);L=this.ensureBuffer(this.bufferLength+a)}for(m=0;m<d;m++)L[g++]=S[m]}k.nextCode=p,k.codeLength=O,k.prevCode=v,k.currentSequenceLength=d,this.bufferLength=g}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PredictorStream=void 0;var n=V(18),j=V(4),x=V(2);E.PredictorStream=class e extends n.DecodeStream{constructor(a,F,m){if(super(F),!(m instanceof j.Dict))return a;const y=this.predictor=m.get("Predictor")||1;if(y<=1)return a;if(2!==y&&(y<10||y>15))throw new x.FormatError(`Unsupported predictor: ${y}`);this.readBlock=2===y?this.readBlockTiff:this.readBlockPng,this.str=a,this.dict=a.dict;const k=this.colors=m.get("Colors")||1,s=this.bits=m.get("BPC","BitsPerComponent")||8,p=this.columns=m.get("Columns")||1;return this.pixBytes=k*s+7>>3,this.rowBytes=p*k*s+7>>3,this}readBlockTiff(){const a=this.rowBytes,F=this.bufferLength,m=this.ensureBuffer(F+a),y=this.bits,k=this.colors,s=this.str.getBytes(a);if(this.eof=!s.length,this.eof)return;let v,p=0,i=0,D=0,b=0,O=F;if(1===y&&1===k)for(v=0;v<a;++v){let S=s[v]^p;S^=S>>1,S^=S>>2,S^=S>>4,p=(1&S)<<7,m[O++]=S}else if(8===y){for(v=0;v<k;++v)m[O++]=s[v];for(;v<a;++v)m[O]=m[O-k]+s[v],O++}else if(16===y){const S=2*k;for(v=0;v<S;++v)m[O++]=s[v];for(;v<a;v+=2){const d=((255&s[v])<<8)+(255&s[v+1])+((255&m[O-S])<<8)+(255&m[O-S+1]);m[O++]=d>>8&255,m[O++]=255&d}}else{const S=new Uint8Array(k+1),d=(1<<y)-1;let B=0,g=F;const L=this.columns;for(v=0;v<L;++v)for(let C=0;C<k;++C)D<y&&(p=p<<8|255&s[B++],D+=8),S[C]=S[C]+(p>>D-y)&d,D-=y,i=i<<y|S[C],b+=y,b>=8&&(m[g++]=i>>b-8&255,b-=8);b>0&&(m[g++]=(i<<8-b)+(p&(1<<8-b)-1))}this.bufferLength+=a}readBlockPng(){const a=this.rowBytes,F=this.pixBytes,m=this.str.getByte(),y=this.str.getBytes(a);if(this.eof=!y.length,this.eof)return;const k=this.bufferLength,s=this.ensureBuffer(k+a);let p=s.subarray(k-a,k);0===p.length&&(p=new Uint8Array(a));let i,b,O,D=k;switch(m){case 0:for(i=0;i<a;++i)s[D++]=y[i];break;case 1:for(i=0;i<F;++i)s[D++]=y[i];for(;i<a;++i)s[D]=s[D-F]+y[i]&255,D++;break;case 2:for(i=0;i<a;++i)s[D++]=p[i]+y[i]&255;break;case 3:for(i=0;i<F;++i)s[D++]=(p[i]>>1)+y[i];for(;i<a;++i)s[D]=(p[i]+s[D-F]>>1)+y[i]&255,D++;break;case 4:for(i=0;i<F;++i)b=p[i],O=y[i],s[D++]=b+O;for(;i<a;++i){b=p[i];const v=p[i-F],S=s[D-F],d=S+b-v;let B=d-S;B<0&&(B=-B);let g=d-b;g<0&&(g=-g);let L=d-v;L<0&&(L=-L),O=y[i],s[D++]=B<=g&&B<=L?S+O:g<=L?b+O:v+O}break;default:throw new x.FormatError(`Unsupported predictor: ${m}`)}this.bufferLength+=a}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.RunLengthStream=void 0;var n=V(18);E.RunLengthStream=class j extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])return void(this.eof=!0);let t,a=this.bufferLength,F=e[0];if(F<128){if(t=this.ensureBuffer(a+F+1),t[a++]=e[1],F>0){const m=this.str.getBytes(F);t.set(m,a),a+=F}}else{F=257-F;const m=e[1];t=this.ensureBuffer(a+F+1);for(let y=0;y<F;y++)t[a++]=m}this.bufferLength=a}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Font=E.ErrorFont=void 0;var n=V(2),j=V(35),x=V(38),e=V(40),t=V(39),a=V(37),F=V(41),m=V(42),y=V(43),k=V(44),s=V(45),p=V(46),i=V(14),D=V(47),b=V(3),O=V(8),v=V(48);const S=[[57344,63743],[1048576,1114109]],d=1e3,B=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],g=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function L(ie){if(!ie.fontMatrix||ie.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const te=.001/ie.fontMatrix[0],re=ie.widths;for(const ee in re)re[ee]*=te;ie.defaultWidth*=te}function M(ie){if(!ie.fallbackToUnicode||ie.toUnicode instanceof m.IdentityToUnicodeMap)return;const te=[];for(const re in ie.fallbackToUnicode)ie.toUnicode.has(re)||(te[re]=ie.fallbackToUnicode[re]);te.length>0&&ie.toUnicode.amend(te)}class l{constructor(te,re,ee,le,ue,fe,Se,Ce,ve){this.originalCharCode=te,this.fontChar=re,this.unicode=ee,this.accent=le,this.width=ue,this.vmetric=fe,this.operatorListId=Se,this.isSpace=Ce,this.isInFont=ve}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function r(ie,te){return(ie<<8)+te}function f(ie,te,re){ie[te+1]=re,ie[te]=re>>>8}function c(ie,te){const re=(ie<<8)+te;return 32768&re?re-65536:re}function I(ie){return String.fromCharCode(ie>>8&255,255&ie)}function A(ie){return ie>32767?ie=32767:ie<-32768&&(ie=-32768),String.fromCharCode(ie>>8&255,255&ie)}function $(ie){const te=ie.peekBytes(4);return"ttcf"===(0,n.bytesToString)(te)}function H(ie,te){for(const re in te)ie[+re]=te[re]}function z(ie,te,re){const ee=[];let le;for(let ue=0,fe=ie.length;ue<fe;ue++)le=(0,e.getUnicodeForGlyph)(ie[ue],te),-1!==le&&(ee[ue]=le);for(const ue in re)le=(0,e.getUnicodeForGlyph)(re[ue],te),-1!==le&&(ee[+ue]=le);return ee}function q(ie){return 3===ie.platform&&1===ie.encoding&&1033===ie.language}function J(ie,te,re=!1){switch(te.length){case 1:return te.charCodeAt(0);case 2:return te.charCodeAt(0)<<8|te.charCodeAt(1)}const ee=`Unsupported CID string (charCode ${ie}): "${te}".`;if(re)throw new n.FormatError(ee);return(0,n.warn)(ee),te}function oe(ie,te,re,ee){const le=Object.create(null),ue=new Map,fe=[],Se=new Set;let Ce=0,me=S[Ce][0],de=S[Ce][1];const ge=Ae=>S[0][0]<=Ae&&Ae<=S[0][1]||S[1][0]<=Ae&&Ae<=S[1][1];for(let Ae in ie){Ae|=0;let be=ie[Ae];if(!te(be))continue;if(me>de){if(Ce++,Ce>=S.length){(0,n.warn)("Ran out of space in font private use area.");break}me=S[Ce][0],de=S[Ce][1]}const pe=me++;0===be&&(be=re);let xe=ee.get(Ae);"string"==typeof xe&&(xe=xe.codePointAt(0)),xe&&!ge(xe)&&!Se.has(be)&&(ue.set(xe,be),Se.add(be)),le[pe]=be,fe[Ae]=pe}return{toFontChar:fe,charCodeToGlyphId:le,toUnicodeExtraMap:ue,nextAvailableFontCharCode:me}}function Q(ie,te,re){const ee=function ne(ie,te,re){const ee=[];for(const fe in ie)ie[fe]>=re||ee.push({fontCharCode:0|fe,glyphId:ie[fe]});if(te)for(const[fe,Se]of te)Se>=re||ee.push({fontCharCode:fe,glyphId:Se});0===ee.length&&ee.push({fontCharCode:0,glyphId:0}),ee.sort(function(Se,Ce){return Se.fontCharCode-Ce.fontCharCode});const le=[],ue=ee.length;for(let fe=0;fe<ue;){const Se=ee[fe].fontCharCode,Ce=[ee[fe].glyphId];++fe;let ve=Se;for(;fe<ue&&ve+1===ee[fe].fontCharCode&&(Ce.push(ee[fe].glyphId),++ve,++fe,65535!==ve););le.push([Se,ve,Ce])}return le}(ie,te,re),le=ee.at(-1)[1]>65535?2:1;let fe,Se,Ce,ve,ue="\0\0"+I(le)+"\0\x03\0\x01"+(0,n.string32)(4+8*le);for(fe=ee.length-1;fe>=0&&!(ee[fe][0]<=65535);--fe);const me=fe+1;ee[fe][0]<65535&&65535===ee[fe][1]&&(ee[fe][1]=65534);const de=ee[fe][1]<65535?1:0,ge=me+de,Ae=D.OpenTypeFileBuilder.getSearchParams(ge,2);let $e,qe,Ke,Oe,be="",pe="",xe="",we="",Ne="",He=0;for(fe=0,Se=me;fe<Se;fe++){$e=ee[fe],qe=$e[0],Ke=$e[1],be+=I(qe),pe+=I(Ke),Oe=$e[2];let Be=!0;for(Ce=1,ve=Oe.length;Ce<ve;++Ce)if(Oe[Ce]!==Oe[Ce-1]+1){Be=!1;break}if(Be)xe+=I(Oe[0]-qe&65535),we+=I(0);else{const Je=2*(ge-fe)+2*He;for(He+=Ke-qe+1,xe+=I(0),we+=I(Je),Ce=0,ve=Oe.length;Ce<ve;++Ce)Ne+=I(Oe[Ce])}}de>0&&(pe+="\xff\xff",be+="\xff\xff",xe+="\0\x01",we+="\0\0");const Pe="\0\0"+I(2*ge)+I(Ae.range)+I(Ae.entry)+I(Ae.rangeShift)+pe+"\0\0"+be+xe+we+Ne;let ze="",Ze="";if(le>1){for(ue+="\0\x03\0\n"+(0,n.string32)(4+8*le+4+Pe.length),ze="",fe=0,Se=ee.length;fe<Se;fe++){$e=ee[fe],qe=$e[0],Oe=$e[2];let Be=Oe[0];for(Ce=1,ve=Oe.length;Ce<ve;++Ce)Oe[Ce]!==Oe[Ce-1]+1&&(Ke=$e[0]+Ce-1,ze+=(0,n.string32)(qe)+(0,n.string32)(Ke)+(0,n.string32)(Be),qe=Ke+1,Be=Oe[Ce]);ze+=(0,n.string32)(qe)+(0,n.string32)($e[1])+(0,n.string32)(Be)}Ze="\0\f\0\0"+(0,n.string32)(ze.length+16)+"\0\0\0\0"+(0,n.string32)(ze.length/12)}return ue+"\0\x04"+I(Pe.length+4)+Pe+Ze+ze}function X(ie,te,re){re||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let ee=0,le=0,ue=0,fe=0,Se=null,Ce=0,ve=-1;if(te){for(let we in te)if(we|=0,(Se>we||!Se)&&(Se=we),Ce<we&&(Ce=we),ve=(0,e.getUnicodeRangeFor)(we,ve),ve<32)ee|=1<<ve;else if(ve<64)le|=1<<ve-32;else if(ve<96)ue|=1<<ve-64;else{if(!(ve<123))throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");fe|=1<<ve-96}Ce>65535&&(Ce=65535)}else Se=0,Ce=255;const me=ie.bbox||[0,0,0,0],ge=ie.ascentScaled?1:(re.unitsPerEm||1/(ie.fontMatrix||n.FONT_IDENTITY_MATRIX)[0])/d,Ae=re.ascent||Math.round(ge*(ie.ascent||me[3]));let be=re.descent||Math.round(ge*(ie.descent||me[1]));be>0&&ie.descent>0&&me[1]<0&&(be=-be);const pe=re.yMax||Ae,xe=-re.yMin||-be;return"\0\x03\x02$\x01\xf4\0\x05\0\0\x02\x8a\x02\xbb\0\0\0\x8c\x02\x8a\x02\xbb\0\0\x01\xdf\x001\x01\x02\0\0\0\0\x06"+String.fromCharCode(ie.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(ee)+(0,n.string32)(le)+(0,n.string32)(ue)+(0,n.string32)(fe)+"*21*"+I(ie.italicAngle?1:0)+I(Se||ie.firstChar)+I(Ce||ie.lastChar)+I(Ae)+I(be)+"\0d"+I(pe)+I(xe)+"\0\0\0\0\0\0\0\0"+I(ie.xHeight)+I(ie.capHeight)+I(0)+I(Se||ie.firstChar)+"\0\x03"}function G(ie){const te=Math.floor(65536*ie.italicAngle);return"\0\x03\0\0"+(0,n.string32)(te)+"\0\0\0\0"+(0,n.string32)(ie.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function Y(ie){return ie.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function K(ie,te){te||(te=[[],[]]);const re=[te[0][0]||"Original licence",te[0][1]||ie,te[0][2]||"Unknown",te[0][3]||"uniqueID",te[0][4]||ie,te[0][5]||"Version 0.11",te[0][6]||Y(ie),te[0][7]||"Unknown",te[0][8]||"Unknown",te[0][9]||"Unknown"],ee=[];let le,ue,fe,Se,Ce;for(le=0,ue=re.length;le<ue;le++){Ce=te[1][le]||re[le];const xe=[];for(fe=0,Se=Ce.length;fe<Se;fe++)xe.push(I(Ce.charCodeAt(fe)));ee.push(xe.join(""))}const ve=[re,ee],me=["\0\x01","\0\x03"],de=["\0\0","\0\x01"],ge=["\0\0","\x04\t"],Ae=re.length*me.length;let be="\0\0"+I(Ae)+I(12*Ae+6),pe=0;for(le=0,ue=me.length;le<ue;le++){const xe=ve[le];for(fe=0,Se=xe.length;fe<Se;fe++)Ce=xe[fe],be+=me[le]+de[le]+ge[le]+I(fe)+I(Ce.length)+I(pe),pe+=Ce.length}return be+=re.join("")+ee.join(""),be}E.Font=class Z{constructor(te,re,ee){this.name=te,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=ee.loadedName,this.isType3Font=ee.isType3Font,this.missingFile=!1,this.cssFontInfo=ee.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let le=!!(ee.flags&x.FontFlags.Serif);if(!le&&!ee.isSimulatedFlags){const ve=te.replaceAll(/[,_]/g,"-").split("-")[0],me=(0,F.getSerifFonts)();for(const de of ve.split("+"))if(me[de]){le=!0;break}}this.isSerifFont=le,this.isSymbolicFont=!!(ee.flags&x.FontFlags.Symbolic),this.isMonospace=!!(ee.flags&x.FontFlags.FixedPitch);let{type:ue,subtype:fe}=ee;this.type=ue,this.subtype=fe,this.systemFontInfo=ee.systemFontInfo;const Se=te.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Se,this.fallbackName=this.isInvalidPDFjsFont?Se[1]:this.isMonospace?"monospace":this.isSerifFont?"serif":"sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=ee.differences,this.widths=ee.widths,this.defaultWidth=ee.defaultWidth,this.composite=ee.composite,this.cMap=ee.cMap,this.capHeight=ee.capHeight/d,this.ascent=ee.ascent/d,this.descent=ee.descent/d,this.lineHeight=this.ascent-this.descent,this.fontMatrix=ee.fontMatrix,this.bbox=ee.bbox,this.defaultEncoding=ee.defaultEncoding,this.toUnicode=ee.toUnicode,this.toFontChar=[],"Type3"===ee.type){for(let ve=0;ve<256;ve++)this.toFontChar[ve]=this.differences[ve]||ee.defaultEncoding[ve];return}if(this.cidEncoding=ee.cidEncoding||"",this.vertical=!!ee.vertical,this.vertical&&(this.vmetrics=ee.vmetrics,this.defaultVMetrics=ee.defaultVMetrics),!re||re.isEmpty)return re&&(0,n.warn)('Font file is empty in "'+te+'" ('+this.loadedName+")"),void this.fallbackToSystemFont(ee);let Ce;[ue,fe]=function N(ie,{type:te,subtype:re,composite:ee}){let le,ue;return function P(ie){const te=ie.peekBytes(4);return 65536===(0,b.readUint32)(te,0)||"true"===(0,n.bytesToString)(te)}(ie)||$(ie)?le=ee?"CIDFontType2":"TrueType":function _(ie){const te=ie.peekBytes(4);return"OTTO"===(0,n.bytesToString)(te)}(ie)?le=ee?"CIDFontType2":"OpenType":function w(ie){const te=ie.peekBytes(2);return 37===te[0]&&33===te[1]||128===te[0]&&1===te[1]}(ie)?le=ee?"CIDFontType0":"MMType1"===te?"MMType1":"Type1":function T(ie){const te=ie.peekBytes(4);return te[0]>=1&&te[3]>=1&&te[3]<=4}(ie)?ee?(le="CIDFontType0",ue="CIDFontType0C"):(le="MMType1"===te?"MMType1":"Type1",ue="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),le=te,ue=re),[le,ue]}(re,ee),(ue!==this.type||fe!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${ue}/${fe}.`);try{switch(ue){case"MMType1":(0,n.info)("MMType1 font ("+te+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const ve="Type1C"===fe||"CIDFontType0C"===fe?new y.CFFFont(re,ee):new v.Type1Font(te,re,ee);L(ee),Ce=this.convert(te,ve,ee);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Ce=this.checkAndRepair(te,re,ee),this.isOpenType&&(L(ee),ue="OpenType");break;default:throw new n.FormatError(`Font ${ue} is not supported`)}}catch(ve){return(0,n.warn)(ve),void this.fallbackToSystemFont(ee)}M(ee),this.data=Ce,this.type=ue,this.subtype=fe,this.fontMatrix=ee.fontMatrix,this.widths=ee.widths,this.defaultWidth=ee.defaultWidth,this.toUnicode=ee.toUnicode,this.seacMap=ee.seacMap}get renderer(){const te=k.FontRendererFactory.create(this,x.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",te)}exportData(te=!1){const re=te?[...B,...g]:B,ee=Object.create(null);let le,ue;for(le of re)ue=this[le],void 0!==ue&&(ee[le]=ue);return ee}fallbackToSystemFont(te){this.missingFile=!0;const{name:re,type:ee}=this;let le=(0,x.normalizeFontName)(re);const ue=(0,F.getStdFontMap)(),fe=(0,F.getNonStdFontMap)(),Se=!!ue[le],Ce=!(!fe[le]||!ue[fe[le]]);le=ue[le]||fe[le]||le;const me=(0,s.getFontBasicMetrics)()[le];me&&(isNaN(this.ascent)&&(this.ascent=me.ascent/d),isNaN(this.descent)&&(this.descent=me.descent/d),isNaN(this.capHeight)&&(this.capHeight=me.capHeight/d)),this.bold=/bold/gi.test(le),this.italic=/oblique|italic/gi.test(le),this.black=/Black/g.test(re);const de=/Narrow/g.test(re);if(this.remeasure=(!Se||de)&&Object.keys(this.widths).length>0,(Se||Ce)&&"CIDFontType2"===ee&&this.cidEncoding.startsWith("Identity-")){const ge=te.cidToGidMap,Ae=[];if(H(Ae,(0,F.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(re)?H(Ae,(0,F.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(re)&&H(Ae,(0,F.getSupplementalGlyphMapForCalibri)()),ge){for(const be in Ae){const pe=Ae[be];void 0!==ge[pe]&&(Ae[+be]=ge[pe])}ge.length!==this.toUnicode.length&&te.hasIncludedToUnicodeMap&&this.toUnicode instanceof m.IdentityToUnicodeMap&&this.toUnicode.forEach(function(be,pe){void 0===ge[Ae[be]]&&(Ae[+be]=pe)})}this.toUnicode instanceof m.IdentityToUnicodeMap||this.toUnicode.forEach(function(be,pe){Ae[+be]=pe}),this.toFontChar=Ae,this.toUnicode=new m.ToUnicodeMap(Ae)}else if(/Symbol/i.test(le))this.toFontChar=z(a.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(le))this.toFontChar=z(a.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Se){const ge=z(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);"CIDFontType2"===ee&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof m.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Ae,be){ge[+Ae]=be}),this.toFontChar=ge}else{const ge=(0,t.getGlyphsUnicode)(),Ae=[];this.toUnicode.forEach((be,pe)=>{if(!this.composite){const we=(0,e.getUnicodeForGlyph)(this.differences[be]||this.defaultEncoding[be],ge);-1!==we&&(pe=we)}Ae[+be]=pe}),this.composite&&this.toUnicode instanceof m.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(re)&&H(Ae,(0,F.getGlyphMapForStandardFonts)()),this.toFontChar=Ae}M(te),this.loadedName=le.split("-")[0]}checkAndRepair(te,re,ee){const le=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function ue(_e,Ie){const De=Object.create(null);De["OS/2"]=null,De.cmap=null,De.head=null,De.hhea=null,De.hmtx=null,De.maxp=null,De.name=null,De.post=null;for(let Re=0;Re<Ie;Re++){const je=fe(_e);le.includes(je.tag)&&0!==je.length&&(De[je.tag]=je)}return De}function fe(_e){const Ie=_e.getString(4),De=_e.getInt32()>>>0,Re=_e.getInt32()>>>0,je=_e.getInt32()>>>0,it=_e.pos;_e.pos=_e.start||0,_e.skip(Re);const Ge=_e.getBytes(je);return _e.pos=it,"head"===Ie&&(Ge[8]=Ge[9]=Ge[10]=Ge[11]=0,Ge[17]|=32),{tag:Ie,checksum:De,length:je,offset:Re,data:Ge}}function Se(_e){return{version:_e.getString(4),numTables:_e.getUint16(),searchRange:_e.getUint16(),entrySelector:_e.getUint16(),rangeShift:_e.getUint16()}}function ge(_e,Ie,De,Re,je,it){const Ge={length:0,sizeOfInstructions:0};if(Ie<0||Ie>=_e.length||De>_e.length||De-Ie<=12)return Ge;const Me=_e.subarray(Ie,De),ot=c(Me[2],Me[3]),nt=c(Me[4],Me[5]),xt=c(Me[6],Me[7]),ct=c(Me[8],Me[9]);ot>xt&&(f(Me,2,xt),f(Me,6,ot)),nt>ct&&(f(Me,4,ct),f(Me,8,nt));const ht=c(Me[0],Me[1]);if(ht<0)return ht<-1||(Re.set(Me,je),Ge.length=Me.length),Ge;let mt,We=10,rt=0;for(mt=0;mt<ht;mt++)rt=1+(Me[We]<<8|Me[We+1]),We+=2;const Ve=We,gt=Me[We]<<8|Me[We+1];Ge.sizeOfInstructions=gt,We+=2+gt;const wt=We;let Rt=0;for(mt=0;mt<rt;mt++){const ft=Me[We++];192&ft&&(Me[We-1]=63&ft);let Tt=2;2&ft?Tt=1:16&ft&&(Tt=0);let Pt=2;4&ft?Pt=1:32&ft&&(Pt=0);const Nt=Tt+Pt;if(Rt+=Nt,8&ft){const Ut=Me[We++];0===Ut&&(Me[We-1]^=8),mt+=Ut,Rt+=Ut*Nt}}if(0===Rt)return Ge;let ut=We+Rt;return ut>Me.length?Ge:!it&&gt>0?(Re.set(Me.subarray(0,Ve),je),Re.set([0,0],je+Ve),Re.set(Me.subarray(wt,ut),je+Ve+2),ut-=gt,Me.length-ut>3&&(ut=ut+3&-4),Ge.length=ut,Ge):Me.length-ut>3?(ut=ut+3&-4,Re.set(Me.subarray(0,ut),je),Ge.length=ut,Ge):(Re.set(Me,je),Ge.length=Me.length,Ge)}function xe(_e){const Ie=(re.start||0)+_e.offset;re.pos=Ie;const De=[[],[]],Re=[],je=_e.length,it=Ie+je;if(0!==re.getUint16()||je<6)return[De,Re];const ot=re.getUint16(),nt=re.getUint16();let ct,ht;for(ct=0;ct<ot&&re.pos+12<=it;ct++){const mt={platform:re.getUint16(),encoding:re.getUint16(),language:re.getUint16(),name:re.getUint16(),length:re.getUint16(),offset:re.getUint16()};(1===(ie=mt).platform&&0===ie.encoding&&0===ie.language||q(mt))&&Re.push(mt)}var ie;for(ct=0,ht=Re.length;ct<ht;ct++){const mt=Re[ct];if(mt.length<=0)continue;const We=Ie+nt+mt.offset;if(We+mt.length>it)continue;re.pos=We;const rt=mt.name;if(mt.encoding){let Ve="";for(let gt=0,wt=mt.length;gt<wt;gt+=2)Ve+=String.fromCharCode(re.getUint16());De[1][rt]=Ve}else De[0][rt]=re.getString(mt.length)}return[De,Re]}const we=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Ne(_e,Ie){let je,it,Ge,Me,ot,De=_e.data,Re=0,nt=0,xt=0;const ct=[],ht=[],mt=[];let We=Ie.tooComplexToFollowFunctions,rt=!1,Ve=0,gt=0;for(let Rt=De.length;Re<Rt;){const ut=De[Re++];if(64===ut)if(it=De[Re++],rt||gt)Re+=it;else for(je=0;je<it;je++)ct.push(De[Re++]);else if(65===ut)if(it=De[Re++],rt||gt)Re+=2*it;else for(je=0;je<it;je++)Ge=De[Re++],ct.push(Ge<<8|De[Re++]);else if(176==(248&ut))if(it=ut-176+1,rt||gt)Re+=it;else for(je=0;je<it;je++)ct.push(De[Re++]);else if(184==(248&ut))if(it=ut-184+1,rt||gt)Re+=2*it;else for(je=0;je<it;je++)Ge=De[Re++],ct.push(Ge<<8|De[Re++]);else if(43!==ut||We)if(44!==ut||We){if(45===ut)if(rt)rt=!1,nt=Re;else{if(ot=ht.pop(),!ot)return(0,n.warn)("TT: ENDF bad stack"),void(Ie.hintsValid=!1);Me=mt.pop(),De=ot.data,Re=ot.i,Ie.functionsStackDeltas[Me]=ct.length-ot.stackTop}else if(137===ut)(rt||gt)&&((0,n.warn)("TT: nested IDEFs not allowed"),We=!0),rt=!0,xt=Re;else if(88===ut)++Ve;else if(27===ut)gt=Ve;else if(89===ut)gt===Ve&&(gt=0),--Ve;else if(28===ut&&!rt&&!gt){const ft=ct.at(-1);ft>0&&(Re+=ft-1)}}else(rt||gt)&&((0,n.warn)("TT: nested FDEFs not allowed"),We=!0),rt=!0,xt=Re,Me=ct.pop(),Ie.functionsDefined[Me]={data:De,i:Re};else if(!rt&&!gt)if(Me=ct.at(-1),isNaN(Me))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Ie.functionsUsed[Me]=!0,Me in Ie.functionsStackDeltas){const ft=ct.length+Ie.functionsStackDeltas[Me];if(ft<0)return(0,n.warn)("TT: CALL invalid functions stack delta."),void(Ie.hintsValid=!1);ct.length=ft}else if(Me in Ie.functionsDefined&&!mt.includes(Me)){if(ht.push({data:De,i:Re,stackTop:ct.length-1}),mt.push(Me),ot=Ie.functionsDefined[Me],!ot)return(0,n.warn)("TT: CALL non-existent function"),void(Ie.hintsValid=!1);De=ot.data,Re=ot.i}if(!rt&&!gt){let ft=0;for(ut<=142?ft=we[ut]:ut>=192&&ut<=223?ft=-1:ut>=224&&(ft=-2),ut>=113&&ut<=117&&(it=ct.pop(),isNaN(it)||(ft=2*-it));ft<0&&ct.length>0;)ct.pop(),ft++;for(;ft>0;)ct.push(NaN),ft--}}Ie.tooComplexToFollowFunctions=We;const wt=[De];Re>De.length&&wt.push(new Uint8Array(Re-De.length)),xt>nt&&((0,n.warn)("TT: complementing a missing function tail"),wt.push(new Uint8Array([34,45]))),function $e(_e,Ie){if(Ie.length>1){let Re,je,De=0;for(Re=0,je=Ie.length;Re<je;Re++)De+=Ie[Re].length;De=De+3&-4;const it=new Uint8Array(De);let Ge=0;for(Re=0,je=Ie.length;Re<je;Re++)it.set(Ie[Re],Ge),Ge+=Ie[Re].length;_e.data=it,_e.length=De}}(_e,wt)}let Ke,Oe,Pe,ze;if($(re=new O.Stream(new Uint8Array(re.getBytes())))){const _e=function ve(_e,Ie){const{numFonts:De,offsetTable:Re}=function Ce(_e){const Ie=_e.getString(4);(0,n.assert)("ttcf"===Ie,"Must be a TrueType Collection font.");const De=_e.getUint16(),Re=_e.getUint16(),je=_e.getInt32()>>>0,it=[];for(let Me=0;Me<je;Me++)it.push(_e.getInt32()>>>0);const Ge={ttcTag:Ie,majorVersion:De,minorVersion:Re,numFonts:je,offsetTable:it};switch(De){case 1:return Ge;case 2:return Ge.dsigTag=_e.getInt32()>>>0,Ge.dsigLength=_e.getInt32()>>>0,Ge.dsigOffset=_e.getInt32()>>>0,Ge}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${De}.`)}(_e),je=Ie.split("+");let it;for(let Ge=0;Ge<De;Ge++){_e.pos=(_e.start||0)+Re[Ge];const Me=Se(_e),ot=ue(_e,Me.numTables);if(!ot.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[nt]=xe(ot.name);for(let xt=0,ct=nt.length;xt<ct;xt++)for(let ht=0,mt=nt[xt].length;ht<mt;ht++){const We=nt[xt][ht]?.replaceAll(/\s/g,"");if(We){if(We===Ie)return{header:Me,tables:ot};if(!(je.length<2))for(const rt of je)We===rt&&(it={name:rt,header:Me,tables:ot})}}}if(it)return(0,n.warn)(`TrueType Collection does not contain "${Ie}" font, falling back to "${it.name}" font instead.`),{header:it.header,tables:it.tables};throw new n.FormatError(`TrueType Collection does not contain "${Ie}" font.`)}(re,this.name);Ke=_e.header,Oe=_e.tables}else Ke=Se(re),Oe=ue(re,Ke.numTables);const Ze=!Oe["CFF "];if(Ze){if(!Oe.loca)throw new n.FormatError('Required "loca" table is not found');Oe.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),Oe.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{if("OTTO"===Ke.version&&(!ee.composite||!(ee.cidToGidMap?.length>0)&&ee.cMap instanceof i.IdentityCMap)||!Oe.head||!Oe.hhea||!Oe.maxp||!Oe.post)return ze=new O.Stream(Oe["CFF "].data),Pe=new y.CFFFont(ze,ee),L(ee),this.convert(te,Pe,ee);delete Oe.glyf,delete Oe.loca,delete Oe.fpgm,delete Oe.prep,delete Oe["cvt "],this.isOpenType=!0}if(!Oe.maxp)throw new n.FormatError('Required "maxp" table is not found');re.pos=(re.start||0)+Oe.maxp.offset;const Be=re.getInt32(),Je=re.getUint16();if(ee.scaleFactors?.length===Je&&Ze){const{scaleFactors:_e}=ee,Ie=r(Oe.head.data[50],Oe.head.data[51]),De=new p.GlyfTable({glyfTable:Oe.glyf.data,isGlyphLocationsLong:Ie,locaTable:Oe.loca.data,numGlyphs:Je});De.scale(_e);const{glyf:Re,loca:je,isLocationLong:it}=De.write();Oe.glyf.data=Re,Oe.loca.data=je,it!==!!Ie&&(Oe.head.data[50]=0,Oe.head.data[51]=it?1:0);const Ge=Oe.hmtx.data;for(let Me=0;Me<Je;Me++){const ot=4*Me,nt=Math.round(_e[Me]*r(Ge[ot],Ge[ot+1]));Ge[ot]=nt>>8&255,Ge[ot+1]=255&nt,f(Ge,ot+2,Math.round(_e[Me]*c(Ge[ot+2],Ge[ot+3])))}}let Ye=Je+1,Qe=!0;Ye>65535&&(Qe=!1,Ye=Je,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let lt=0,Ue=0;Be>=65536&&Oe.maxp.length>=22&&(re.pos+=8,re.getUint16()>2&&(Oe.maxp.data[14]=0,Oe.maxp.data[15]=2),re.pos+=4,lt=re.getUint16(),re.pos+=4,Ue=re.getUint16()),Oe.maxp.data[4]=Ye>>8,Oe.maxp.data[5]=255&Ye;const at=function qe(_e,Ie,De,Re){const je={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(_e&&Ne(_e,je),Ie&&Ne(Ie,je),_e&&function He(_e,Ie){if(!_e.tooComplexToFollowFunctions){if(_e.functionsDefined.length>Ie)return(0,n.warn)("TT: more functions defined than expected"),void(_e.hintsValid=!1);for(let De=0,Re=_e.functionsUsed.length;De<Re;De++){if(De>Ie)return(0,n.warn)("TT: invalid function id: "+De),void(_e.hintsValid=!1);if(_e.functionsUsed[De]&&!_e.functionsDefined[De])return(0,n.warn)("TT: undefined function: "+De),void(_e.hintsValid=!1)}}}(je,Re),De&&1&De.length){const it=new Uint8Array(De.length+1);it.set(De.data),De.data=it}return je.hintsValid}(Oe.fpgm,Oe.prep,Oe["cvt "],lt);if(at||(delete Oe.fpgm,delete Oe.prep,delete Oe["cvt "]),function de(_e,Ie,De,Re,je,it){if(!Ie)return void(De&&(De.data=null));_e.pos=(_e.start||0)+Ie.offset,_e.pos+=4,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2,_e.pos+=2;const Ge=_e.getUint16();_e.pos+=8,_e.pos+=2;let Me=_e.getUint16();0!==Ge&&(2&r(Re.data[44],Re.data[45])||(Ie.data[22]=0,Ie.data[23]=0)),Me>je&&((0,n.info)(`The numOfMetrics (${Me}) should not be greater than the numGlyphs (${je}).`),Me=je,Ie.data[34]=(65280&Me)>>8,Ie.data[35]=255&Me);const nt=je-Me-(De.length-4*Me>>1);if(nt>0){const xt=new Uint8Array(De.length+2*nt);xt.set(De.data),it&&(xt[De.length]=De.data[2],xt[De.length+1]=De.data[3]),De.data=xt}}(re,Oe.hhea,Oe.hmtx,Oe.head,Ye,Qe),!Oe.head)throw new n.FormatError('Required "head" table is not found');!function Ae(_e,Ie,De){const Re=_e.data,je=function u(ie,te,re,ee){return(ie<<24)+(te<<16)+(re<<8)+ee}(Re[0],Re[1],Re[2],Re[3]);je>>16!=1&&((0,n.info)("Attempting to fix invalid version in head table: "+je),Re[0]=0,Re[1]=1,Re[2]=0,Re[3]=0);const it=r(Re[50],Re[51]);if(it<0||it>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+it);const Ge=Ie+1;if(De===Ge<<1)Re[50]=0,Re[51]=0;else{if(De!==Ge<<2)throw new n.FormatError("Could not fix indexToLocFormat: "+it);Re[50]=0,Re[51]=1}}}(Oe.head,Je,Ze?Oe.loca.length:0);let Xe=Object.create(null);if(Ze){const _e=r(Oe.head.data[50],Oe.head.data[51]),Ie=function be(_e,Ie,De,Re,je,it,Ge){let Me,ot,nt;Re?(Me=4,ot=function(Tt,Pt){return Tt[Pt]<<24|Tt[Pt+1]<<16|Tt[Pt+2]<<8|Tt[Pt+3]},nt=function(Tt,Pt,Nt){Tt[Pt]=Nt>>>24&255,Tt[Pt+1]=Nt>>16&255,Tt[Pt+2]=Nt>>8&255,Tt[Pt+3]=255&Nt}):(Me=2,ot=function(Tt,Pt){return Tt[Pt]<<9|Tt[Pt+1]<<1},nt=function(Tt,Pt,Nt){Tt[Pt]=Nt>>9&255,Tt[Pt+1]=Nt>>1&255});const xt=it?De+1:De,ct=Me*(1+xt),ht=new Uint8Array(ct);ht.set(_e.data.subarray(0,ct)),_e.data=ht;const mt=Ie.data,We=mt.length,rt=new Uint8Array(We);let Ve,gt;const wt=[];for(Ve=0,gt=0;Ve<De+1;Ve++,gt+=Me){let ft=ot(ht,gt);ft>We&&(ft=We),wt.push({index:Ve,offset:ft,endOffset:0})}for(wt.sort((ft,Tt)=>ft.offset-Tt.offset),Ve=0;Ve<De;Ve++)wt[Ve].endOffset=wt[Ve+1].offset;for(wt.sort((ft,Tt)=>ft.index-Tt.index),Ve=0;Ve<De;Ve++){const{offset:ft,endOffset:Tt}=wt[Ve];if(0!==ft||0!==Tt)break;const Pt=wt[Ve+1].offset;if(0!==Pt){wt[Ve].endOffset=Pt;break}}const Rt=Object.create(null);let ut=0;for(nt(ht,0,ut),Ve=0,gt=Me;Ve<De;Ve++,gt+=Me){const ft=ge(mt,wt[Ve].offset,wt[Ve].endOffset,rt,ut,je),Tt=ft.length;0===Tt&&(Rt[Ve]=!0),ft.sizeOfInstructions>Ge&&(Ge=ft.sizeOfInstructions),ut+=Tt,nt(ht,gt,ut)}if(0===ut){const ft=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Ve=0,gt=Me;Ve<xt;Ve++,gt+=Me)nt(ht,gt,ft.length);Ie.data=ft}else if(it){const ft=ot(ht,Me);rt.length>ft+ut?Ie.data=rt.subarray(0,ft+ut):(Ie.data=new Uint8Array(ft+ut),Ie.data.set(rt.subarray(0,ut))),Ie.data.set(rt.subarray(0,ft),ut),nt(_e.data,ht.length-Me,ut+ft)}else Ie.data=rt.subarray(0,ut);return{missingGlyphs:Rt,maxSizeOfInstructions:Ge}}(Oe.loca,Oe.glyf,Je,_e,at,Qe,Ue);Xe=Ie.missingGlyphs,Be>=65536&&Oe.maxp.length>=22&&(Oe.maxp.data[26]=Ie.maxSizeOfInstructions>>8,Oe.maxp.data[27]=255&Ie.maxSizeOfInstructions)}if(!Oe.hhea)throw new n.FormatError('Required "hhea" table is not found');0===Oe.hhea.data[10]&&0===Oe.hhea.data[11]&&(Oe.hhea.data[10]=255,Oe.hhea.data[11]=255);const pt={unitsPerEm:r(Oe.head.data[18],Oe.head.data[19]),yMax:c(Oe.head.data[42],Oe.head.data[43]),yMin:c(Oe.head.data[38],Oe.head.data[39]),ascent:c(Oe.hhea.data[4],Oe.hhea.data[5]),descent:c(Oe.hhea.data[6],Oe.hhea.data[7]),lineGap:c(Oe.hhea.data[8],Oe.hhea.data[9])};this.ascent=pt.ascent/pt.unitsPerEm,this.descent=pt.descent/pt.unitsPerEm,this.lineGap=pt.lineGap/pt.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Oe.post&&function pe(_e,Ie,De){const Re=(re.start||0)+_e.offset;re.pos=Re;const it=Re+_e.length,Ge=re.getInt32();re.skip(28);let Me,nt,ot=!0;switch(Ge){case 65536:Me=x.MacStandardGlyphOrdering;break;case 131072:const xt=re.getUint16();if(xt!==De){ot=!1;break}const ct=[];for(nt=0;nt<xt;++nt){const We=re.getUint16();if(We>=32768){ot=!1;break}ct.push(We)}if(!ot)break;const ht=[],mt=[];for(;re.pos<it;){const We=re.getByte();for(mt.length=We,nt=0;nt<We;++nt)mt[nt]=String.fromCharCode(re.getByte());ht.push(mt.join(""))}for(Me=[],nt=0;nt<xt;++nt){const We=ct[nt];Me.push(We<258?x.MacStandardGlyphOrdering[We]:ht[We-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+Ge),ot=!1,Ie.defaultEncoding&&(Me=Ie.defaultEncoding)}Ie.glyphNames=Me}(Oe.post,ee,Je),Oe.post={tag:"post",data:G(ee)};const St=[];function Ct(_e){return!Xe[_e]}if(ee.composite){const _e=ee.cidToGidMap||[],Ie=0===_e.length;ee.cMap.forEach(function(De,Re){if("string"==typeof Re&&(Re=J(De,Re,!0)),Re>65535)throw new n.FormatError("Max size of CID is 65,535");let je=-1;Ie?je=Re:void 0!==_e[Re]&&(je=_e[Re]),je>=0&&je<Je&&Ct(je)&&(St[De]=je)})}else{const _e=function me(_e,Ie,De,Re){if(!_e)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let je,it=(Ie.start||0)+_e.offset;Ie.pos=it,Ie.skip(2);const Ge=Ie.getUint16();let Me,ot=!1;for(let We=0;We<Ge;We++){const rt=Ie.getUint16(),Ve=Ie.getUint16(),gt=Ie.getInt32()>>>0;let wt=!1;if(Me?.platformId!==rt||Me?.encodingId!==Ve){if(0!==rt||0!==Ve&&1!==Ve&&3!==Ve)if(1===rt&&0===Ve)wt=!0;else if(3!==rt||1!==Ve||!Re&&Me){if(De&&3===rt&&0===Ve){wt=!0;let Rt=!0;if(We<Ge-1){const ut=Ie.peekBytes(2);r(ut[0],ut[1])<rt&&(Rt=!1)}Rt&&(ot=!0)}}else wt=!0,De||(ot=!0);else wt=!0;if(wt&&(Me={platformId:rt,encodingId:Ve,offset:gt}),ot)break}}if(Me&&(Ie.pos=it+Me.offset),!Me||-1===Ie.peekByte())return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const nt=Ie.getUint16();let xt=!1;const ct=[];let ht,mt;if(0===nt){for(Ie.skip(4),ht=0;ht<256;ht++){const We=Ie.getByte();We&&ct.push({charCode:ht,glyphId:We})}xt=!0}else if(2===nt){Ie.skip(4);const We=[];let rt=0;for(let gt=0;gt<256;gt++){const wt=Ie.getUint16()>>3;We.push(wt),rt=Math.max(wt,rt)}const Ve=[];for(let gt=0;gt<=rt;gt++)Ve.push({firstCode:Ie.getUint16(),entryCount:Ie.getUint16(),idDelta:c(Ie.getByte(),Ie.getByte()),idRangePos:Ie.pos+Ie.getUint16()});for(let gt=0;gt<256;gt++)if(0===We[gt])Ie.pos=Ve[0].idRangePos+2*gt,mt=Ie.getUint16(),ct.push({charCode:gt,glyphId:mt});else{const wt=Ve[We[gt]];for(ht=0;ht<wt.entryCount;ht++){const Rt=(gt<<8)+ht+wt.firstCode;Ie.pos=wt.idRangePos+2*ht,mt=Ie.getUint16(),0!==mt&&(mt=(mt+wt.idDelta)%65536),ct.push({charCode:Rt,glyphId:mt})}}}else if(4===nt){Ie.skip(4);const We=Ie.getUint16()>>1;Ie.skip(6);const rt=[];let Ve;for(Ve=0;Ve<We;Ve++)rt.push({end:Ie.getUint16()});for(Ie.skip(2),Ve=0;Ve<We;Ve++)rt[Ve].start=Ie.getUint16();for(Ve=0;Ve<We;Ve++)rt[Ve].delta=Ie.getUint16();let wt,gt=0;for(Ve=0;Ve<We;Ve++){je=rt[Ve];const ut=Ie.getUint16();ut?(wt=(ut>>1)-(We-Ve),je.offsetIndex=wt,gt=Math.max(gt,wt+je.end-je.start+1)):je.offsetIndex=-1}const Rt=[];for(ht=0;ht<gt;ht++)Rt.push(Ie.getUint16());for(Ve=0;Ve<We;Ve++){je=rt[Ve],it=je.start;const ut=je.end,ft=je.delta;for(wt=je.offsetIndex,ht=it;ht<=ut;ht++)65535!==ht&&(mt=wt<0?ht:Rt[wt+ht-it],mt=mt+ft&65535,ct.push({charCode:ht,glyphId:mt}))}}else if(6===nt){Ie.skip(4);const We=Ie.getUint16(),rt=Ie.getUint16();for(ht=0;ht<rt;ht++)mt=Ie.getUint16(),ct.push({charCode:We+ht,glyphId:mt})}else{if(12!==nt)return(0,n.warn)("cmap table has unsupported format: "+nt),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{Ie.skip(10);const We=Ie.getInt32()>>>0;for(ht=0;ht<We;ht++){const rt=Ie.getInt32()>>>0,Ve=Ie.getInt32()>>>0;let gt=Ie.getInt32()>>>0;for(let wt=rt;wt<=Ve;wt++)ct.push({charCode:wt,glyphId:gt++})}}}ct.sort(function(We,rt){return We.charCode-rt.charCode});for(let We=1;We<ct.length;We++)ct[We-1].charCode===ct[We].charCode&&(ct.splice(We,1),We--);return{platformId:Me.platformId,encodingId:Me.encodingId,mappings:ct,hasShortCmap:xt}}(Oe.cmap,re,this.isSymbolicFont,ee.hasEncoding),Ie=_e.platformId,De=_e.encodingId,Re=_e.mappings;let je=[],it=!1;if(ee.hasEncoding&&("MacRomanEncoding"===ee.baseEncodingName||"WinAnsiEncoding"===ee.baseEncodingName)&&(je=(0,a.getEncoding)(ee.baseEncodingName)),ee.hasEncoding&&!this.isSymbolicFont&&(3===Ie&&1===De||1===Ie&&0===De)){const Ge=(0,t.getGlyphsUnicode)();for(let Me=0;Me<256;Me++){let ot;if(ot=void 0!==this.differences[Me]?this.differences[Me]:je.length&&""!==je[Me]?je[Me]:a.StandardEncoding[Me],!ot)continue;const nt=(0,x.recoverGlyphName)(ot,Ge);let xt;if(3===Ie&&1===De?xt=Ge[nt]:1===Ie&&0===De&&(xt=a.MacRomanEncoding.indexOf(nt)),void 0===xt){if(!ee.glyphNames&&ee.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof m.IdentityToUnicodeMap)){const ct=this.toUnicode.get(Me);ct&&(xt=ct.codePointAt(0))}if(void 0===xt)continue}for(const ct of Re)if(ct.charCode===xt){St[Me]=ct.glyphId;break}}}else if(0===Ie){for(const Ge of Re)St[Ge.charCode]=Ge.glyphId;it=!0}else for(const Ge of Re){let Me=Ge.charCode;3===Ie&&Me>=61440&&Me<=61695&&(Me&=255),St[Me]=Ge.glyphId}if(ee.glyphNames&&(je.length||this.differences.length))for(let Ge=0;Ge<256;++Ge){if(!it&&void 0!==St[Ge])continue;const Me=this.differences[Ge]||je[Ge];if(!Me)continue;const ot=ee.glyphNames.indexOf(Me);ot>0&&Ct(ot)&&(St[Ge]=ot)}}0===St.length&&(St[0]=0);let dt=Ye-1;if(Qe||(dt=0),!ee.cssFontInfo){const _e=oe(St,Ct,dt,this.toUnicode);this.toFontChar=_e.toFontChar,Oe.cmap={tag:"cmap",data:Q(_e.charCodeToGlyphId,_e.toUnicodeExtraMap,Ye)},(!Oe["OS/2"]||!function R(ie,te){te.pos=(te.start||0)+ie.offset;const re=te.getUint16();te.skip(60);const ee=te.getUint16();return!(re<4&&768&ee||te.getUint16()>te.getUint16()||(te.skip(6),0===te.getUint16())||(ie.data[8]=ie.data[9]=0,0))}(Oe["OS/2"],re))&&(Oe["OS/2"]={tag:"OS/2",data:X(ee,_e.charCodeToGlyphId,pt)})}if(!Ze)try{ze=new O.Stream(Oe["CFF "].data),Pe=new j.CFFParser(ze,ee,x.SEAC_ANALYSIS_ENABLED).parse(),Pe.duplicateFirstGlyph();const Ie=new j.CFFCompiler(Pe);Oe["CFF "].data=Ie.compile()}catch{(0,n.warn)("Failed to compile font "+ee.loadedName)}if(Oe.name){const[_e,Ie]=xe(Oe.name);Oe.name.data=K(te,_e),this.psName=_e[0][6]||null,ee.composite||function C(ie,te,re){if(ie.isInternalFont||ie.hasIncludedToUnicodeMap||ie.hasEncoding||ie.toUnicode instanceof m.IdentityToUnicodeMap||!te||0===re.length||ie.defaultEncoding===a.WinAnsiEncoding)return;for(const fe of re)if(!q(fe))return;const ee=a.WinAnsiEncoding,le=[],ue=(0,t.getGlyphsUnicode)();for(const fe in ee){const Se=ee[fe];if(""===Se)continue;const Ce=ue[Se];void 0!==Ce&&(le[fe]=String.fromCharCode(Ce))}le.length>0&&ie.toUnicode.amend(le)}(ee,this.isSymbolicFont,Ie)}else Oe.name={tag:"name",data:K(this.name)};const _t=new D.OpenTypeFileBuilder(Ke.version);for(const _e in Oe)_t.addTable(_e,Oe[_e].data);return _t.toArray()}convert(te,re,ee){ee.fixedPitch=!1,ee.builtInEncoding&&function h(ie,te){if(ie.isInternalFont||ie.hasIncludedToUnicodeMap||te===ie.defaultEncoding||ie.toUnicode instanceof m.IdentityToUnicodeMap)return;const re=[],ee=(0,t.getGlyphsUnicode)();for(const le in te){if(ie.hasEncoding&&(ie.baseEncodingName||void 0!==ie.differences[le]))continue;const fe=(0,e.getUnicodeForGlyph)(te[le],ee);-1!==fe&&(re[le]=String.fromCharCode(fe))}re.length>0&&ie.toUnicode.amend(re)}(ee,ee.builtInEncoding);let le=1;re instanceof y.CFFFont&&(le=re.numGlyphs-1);const ue=re.getGlyphMapping(ee);let fe=null,Se=ue,Ce=null;ee.cssFontInfo||(fe=oe(ue,re.hasGlyphId.bind(re),le,this.toUnicode),this.toFontChar=fe.toFontChar,Se=fe.charCodeToGlyphId,Ce=fe.toUnicodeExtraMap);const ve=re.numGlyphs;function me(pe,xe){let we=null;for(const Ne in pe)xe===pe[Ne]&&(we||=[]).push(0|Ne);return we}function de(pe,xe){for(const we in pe)if(xe===pe[we])return 0|we;return fe.charCodeToGlyphId[fe.nextAvailableFontCharCode]=xe,fe.nextAvailableFontCharCode++}const ge=re.seacs;if(fe&&x.SEAC_ANALYSIS_ENABLED&&ge?.length){const pe=ee.fontMatrix||n.FONT_IDENTITY_MATRIX,xe=re.getCharset(),we=Object.create(null);for(let Ne in ge){Ne|=0;const He=ge[Ne],qe=a.StandardEncoding[He[3]],Ke=xe.indexOf(a.StandardEncoding[He[2]]),Oe=xe.indexOf(qe);if(Ke<0||Oe<0)continue;const Pe={x:He[0]*pe[0]+He[1]*pe[2]+pe[4],y:He[0]*pe[1]+He[1]*pe[3]+pe[5]},ze=me(ue,Ne);if(ze)for(const Ze of ze){const Be=fe.charCodeToGlyphId,Je=de(Be,Ke),Ye=de(Be,Oe);we[Ze]={baseFontCharCode:Je,accentFontCharCode:Ye,accentOffset:Pe}}}ee.seacMap=we}const Ae=1/(ee.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],be=new D.OpenTypeFileBuilder("OTTO");return be.addTable("CFF ",re.data),be.addTable("OS/2",X(ee,Se)),be.addTable("cmap",Q(Se,Ce,ve)),be.addTable("head","\0\x01\0\0\0\0\x10\0\0\0\0\0_\x0f<\xf5\0\0"+A(Ae)+"\0\0\0\0\x9e\v~'\0\0\0\0\x9e\v~'\0\0"+A(ee.descent)+"\x0f\xff"+A(ee.ascent)+I(ee.italicAngle?2:0)+"\0\x11\0\0\0\0\0\0"),be.addTable("hhea","\0\x01\0\0"+A(ee.ascent)+A(ee.descent)+"\0\0\xff\xff\0\0\0\0\0\0"+A(ee.capHeight)+A(Math.tan(ee.italicAngle)*ee.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+I(ve)),be.addTable("hmtx",function(){const xe=re.charstrings,we=re.cff?re.cff.widths:null;let Ne="\0\0\0\0";for(let He=1,$e=ve;He<$e;He++){let qe=0;if(xe){const Ke=xe[He-1];qe="width"in Ke?Ke.width:0}else we&&(qe=Math.ceil(we[He]||0));Ne+=I(qe)+I(0)}return Ne}()),be.addTable("maxp","\0\0P\0"+I(ve)),be.addTable("name",K(te)),be.addTable("post",G(ee)),be.toArray()}get spaceWidth(){const te=["space","minus","one","i","I"];let re;for(const ee of te){if(ee in this.widths){re=this.widths[ee];break}const ue=(0,t.getGlyphsUnicode)()[ee];let fe=0;if(this.composite&&this.cMap.contains(ue)&&(fe=this.cMap.lookup(ue),"string"==typeof fe&&(fe=J(ue,fe))),!fe&&this.toUnicode&&(fe=this.toUnicode.charCodeOf(ue)),fe<=0&&(fe=ue),re=this.widths[fe],re)break}return(0,n.shadow)(this,"spaceWidth",re||this.defaultWidth)}_charToGlyph(te,re=!1){let ee=this._glyphCache[te];if(ee?.isSpace===re)return ee;let le,ue,fe,Se=te;this.cMap?.contains(te)&&(Se=this.cMap.lookup(te),"string"==typeof Se&&(Se=J(te,Se))),ue=this.widths[Se],"number"!=typeof ue&&(ue=this.defaultWidth);const Ce=this.vmetrics?.[Se];let ve=this.toUnicode.get(te)||te;"number"==typeof ve&&(ve=String.fromCharCode(ve));let me=void 0!==this.toFontChar[te];if(le=this.toFontChar[te]||te,this.missingFile){const Ae=this.differences[te]||this.defaultEncoding[te];(".notdef"===Ae||""===Ae)&&"Type1"===this.type&&(le=32),le=(0,e.mapSpecialUnicodeValues)(le)}this.isType3Font&&(fe=le);let de=null;if(this.seacMap?.[te]){me=!0;const Ae=this.seacMap[te];le=Ae.baseFontCharCode,de={fontChar:String.fromCodePoint(Ae.accentFontCharCode),offset:Ae.accentOffset}}let ge="";return"number"==typeof le&&(le<=1114111?ge=String.fromCodePoint(le):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${le}`)),ee=new l(te,ge,ve,de,ue,Ce,fe,re,me),this._glyphCache[te]=ee}charsToGlyphs(te){let re=this._charsCache[te];if(re)return re;if(re=[],this.cMap){const ee=Object.create(null),le=te.length;let ue=0;for(;ue<le;){this.cMap.readCharCode(te,ue,ee);const{charcode:fe,length:Se}=ee;ue+=Se;const Ce=this._charToGlyph(fe,1===Se&&32===te.charCodeAt(ue-1));re.push(Ce)}}else for(let ee=0,le=te.length;ee<le;++ee){const ue=te.charCodeAt(ee),fe=this._charToGlyph(ue,32===ue);re.push(fe)}return this._charsCache[te]=re}getCharPositions(te){const re=[];if(this.cMap){const ee=Object.create(null);let le=0;for(;le<te.length;){this.cMap.readCharCode(te,le,ee);const ue=ee.length;re.push([le,le+ue]),le+=ue}}else for(let ee=0,le=te.length;ee<le;++ee)re.push([ee,ee+1]);return re}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(te){const re=[],ee=[],le=()=>re.length%2==1,ue=this.toUnicode instanceof m.IdentityToUnicodeMap?fe=>this.toUnicode.charCodeOf(fe):fe=>this.toUnicode.charCodeOf(String.fromCodePoint(fe));for(let fe=0,Se=te.length;fe<Se;fe++){const Ce=te.codePointAt(fe);if(Ce>55295&&(Ce<57344||Ce>65533)&&fe++,this.toUnicode){const ve=ue(Ce);if(-1!==ve){le()&&(re.push(ee.join("")),ee.length=0);for(let de=(this.cMap?this.cMap.getCharCodeLength(ve):1)-1;de>=0;de--)ee.push(String.fromCharCode(ve>>8*de&255));continue}}le()||(re.push(ee.join("")),ee.length=0),ee.push(String.fromCodePoint(Ce))}return re.push(ee.join("")),re}},E.ErrorFont=class ae{constructor(te){this.error=te,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(te){return[te]}exportData(te=!1){return{error:this.error}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CFFTopDict=E.CFFStrings=E.CFFStandardStrings=E.CFFPrivateDict=E.CFFParser=E.CFFIndex=E.CFFHeader=E.CFFFDSelect=E.CFFCompiler=E.CFFCharset=E.CFF=void 0;var n=V(2),j=V(36),x=V(37);const t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];E.CFFStandardStrings=t;const F=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],m=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(M,l){M[l-2]=M[l-2]+M[l-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(M,l){M[l-2]=M[l-2]-M[l-1]}},{id:"div",min:2,stackDelta:-1,stackFn(M,l){M[l-2]=M[l-2]/M[l-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(M,l){M[l-1]=-M[l-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(M,l){M[l-2]=M[l-2]*M[l-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];E.CFFParser=class y{constructor(l,r,f){this.bytes=l.getBytes(),this.properties=r,this.seacAnalysisEnabled=!!f}parse(){const l=this.properties,r=new k;this.cff=r;const f=this.parseHeader(),c=this.parseIndex(f.endPos),u=this.parseIndex(c.endPos),I=this.parseIndex(u.endPos),A=this.parseIndex(I.endPos),P=this.parseDict(u.obj.get(0)),$=this.createDict(O,P,r.strings);r.header=f.obj,r.names=this.parseNameIndex(c.obj),r.strings=this.parseStringIndex(I.obj),r.topDict=$,r.globalSubrIndex=A.obj,this.parsePrivateDict(r.topDict),r.isCIDFont=$.hasName("ROS");const _=$.getByName("CharStrings"),w=this.parseIndex(_).obj,T=$.getByName("FontMatrix");T&&(l.fontMatrix=T);const N=$.getByName("FontBBox");let H,z;if(N&&(l.ascent=Math.max(N[3],N[1]),l.descent=Math.min(N[1],N[3]),l.ascentScaled=!0),r.isCIDFont){const q=this.parseIndex($.getByName("FDArray")).obj;for(let J=0,oe=q.count;J<oe;++J){const ne=q.get(J),Q=this.createDict(O,this.parseDict(ne),r.strings);this.parsePrivateDict(Q),r.fdArray.push(Q)}z=null,H=this.parseCharsets($.getByName("charset"),w.count,r.strings,!0),r.fdSelect=this.parseFDSelect($.getByName("FDSelect"),w.count)}else H=this.parseCharsets($.getByName("charset"),w.count,r.strings,!1),z=this.parseEncoding($.getByName("Encoding"),l,r.strings,H.charset);r.charset=H,r.encoding=z;const U=this.parseCharStrings({charStrings:w,localSubrIndex:$.privateDict.subrsIndex,globalSubrIndex:A.obj,fdSelect:r.fdSelect,fdArray:r.fdArray,privateDict:$.privateDict});return r.charStrings=U.charStrings,r.seacs=U.seacs,r.widths=U.widths,r}parseHeader(){let l=this.bytes;const r=l.length;let f=0;for(;f<r&&1!==l[f];)++f;if(f>=r)throw new n.FormatError("Invalid CFF header");0!==f&&((0,n.info)("cff data is shifted"),l=l.subarray(f),this.bytes=l);const I=l[2];return{obj:new s(l[0],l[1],I,l[3]),endPos:I}}parseDict(l){let r=0;function f(){let P=l[r++];return 30===P?function c(){let P="";const _=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],w=l.length;for(;r<w;){const T=l[r++],N=T>>4,H=15&T;if(15===N||(P+=_[N],15===H))break;P+=_[H]}return parseFloat(P)}():28===P?(P=l[r++],P=(P<<24|l[r++]<<16)>>16,P):29===P?(P=l[r++],P=P<<8|l[r++],P=P<<8|l[r++],P=P<<8|l[r++],P):P>=32&&P<=246?P-139:P>=247&&P<=250?256*(P-247)+l[r++]+108:P>=251&&P<=254?-256*(P-251)-l[r++]-108:((0,n.warn)('CFFParser_parseDict: "'+P+'" is a reserved command.'),NaN)}let u=[];const I=[];r=0;const A=l.length;for(;r<A;){let P=l[r];P<=21?(12===P&&(P=P<<8|l[++r]),I.push([P,u]),u=[],++r):u.push(f())}return I}parseIndex(l){const r=new i,f=this.bytes,c=f[l++]<<8|f[l++],u=[];let A,P,I=l;if(0!==c){const $=f[l++],_=l+(c+1)*$-1;for(A=0,P=c+1;A<P;++A){let w=0;for(let T=0;T<$;++T)w<<=8,w+=f[l++];u.push(_+w)}I=u[c]}for(A=0,P=u.length-1;A<P;++A)r.add(f.subarray(u[A],u[A+1]));return{obj:r,endPos:I}}parseNameIndex(l){const r=[];for(let f=0,c=l.count;f<c;++f){const u=l.get(f);r.push((0,n.bytesToString)(u))}return r}parseStringIndex(l){const r=new p;for(let f=0,c=l.count;f<c;++f){const u=l.get(f);r.add((0,n.bytesToString)(u))}return r}createDict(l,r,f){const c=new l(f);for(const[u,I]of r)c.setByKey(u,I);return c}parseCharString(l,r,f,c){if(!r||l.callDepth>10)return!1;let u=l.stackSize;const I=l.stack;let A=r.length;for(let P=0;P<A;){const $=r[P++];let _=null;if(12===$){const w=r[P++];0===w?(r[P-2]=139,r[P-1]=22,u=0):_=m[w]}else if(28===$)I[u]=(r[P]<<24|r[P+1]<<16)>>16,P+=2,u++;else if(14===$){if(u>=4&&(u-=4,this.seacAnalysisEnabled))return l.seac=I.slice(u,u+4),!1;_=F[$]}else if($>=32&&$<=246)I[u]=$-139,u++;else if($>=247&&$<=254)I[u]=$<251?($-247<<8)+r[P]+108:-($-251<<8)-r[P]-108,P++,u++;else if(255===$)I[u]=(r[P]<<24|r[P+1]<<16|r[P+2]<<8|r[P+3])/65536,P+=4,u++;else if(19===$||20===$){if(l.hints+=u>>1,0===l.hints){r.copyWithin(P-1,P,-1),P-=1,A-=1;continue}P+=l.hints+7>>3,u%=2,_=F[$]}else{if(10===$||29===$){const w=10===$?f:c;if(!w)return _=F[$],(0,n.warn)("Missing subrsIndex for "+_.id),!1;let T=32768;w.count<1240?T=107:w.count<33900&&(T=1131);const N=I[--u]+T;if(N<0||N>=w.count||isNaN(N))return _=F[$],(0,n.warn)("Out of bounds subrIndex for "+_.id),!1;if(l.stackSize=u,l.callDepth++,!this.parseCharString(l,w.get(N),f,c))return!1;l.callDepth--,u=l.stackSize;continue}if(11===$)return l.stackSize=u,!0;if(0===$&&P===r.length)r[P-1]=14,_=F[14];else{if(9===$){r.copyWithin(P-1,P,-1),P-=1,A-=1;continue}_=F[$]}}if(_){if(_.stem&&(l.hints+=u>>1,3===$||23===$?l.hasVStems=!0:l.hasVStems&&(1===$||18===$)&&((0,n.warn)("CFF stem hints are in wrong order"),r[P-1]=1===$?3:23)),"min"in _&&!l.undefStack&&u<_.min)return(0,n.warn)("Not enough parameters for "+_.id+"; actual: "+u+", expected: "+_.min),0===u&&(r[P-1]=14,!0);l.firstStackClearing&&_.stackClearing&&(l.firstStackClearing=!1,u-=_.min,u>=2&&_.stem?u%=2:u>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),u>0&&(l.width=I[u-1])),"stackDelta"in _?("stackFn"in _&&_.stackFn(I,u),u+=_.stackDelta):_.stackClearing?u=0:_.resetStack?(u=0,l.undefStack=!1):_.undefStack&&(u=0,l.undefStack=!0,l.firstStackClearing=!1)}}return A<r.length&&r.fill(14,A),l.stackSize=u,!0}parseCharStrings({charStrings:l,localSubrIndex:r,globalSubrIndex:f,fdSelect:c,fdArray:u,privateDict:I}){const A=[],P=[],$=l.count;for(let _=0;_<$;_++){const w=l.get(_),T={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let N=!0,H=null,z=I;if(c&&u.length){const U=c.getFDIndex(_);-1===U&&((0,n.warn)("Glyph index is not in fd select."),N=!1),U>=u.length&&((0,n.warn)("Invalid fd index for glyph index."),N=!1),N&&(z=u[U].privateDict,H=z.subrsIndex)}else r&&(H=r);if(N&&(N=this.parseCharString(T,w,H,f)),null!==T.width){const U=z.getByName("nominalWidthX");P[_]=U+T.width}else{const U=z.getByName("defaultWidthX");P[_]=U}null!==T.seac&&(A[_]=T.seac),N||l.set(_,new Uint8Array([14]))}return{charStrings:l,seacs:A,widths:P}}emptyPrivateDictionary(l){const r=this.createDict(S,[],l.strings);l.setByKey(18,[0,0]),l.privateDict=r}parsePrivateDict(l){if(!l.hasName("Private"))return void this.emptyPrivateDictionary(l);const r=l.getByName("Private");if(!Array.isArray(r)||2!==r.length)return void l.removeByName("Private");const f=r[0],c=r[1];if(0===f||c>=this.bytes.length)return void this.emptyPrivateDictionary(l);const I=this.bytes.subarray(c,c+f),A=this.parseDict(I),P=this.createDict(S,A,l.strings);if(l.privateDict=P,0===P.getByName("ExpansionFactor")&&P.setByName("ExpansionFactor",.06),!P.getByName("Subrs"))return;const $=P.getByName("Subrs"),_=c+$;if(0===$||_>=this.bytes.length)return void this.emptyPrivateDictionary(l);const w=this.parseIndex(_);P.subrsIndex=w.obj}parseCharsets(l,r,f,c){if(0===l)return new B(!0,d.ISO_ADOBE,j.ISOAdobeCharset);if(1===l)return new B(!0,d.EXPERT,j.ExpertCharset);if(2===l)return new B(!0,d.EXPERT_SUBSET,j.ExpertSubsetCharset);const u=this.bytes,I=l,A=u[l++],P=[c?0:".notdef"];let $,_,w;switch(r-=1,A){case 0:for(w=0;w<r;w++)$=u[l++]<<8|u[l++],P.push(c?$:f.get($));break;case 1:for(;P.length<=r;)for($=u[l++]<<8|u[l++],_=u[l++],w=0;w<=_;w++)P.push(c?$++:f.get($++));break;case 2:for(;P.length<=r;)for($=u[l++]<<8|u[l++],_=u[l++]<<8|u[l++],w=0;w<=_;w++)P.push(c?$++:f.get($++));break;default:throw new n.FormatError("Unknown charset format")}const N=u.subarray(I,l);return new B(!1,A,P,N)}parseEncoding(l,r,f,c){const u=Object.create(null),I=this.bytes;let P,$,_,A=!1,w=null;if(0===l||1===l){A=!0,P=l;const N=l?x.ExpertEncoding:x.StandardEncoding;for($=0,_=c.length;$<_;$++){const H=N.indexOf(c[$]);-1!==H&&(u[H]=$)}}else{const N=l;switch(P=I[l++],127&P){case 0:const z=I[l++];for($=1;$<=z;$++)u[I[l++]]=$;break;case 1:const U=I[l++];let q=1;for($=0;$<U;$++){const J=I[l++],oe=I[l++];for(let ne=J;ne<=J+oe;ne++)u[ne]=q++}break;default:throw new n.FormatError(`Unknown encoding format: ${P} in CFF`)}const H=l;128&P&&(I[N]&=127,function T(){const N=I[l++];for($=0;$<N;$++){const H=I[l++],z=(I[l++]<<8)+(255&I[l++]);u[H]=c.indexOf(f.get(z))}}()),w=I.subarray(N,H)}return P&=127,new g(A,P,u,w)}parseFDSelect(l,r){const f=this.bytes,c=f[l++],u=[];let I;switch(c){case 0:for(I=0;I<r;++I){const P=f[l++];u.push(P)}break;case 3:const A=f[l++]<<8|f[l++];for(I=0;I<A;++I){let P=f[l++]<<8|f[l++];0===I&&0!==P&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),P=0);const $=f[l++],_=f[l]<<8|f[l+1];for(let w=P;w<_;++w)u.push($)}l+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${c}".`)}if(u.length!==r)throw new n.FormatError("parseFDSelect: Invalid font data.");return new L(c,u)}};class k{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new p,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535)return void(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");const l=this.charStrings.get(0);this.charStrings.add(l),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(l){return!(l<0||l>=this.charStrings.count)&&this.charStrings.get(l).length>0}}E.CFF=k;class s{constructor(l,r,f,c){this.major=l,this.minor=r,this.hdrSize=f,this.offSize=c}}E.CFFHeader=s;class p{constructor(){this.strings=[]}get(l){return l>=0&&l<=390?t[l]:l-391<=this.strings.length?this.strings[l-391]:t[0]}getSID(l){let r=t.indexOf(l);return-1!==r?r:(r=this.strings.indexOf(l),-1!==r?r+391:-1)}add(l){this.strings.push(l)}get count(){return this.strings.length}}E.CFFStrings=p;class i{constructor(){this.objects=[],this.length=0}add(l){this.length+=l.length,this.objects.push(l)}set(l,r){this.length+=r.length-this.objects[l].length,this.objects[l]=r}get(l){return this.objects[l]}get count(){return this.objects.length}}E.CFFIndex=i;class D{constructor(l,r){this.keyToNameMap=l.keyToNameMap,this.nameToKeyMap=l.nameToKeyMap,this.defaults=l.defaults,this.types=l.types,this.opcodes=l.opcodes,this.order=l.order,this.strings=r,this.values=Object.create(null)}setByKey(l,r){if(!(l in this.keyToNameMap))return!1;if(0===r.length)return!0;for(const c of r)if(isNaN(c))return(0,n.warn)(`Invalid CFFDict value: "${r}" for key "${l}".`),!0;const f=this.types[l];return("num"===f||"sid"===f||"offset"===f)&&(r=r[0]),this.values[l]=r,!0}setByName(l,r){if(!(l in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${l}"`);this.values[this.nameToKeyMap[l]]=r}hasName(l){return this.nameToKeyMap[l]in this.values}getByName(l){if(!(l in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${l}"`);const r=this.nameToKeyMap[l];return r in this.values?this.values[r]:this.defaults[r]}removeByName(l){delete this.values[this.nameToKeyMap[l]]}static createTables(l){const r={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const f of l){const c=Array.isArray(f[0])?(f[0][0]<<8)+f[0][1]:f[0];r.keyToNameMap[c]=f[1],r.nameToKeyMap[f[1]]=c,r.types[c]=f[2],r.defaults[c]=f[3],r.opcodes[c]=Array.isArray(f[0])?f[0]:[f[0]],r.order.push(c)}return r}}const b=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class O extends D{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(b))}constructor(l){super(O.tables,l),this.privateDict=null}}E.CFFTopDict=O;const v=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class S extends D{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(v))}constructor(l){super(S.tables,l),this.subrsIndex=null}}E.CFFPrivateDict=S;const d={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class B{constructor(l,r,f,c){this.predefined=l,this.format=r,this.charset=f,this.raw=c}}E.CFFCharset=B;class g{constructor(l,r,f,c){this.predefined=l,this.format=r,this.encoding=f,this.raw=c}}class L{constructor(l,r){this.format=l,this.fdSelect=r}getFDIndex(l){return l<0||l>=this.fdSelect.length?-1:this.fdSelect[l]}}E.CFFFDSelect=L;class C{constructor(){this.offsets=Object.create(null)}isTracking(l){return l in this.offsets}track(l,r){if(l in this.offsets)throw new n.FormatError(`Already tracking location of ${l}`);this.offsets[l]=r}offset(l){for(const r in this.offsets)this.offsets[r]+=l}setEntryLocation(l,r,f){if(!(l in this.offsets))throw new n.FormatError(`Not tracking location of ${l}`);const c=f.data,u=this.offsets[l];for(let A=0,P=r.length;A<P;++A){const $=5*A+u,_=$+1,w=$+2,T=$+3,N=$+4;if(29!==c[$]||0!==c[_]||0!==c[w]||0!==c[T]||0!==c[N])throw new n.FormatError("writing to an offset that is not empty");const H=r[A];c[$]=29,c[_]=H>>24&255,c[w]=H>>16&255,c[T]=H>>8&255,c[N]=255&H}}}class h{constructor(l){this.cff=l}compile(){const l=this.cff,r={data:[],length:0,add(T){try{this.data.push(...T)}catch{this.data=this.data.concat(T)}this.length=this.data.length}},f=this.compileHeader(l.header);r.add(f);const c=this.compileNameIndex(l.names);if(r.add(c),l.isCIDFont&&l.topDict.hasName("FontMatrix")){const T=l.topDict.getByName("FontMatrix");l.topDict.removeByName("FontMatrix");for(const N of l.fdArray){let H=T.slice(0);N.hasName("FontMatrix")&&(H=n.Util.transform(H,N.getByName("FontMatrix"))),N.setByName("FontMatrix",H)}}l.topDict.getByName("XUID")?.length>16&&l.topDict.removeByName("XUID"),l.topDict.setByName("charset",0);let I=this.compileTopDicts([l.topDict],r.length,l.isCIDFont);r.add(I.output);const A=I.trackers[0],P=this.compileStringIndex(l.strings.strings);r.add(P);const $=this.compileIndex(l.globalSubrIndex);if(r.add($),l.encoding&&l.topDict.hasName("Encoding"))if(l.encoding.predefined)A.setEntryLocation("Encoding",[l.encoding.format],r);else{const T=this.compileEncoding(l.encoding);A.setEntryLocation("Encoding",[r.length],r),r.add(T)}const _=this.compileCharset(l.charset,l.charStrings.count,l.strings,l.isCIDFont);A.setEntryLocation("charset",[r.length],r),r.add(_);const w=this.compileCharStrings(l.charStrings);if(A.setEntryLocation("CharStrings",[r.length],r),r.add(w),l.isCIDFont){A.setEntryLocation("FDSelect",[r.length],r);const T=this.compileFDSelect(l.fdSelect);r.add(T),I=this.compileTopDicts(l.fdArray,r.length,!0),A.setEntryLocation("FDArray",[r.length],r),r.add(I.output),this.compilePrivateDicts(l.fdArray,I.trackers,r)}return this.compilePrivateDicts([l.topDict],[A],r),r.add([0]),r.data}encodeNumber(l){return Number.isInteger(l)?this.encodeInteger(l):this.encodeFloat(l)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(l){let r=l.toString();const f=h.EncodeFloatRegExp.exec(r);if(f){const P=parseFloat("1e"+((f[2]?+f[2]:0)+f[1].length));r=(Math.round(l*P)/P).toString()}let u,I,c="";for(u=0,I=r.length;u<I;++u){const P=r[u];c+="e"===P?"-"===r[++u]?"c":"b":"."===P?"a":"-"===P?"e":P}c+=1&c.length?"f":"ff";const A=[30];for(u=0,I=c.length;u<I;u+=2)A.push(parseInt(c.substring(u,u+2),16));return A}encodeInteger(l){let r;return r=l>=-107&&l<=107?[l+139]:l>=108&&l<=1131?[247+((l-=108)>>8),255&l]:l>=-1131&&l<=-108?[251+((l=-l-108)>>8),255&l]:l>=-32768&&l<=32767?[28,l>>8&255,255&l]:[29,l>>24&255,l>>16&255,l>>8&255,255&l],r}compileHeader(l){return[l.major,l.minor,4,l.offSize]}compileNameIndex(l){const r=new i;for(const f of l){const c=Math.min(f.length,127);let u=new Array(c);for(let I=0;I<c;I++){let A=f[I];(A<"!"||A>"~"||"["===A||"]"===A||"("===A||")"===A||"{"===A||"}"===A||"<"===A||">"===A||"/"===A||"%"===A)&&(A="_"),u[I]=A}u=u.join(""),""===u&&(u="Bad_Font_Name"),r.add((0,n.stringToBytes)(u))}return this.compileIndex(r)}compileTopDicts(l,r,f){const c=[];let u=new i;for(const I of l){f&&(I.removeByName("CIDFontVersion"),I.removeByName("CIDFontRevision"),I.removeByName("CIDFontType"),I.removeByName("CIDCount"),I.removeByName("UIDBase"));const A=new C,P=this.compileDict(I,A);c.push(A),u.add(P),A.offset(r)}return u=this.compileIndex(u,c),{trackers:c,output:u}}compilePrivateDicts(l,r,f){for(let c=0,u=l.length;c<u;++c){const I=l[c],A=I.privateDict;if(!A||!I.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const P=new C,$=this.compileDict(A,P);let _=f.length;if(P.offset(_),$.length||(_=0),r[c].setEntryLocation("Private",[$.length,_],f),f.add($),A.subrsIndex&&A.hasName("Subrs")){const w=this.compileIndex(A.subrsIndex);P.setEntryLocation("Subrs",[$.length],f),f.add(w)}}}compileDict(l,r){const f=[];for(const c of l.order){if(!(c in l.values))continue;let u=l.values[c],I=l.types[c];if(Array.isArray(I)||(I=[I]),Array.isArray(u)||(u=[u]),0!==u.length){for(let A=0,P=I.length;A<P;++A){const $=I[A],_=u[A];switch($){case"num":case"sid":f.push(...this.encodeNumber(_));break;case"offset":const w=l.keyToNameMap[c];r.isTracking(w)||r.track(w,f.length),f.push(29,0,0,0,0);break;case"array":case"delta":f.push(...this.encodeNumber(_));for(let T=1,N=u.length;T<N;++T)f.push(...this.encodeNumber(u[T]));break;default:throw new n.FormatError(`Unknown data type of ${$}`)}}f.push(...l.opcodes[c])}}return f}compileStringIndex(l){const r=new i;for(const f of l)r.add((0,n.stringToBytes)(f));return this.compileIndex(r)}compileCharStrings(l){const r=new i;for(let f=0;f<l.count;f++){const c=l.get(f);r.add(0!==c.length?c:new Uint8Array([139,14]))}return this.compileIndex(r)}compileCharset(l,r,f,c){let u;const I=r-1;if(c)u=new Uint8Array([2,0,0,I>>8&255,255&I]);else{u=new Uint8Array(1+2*I),u[0]=0;let P=0;const $=l.charset.length;let _=!1;for(let w=1;w<u.length;w+=2){let T=0;if(P<$){const N=l.charset[P++];T=f.getSID(N),-1===T&&(T=0,_||(_=!0,(0,n.warn)(`Couldn't find ${N} in CFF strings`)))}u[w]=T>>8&255,u[w+1]=255&T}}return this.compileTypedArray(u)}compileEncoding(l){return this.compileTypedArray(l.raw)}compileFDSelect(l){const r=l.format;let f,c;switch(r){case 0:for(f=new Uint8Array(1+l.fdSelect.length),f[0]=r,c=0;c<l.fdSelect.length;c++)f[c+1]=l.fdSelect[c];break;case 3:const u=0;let I=l.fdSelect[0];const A=[r,0,0,u>>8&255,255&u,I];for(c=1;c<l.fdSelect.length;c++){const $=l.fdSelect[c];$!==I&&(A.push(c>>8&255,255&c,$),I=$)}const P=(A.length-3)/3;A[1]=P>>8&255,A[2]=255&P,A.push(c>>8&255,255&c),f=new Uint8Array(A)}return this.compileTypedArray(f)}compileTypedArray(l){return Array.from(l)}compileIndex(l,r=[]){const f=l.objects,c=f.length;if(0===c)return[0,0];const u=[c>>8&255,255&c];let A,P,I=1;for(A=0;A<c;++A)I+=f[A].length;P=I<256?1:I<65536?2:I<16777216?3:4,u.push(P);let $=1;for(A=0;A<c+1;A++)1===P?u.push(255&$):2===P?u.push($>>8&255,255&$):3===P?u.push($>>16&255,$>>8&255,255&$):u.push($>>>24&255,$>>16&255,$>>8&255,255&$),f[A]&&($+=f[A].length);for(A=0;A<c;A++)r[A]&&r[A].offset(u.length),u.push(...f[A]);return u}}E.CFFCompiler=h},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ISOAdobeCharset=E.ExpertSubsetCharset=E.ExpertCharset=void 0,E.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],E.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],E.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ZapfDingbatsEncoding=E.WinAnsiEncoding=E.SymbolSetEncoding=E.StandardEncoding=E.MacRomanEncoding=E.ExpertEncoding=void 0,E.getEncoding=function F(m){switch(m){case"WinAnsiEncoding":return e;case"StandardEncoding":return x;case"MacRomanEncoding":return j;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return a;case"ExpertEncoding":return V;case"MacExpertEncoding":return n;default:return null}};const V=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];E.ExpertEncoding=V;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],j=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];E.MacRomanEncoding=j;const x=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];E.StandardEncoding=x;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];E.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];E.SymbolSetEncoding=t;const a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];E.ZapfDingbatsEncoding=a},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SEAC_ANALYSIS_ENABLED=E.MacStandardGlyphOrdering=E.FontFlags=void 0,E.normalizeFontName=function k(s){return s.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")},E.recoverGlyphName=m,E.type1FontGlyphMapping=function y(s,p,i){const D=Object.create(null);let b,O,v;const S=!!(s.flags&a.Symbolic);if(s.isInternalFont)for(v=p,O=0;O<v.length;O++)b=i.indexOf(v[O]),D[O]=b>=0?b:0;else if(s.baseEncodingName)for(v=(0,n.getEncoding)(s.baseEncodingName),O=0;O<v.length;O++)b=i.indexOf(v[O]),D[O]=b>=0?b:0;else if(S)for(O in p)D[O]=p[O];else for(v=n.StandardEncoding,O=0;O<v.length;O++)b=i.indexOf(v[O]),D[O]=b>=0?b:0;const d=s.differences;let B;if(d)for(O in d){const g=d[O];if(b=i.indexOf(g),-1===b){B||(B=(0,j.getGlyphsUnicode)());const L=m(g,B);L!==g&&(b=i.indexOf(L))}D[O]=b>=0?b:0}return D};var n=V(37),j=V(39),x=V(40),e=V(2);E.SEAC_ANALYSIS_ENABLED=!0;const a={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function m(s,p){if(void 0!==p[s])return s;const i=(0,x.getUnicodeForGlyph)(s,p);if(-1!==i)for(const D in p)if(p[D]===i)return D;return(0,e.info)("Unable to recover a standard glyph name for: "+s),s}E.FontFlags=a,E.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getGlyphsUnicode=E.getDingbatsGlyphsUnicode=void 0;var n=V(3);const j=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});E.getGlyphsUnicode=j;const x=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});E.getDingbatsGlyphsUnicode=x},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.clearUnicodeCaches=function k(){m.clear()},E.getCharUnicodeCategory=function y(s){const p=m.get(s);if(p)return p;const i=s.match(F),D={isWhitespace:!!i?.[1],isZeroWidthDiacritic:!!i?.[2],isInvisibleFormatMark:!!i?.[3]};return m.set(s,D),D},E.getUnicodeForGlyph=function e(s,p){let i=p[s];if(void 0!==i)return i;if(!s)return-1;if("u"===s[0]){const D=s.length;let b;if(7===D&&"n"===s[1]&&"i"===s[2])b=s.substring(3);else{if(!(D>=5&&D<=7))return-1;b=s.substring(1)}if(b===b.toUpperCase()&&(i=parseInt(b,16),i>=0))return i}return-1},E.getUnicodeRangeFor=function a(s,p=-1){if(-1!==p){const i=t[p];for(let D=0,b=i.length;D<b;D+=2)if(s>=i[D]&&s<=i[D+1])return p}for(let i=0,D=t.length;i<D;i++){const b=t[i];for(let O=0,v=b.length;O<v;O+=2)if(s>=b[O]&&s<=b[O+1])return i}return-1},E.mapSpecialUnicodeValues=function x(s){return s>=65520&&s<=65535?0:s>=62976&&s<=63743?j()[s]||s:173===s?45:s};const j=(0,V(3).getLookupTableFactory)(function(s){s[63721]=169,s[63193]=169,s[63720]=174,s[63194]=174,s[63722]=8482,s[63195]=8482,s[63729]=9127,s[63730]=9128,s[63731]=9129,s[63740]=9131,s[63741]=9132,s[63742]=9133,s[63726]=9121,s[63727]=9122,s[63728]=9123,s[63737]=9124,s[63738]=9125,s[63739]=9126,s[63723]=9115,s[63724]=9116,s[63725]=9117,s[63734]=9118,s[63735]=9119,s[63736]=9120}),t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]],F=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),m=new Map},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getSerifFonts=E.getNonStdFontMap=E.getGlyphMapForStandardFonts=E.getFontNameToFileMap=void 0,E.getStandardFontName=function s(i){const D=(0,j.normalizeFontName)(i);return x()[D]},E.getSymbolsFonts=E.getSupplementalGlyphMapForCalibri=E.getSupplementalGlyphMapForArialBlack=E.getStdFontMap=void 0,E.isKnownFontName=function p(i){const D=(0,j.normalizeFontName)(i);return!!(x()[D]||t()[D]||a()[D]||F()[D])};var n=V(3),j=V(38);const x=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});E.getStdFontMap=x;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});E.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});E.getNonStdFontMap=t;const a=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinit\u00e9=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});E.getSerifFonts=a;const F=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0,i.Wingdings=!0,i["Wingdings-Bold"]=!0,i["Wingdings-Regular"]=!0});E.getSymbolsFonts=F;const m=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});E.getGlyphMapForStandardFonts=m;const y=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});E.getSupplementalGlyphMapForArialBlack=y;const k=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});E.getSupplementalGlyphMapForCalibri=k},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ToUnicodeMap=E.IdentityToUnicodeMap=void 0;var n=V(2);E.ToUnicodeMap=class j{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const a in this._map)t(a,this._map[a].charCodeAt(0))}has(t){return void 0!==this._map[t]}get(t){return this._map[t]}charCodeOf(t){const a=this._map;if(a.length<=65536)return a.indexOf(t);for(const F in a)if(a[F]===t)return 0|F;return-1}amend(t){for(const a in t)this._map[a]=t[a]}},E.IdentityToUnicodeMap=class x{constructor(t,a){this.firstChar=t,this.lastChar=a}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let a=this.firstChar,F=this.lastChar;a<=F;a++)t(a,a)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CFFFont=void 0;var n=V(35),j=V(38),x=V(2);E.CFFFont=class e{constructor(a,F){this.properties=F;const m=new n.CFFParser(a,F,j.SEAC_ANALYSIS_ENABLED);this.cff=m.parse(),this.cff.duplicateFirstGlyph();const y=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=y.compile()}catch{(0,x.warn)("Failed to compile font "+F.loadedName),this.data=a}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const a=this.cff,F=this.properties,{cidToGidMap:m,cMap:y}=F,k=a.charset.charset;let s,p;if(F.composite){let D,b;if(m?.length>0){D=Object.create(null);for(let O=0,v=m.length;O<v;O++){const S=m[O];void 0!==S&&(D[S]=O)}}if(s=Object.create(null),a.isCIDFont)for(p=0;p<k.length;p++)b=y.charCodeOf(k[p]),void 0!==D?.[b]&&(b=D[b]),s[b]=p;else for(p=0;p<a.charStrings.count;p++)b=y.charCodeOf(p),s[b]=p;return s}let i=a.encoding?a.encoding.encoding:null;return F.isInternalFont&&(i=F.defaultEncoding),s=(0,j.type1FontGlyphMapping)(F,i,k),s}hasGlyphId(a){return this.cff.hasGlyphId(a)}_createBuiltInEncoding(){const{charset:a,encoding:F}=this.cff;if(!a||!F)return;const m=a.charset,y=F.encoding,k=[];for(const s in y){const p=y[s];if(p>=0){const i=m[p];i&&(k[s]=i)}}k.length>0&&(this.properties.builtInEncoding=k)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FontRendererFactory=void 0;var n=V(2),j=V(35),x=V(39),e=V(37),t=V(8);function a(C,h){return(C[h]<<24|C[h+1]<<16|C[h+2]<<8|C[h+3])>>>0}function F(C,h){return C[h]<<8|C[h+1]}function m(C,h){return(C[h]<<24|C[h+1]<<16)>>16}function y(C,h){return C[h]<<24>>24}function k(C,h){return m(C,h)/16384}function s(C){const h=C.length;let M=32768;return h<1240?M=107:h<33900&&(M=1131),M}function p(C,h,M){const l=1===F(C,h+2)?a(C,h+8):a(C,h+16),r=F(C,h+l);let f,c,u;if(4===r){F(C,h+l+2);const I=F(C,h+l+6)>>1;for(c=h+l+14,f=[],u=0;u<I;u++,c+=2)f[u]={end:F(C,c)};for(c+=2,u=0;u<I;u++,c+=2)f[u].start=F(C,c);for(u=0;u<I;u++,c+=2)f[u].idDelta=F(C,c);for(u=0;u<I;u++,c+=2){let A=F(C,c);if(0!==A){f[u].ids=[];for(let P=0,$=f[u].end-f[u].start+1;P<$;P++)f[u].ids[P]=F(C,c+A),A+=2}}return f}if(12===r){const I=a(C,h+l+12);for(c=h+l+16,f=[],u=0;u<I;u++)h=a(C,c),f.push({start:h,end:a(C,c+4),idDelta:a(C,c+8)-h}),c+=12;return f}throw new n.FormatError(`unsupported cmap: ${r}`)}function i(C,h,M,l){const c=new j.CFFParser(new t.Stream(C,h,M-h),{},l).parse();return{glyphs:c.charStrings.objects,subrs:c.topDict.privateDict?.subrsIndex?.objects,gsubrs:c.globalSubrIndex?.objects,isCFFCIDFont:c.isCIDFont,fdSelect:c.fdSelect,fdArray:c.fdArray}}function b(C,h){const M=h.codePointAt(0);let l=0,r=0,f=C.length-1;for(;r<f;){const c=r+f+1>>1;M<C[c].start?f=c-1:r=c}return C[r].start<=M&&M<=C[r].end&&(l=C[r].idDelta+(C[r].ids?C[r].ids[M-C[r].start]:M)&65535),{charCode:M,glyphId:l}}function O(C,h,M){function l($,_){h.push({cmd:"moveTo",args:[$,_]})}function r($,_){h.push({cmd:"lineTo",args:[$,_]})}function f($,_,w,T){h.push({cmd:"quadraticCurveTo",args:[$,_,w,T]})}let c=0;const u=m(C,c);let I,A=0,P=0;if(c+=10,u<0)do{I=F(C,c);const $=F(C,c+2);let _,w;c+=4,1&I?(2&I?(_=m(C,c),w=m(C,c+2)):(_=F(C,c),w=F(C,c+2)),c+=4):2&I?(_=y(C,c++),w=y(C,c++)):(_=C[c++],w=C[c++]),2&I?(A=_,P=w):(A=0,P=0);let T=1,N=1,H=0,z=0;8&I?(T=N=k(C,c),c+=2):64&I?(T=k(C,c),N=k(C,c+2),c+=4):128&I&&(T=k(C,c),H=k(C,c+2),z=k(C,c+4),N=k(C,c+6),c+=8);const U=M.glyphs[$];U&&(h.push({cmd:"save"},{cmd:"transform",args:[T,H,z,N,A,P]}),O(U,h,M),h.push({cmd:"restore"}))}while(32&I);else{const $=[];let _,w;for(_=0;_<u;_++)$.push(F(C,c)),c+=2;c+=2+F(C,c);const N=$.at(-1)+1,H=[];for(;H.length<N;){I=C[c++];let U=1;for(8&I&&(U+=C[c++]);U-- >0;)H.push({flags:I})}for(_=0;_<N;_++){switch(18&H[_].flags){case 0:A+=m(C,c),c+=2;break;case 2:A-=C[c++];break;case 18:A+=C[c++]}H[_].x=A}for(_=0;_<N;_++){switch(36&H[_].flags){case 0:P+=m(C,c),c+=2;break;case 4:P-=C[c++];break;case 36:P+=C[c++]}H[_].y=P}let z=0;for(c=0;c<u;c++){const U=$[c],q=H.slice(z,U+1);if(1&q[0].flags)q.push(q[0]);else if(1&q.at(-1).flags)q.unshift(q.at(-1));else{const J={flags:1,x:(q[0].x+q.at(-1).x)/2,y:(q[0].y+q.at(-1).y)/2};q.unshift(J),q.push(J)}for(l(q[0].x,q[0].y),_=1,w=q.length;_<w;_++)1&q[_].flags?r(q[_].x,q[_].y):1&q[_+1].flags?(f(q[_].x,q[_].y,q[_+1].x,q[_+1].y),_++):f(q[_].x,q[_].y,(q[_].x+q[_+1].x)/2,(q[_].y+q[_+1].y)/2);z=U+1}}}function v(C,h,M,l){function r(_,w){h.push({cmd:"moveTo",args:[_,w]})}function f(_,w){h.push({cmd:"lineTo",args:[_,w]})}function c(_,w,T,N,H,z){h.push({cmd:"bezierCurveTo",args:[_,w,T,N,H,z]})}const u=[];let I=0,A=0,P=0;!function $(_){let w=0;for(;w<_.length;){let H,z,U,q,J,oe,ne,Q,R,T=!1,N=_[w++];switch(N){case 1:case 3:case 18:case 23:P+=u.length>>1,T=!0;break;case 4:A+=u.pop(),r(I,A),T=!0;break;case 5:for(;u.length>0;)I+=u.shift(),A+=u.shift(),f(I,A);break;case 6:for(;u.length>0&&(I+=u.shift(),f(I,A),0!==u.length);)A+=u.shift(),f(I,A);break;case 7:for(;u.length>0&&(A+=u.shift(),f(I,A),0!==u.length);)I+=u.shift(),f(I,A);break;case 8:for(;u.length>0;)H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A);break;case 10:if(Q=u.pop(),R=null,M.isCFFCIDFont){const X=M.fdSelect.getFDIndex(l);if(X>=0&&X<M.fdArray.length){const G=M.fdArray[X];let Y;G.privateDict?.subrsIndex&&(Y=G.privateDict.subrsIndex.objects),Y&&(Q+=s(Y),R=Y[Q])}else(0,n.warn)("Invalid fd index for glyph index.")}else R=M.subrs[Q+M.subrsBias];R&&$(R);break;case 11:return;case 12:switch(N=_[w++],N){case 34:H=I+u.shift(),z=H+u.shift(),J=A+u.shift(),I=z+u.shift(),c(H,A,z,J,I,J),H=I+u.shift(),z=H+u.shift(),I=z+u.shift(),c(H,J,z,A,I,A);break;case 35:H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A),H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A),u.pop();break;case 36:H=I+u.shift(),J=A+u.shift(),z=H+u.shift(),oe=J+u.shift(),I=z+u.shift(),c(H,J,z,oe,I,oe),H=I+u.shift(),z=H+u.shift(),ne=oe+u.shift(),I=z+u.shift(),c(H,oe,z,ne,I,A);break;case 37:const X=I,G=A;H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A),H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z,A=q,Math.abs(I-X)>Math.abs(A-G)?I+=u.shift():A+=u.shift(),c(H,U,z,q,I,A);break;default:throw new n.FormatError(`unknown operator: 12 ${N}`)}break;case 14:if(u.length>=4){const X=u.pop(),G=u.pop();A=u.pop(),I=u.pop(),h.push({cmd:"save"},{cmd:"translate",args:[I,A]});let Y=b(M.cmap,String.fromCharCode(M.glyphNameMap[e.StandardEncoding[X]]));v(M.glyphs[Y.glyphId],h,M,Y.glyphId),h.push({cmd:"restore"}),Y=b(M.cmap,String.fromCharCode(M.glyphNameMap[e.StandardEncoding[G]])),v(M.glyphs[Y.glyphId],h,M,Y.glyphId)}return;case 19:case 20:P+=u.length>>1,w+=P+7>>3,T=!0;break;case 21:A+=u.pop(),I+=u.pop(),r(I,A),T=!0;break;case 22:I+=u.pop(),r(I,A),T=!0;break;case 24:for(;u.length>2;)H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A);I+=u.shift(),A+=u.shift(),f(I,A);break;case 25:for(;u.length>6;)I+=u.shift(),A+=u.shift(),f(I,A);H=I+u.shift(),U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+u.shift(),c(H,U,z,q,I,A);break;case 26:for(u.length%2&&(I+=u.shift());u.length>0;)H=I,U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z,A=q+u.shift(),c(H,U,z,q,I,A);break;case 27:for(u.length%2&&(A+=u.shift());u.length>0;)H=I+u.shift(),U=A,z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q,c(H,U,z,q,I,A);break;case 28:u.push((_[w]<<24|_[w+1]<<16)>>16),w+=2;break;case 29:Q=u.pop()+M.gsubrsBias,R=M.gsubrs[Q],R&&$(R);break;case 30:for(;u.length>0&&(H=I,U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+(1===u.length?u.shift():0),c(H,U,z,q,I,A),0!==u.length);)H=I+u.shift(),U=A,z=H+u.shift(),q=U+u.shift(),A=q+u.shift(),I=z+(1===u.length?u.shift():0),c(H,U,z,q,I,A);break;case 31:for(;u.length>0&&(H=I+u.shift(),U=A,z=H+u.shift(),q=U+u.shift(),A=q+u.shift(),I=z+(1===u.length?u.shift():0),c(H,U,z,q,I,A),0!==u.length);)H=I,U=A+u.shift(),z=H+u.shift(),q=U+u.shift(),I=z+u.shift(),A=q+(1===u.length?u.shift():0),c(H,U,z,q,I,A);break;default:if(N<32)throw new n.FormatError(`unknown operator: ${N}`);N<247?u.push(N-139):N<251?u.push(256*(N-247)+_[w++]+108):N<255?u.push(256*-(N-251)-_[w++]-108):(u.push((_[w]<<24|_[w+1]<<16|_[w+2]<<8|_[w+3])/65536),w+=4)}T&&(u.length=0)}}(C)}const S=[];class d{constructor(h){this.constructor===d&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=h,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(h){const{charCode:M,glyphId:l}=b(this.cmap,h);let r=this.compiledGlyphs[l];if(!r)try{r=this.compileGlyph(this.glyphs[l],l),this.compiledGlyphs[l]=r}catch(f){throw this.compiledGlyphs[l]=S,void 0===this.compiledCharCodeToGlyphId[M]&&(this.compiledCharCodeToGlyphId[M]=l),f}return void 0===this.compiledCharCodeToGlyphId[M]&&(this.compiledCharCodeToGlyphId[M]=l),r}compileGlyph(h,M){if(!h||0===h.length||14===h[0])return S;let l=this.fontMatrix;if(this.isCFFCIDFont){const f=this.fdSelect.getFDIndex(M);f>=0&&f<this.fdArray.length?l=this.fdArray[f].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const r=[{cmd:"save"},{cmd:"transform",args:l.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(h,r,M),r.push({cmd:"restore"}),r}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(h){const{charCode:M,glyphId:l}=b(this.cmap,h);return void 0!==this.compiledGlyphs[l]&&void 0!==this.compiledCharCodeToGlyphId[M]}}class B extends d{constructor(h,M,l){super(l||[488e-6,0,0,488e-6,0,0]),this.glyphs=h,this.cmap=M}compileGlyphImpl(h,M){O(h,M,this)}}class g extends d{constructor(h,M,l,r){super(l||[.001,0,0,.001,0,0]),this.glyphs=h.glyphs,this.gsubrs=h.gsubrs||[],this.subrs=h.subrs||[],this.cmap=M,this.glyphNameMap=r||(0,x.getGlyphsUnicode)(),this.gsubrsBias=s(this.gsubrs),this.subrsBias=s(this.subrs),this.isCFFCIDFont=h.isCFFCIDFont,this.fdSelect=h.fdSelect,this.fdArray=h.fdArray}compileGlyphImpl(h,M,l){v(h,M,this,l)}}E.FontRendererFactory=class L{static create(h,M){const l=new Uint8Array(h.data);let r,f,c,u,I,A;const P=F(l,4);for(let $=0,_=12;$<P;$++,_+=16){const w=(0,n.bytesToString)(l.subarray(_,_+4)),T=a(l,_+8),N=a(l,_+12);switch(w){case"cmap":r=p(l,T);break;case"glyf":f=l.subarray(T,T+N);break;case"loca":c=l.subarray(T,T+N);break;case"head":A=F(l,T+18),I=F(l,T+50);break;case"CFF ":u=i(l,T,T+N,M)}}if(f){const $=A?[1/A,0,0,1/A,0,0]:h.fontMatrix;return new B(function D(C,h,M){let l,r;M?(l=4,r=a):(l=2,r=(u,I)=>2*F(u,I));const f=[];let c=r(h,0);for(let u=l;u<h.length;u+=l){const I=r(h,u);f.push(C.subarray(c,I)),c=I}return f}(f,c,I),r,$)}return new g(u,r,h.fontMatrix,h.glyphNameMap)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getMetrics=E.getFontBasicMetrics=void 0;var n=V(3);const j=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});E.getMetrics=j;const x=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});E.getFontBasicMetrics=x},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GlyfTable=void 0,E.GlyfTable=class D{constructor({glyfTable:g,isGlyphLocationsLong:L,locaTable:C,numGlyphs:h}){this.glyphs=[];const M=new DataView(C.buffer,C.byteOffset,C.byteLength),l=new DataView(g.buffer,g.byteOffset,g.byteLength),r=L?4:2;let f=L?M.getUint32(0):2*M.getUint16(0),c=0;for(let u=0;u<h;u++){c+=r;const I=L?M.getUint32(c):2*M.getUint16(c);if(I===f){this.glyphs.push(new b({}));continue}const A=b.parse(f,l);this.glyphs.push(A),f=I}}getSize(){return this.glyphs.reduce((g,L)=>g+(L.getSize()+3&-4),0)}write(){const g=this.getSize(),L=new DataView(new ArrayBuffer(g)),C=g>131070,h=C?4:2,M=new DataView(new ArrayBuffer((this.glyphs.length+1)*h));C?M.setUint32(0,0):M.setUint16(0,0);let l=0,r=0;for(const f of this.glyphs)l+=f.write(l,L),l=l+3&-4,r+=h,C?M.setUint32(r,l):M.setUint16(r,l>>1);return{isLocationLong:C,loca:new Uint8Array(M.buffer),glyf:new Uint8Array(L.buffer)}}scale(g){for(let L=0,C=this.glyphs.length;L<C;L++)this.glyphs[L].scale(g[L])}};class b{constructor({header:g=null,simple:L=null,composites:C=null}){this.header=g,this.simple=L,this.composites=C}static parse(g,L){const[C,h]=O.parse(g,L);if(g+=C,h.numberOfContours<0){const l=[];for(;;){const[r,f]=d.parse(g,L);if(g+=r,l.push(f),!(32&f.flags))break}return new b({header:h,composites:l})}const M=S.parse(g,L,h.numberOfContours);return new b({header:h,simple:M})}getSize(){if(!this.header)return 0;const g=this.simple?this.simple.getSize():this.composites.reduce((L,C)=>L+C.getSize(),0);return this.header.getSize()+g}write(g,L){if(!this.header)return 0;const C=g;if(g+=this.header.write(g,L),this.simple)g+=this.simple.write(g,L);else for(const h of this.composites)g+=h.write(g,L);return g-C}scale(g){if(!this.header)return;const L=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(L,g),this.simple)this.simple.scale(L,g);else for(const C of this.composites)C.scale(L,g)}}class O{constructor({numberOfContours:g,xMin:L,yMin:C,xMax:h,yMax:M}){this.numberOfContours=g,this.xMin=L,this.yMin=C,this.xMax=h,this.yMax=M}static parse(g,L){return[10,new O({numberOfContours:L.getInt16(g),xMin:L.getInt16(g+2),yMin:L.getInt16(g+4),xMax:L.getInt16(g+6),yMax:L.getInt16(g+8)})]}getSize(){return 10}write(g,L){return L.setInt16(g,this.numberOfContours),L.setInt16(g+2,this.xMin),L.setInt16(g+4,this.yMin),L.setInt16(g+6,this.xMax),L.setInt16(g+8,this.yMax),10}scale(g,L){this.xMin=Math.round(g+(this.xMin-g)*L),this.xMax=Math.round(g+(this.xMax-g)*L)}}class v{constructor({flags:g,xCoordinates:L,yCoordinates:C}){this.xCoordinates=L,this.yCoordinates=C,this.flags=g}}class S{constructor({contours:g,instructions:L}){this.contours=g,this.instructions=L}static parse(g,L,C){const h=[];for(let w=0;w<C;w++){const T=L.getUint16(g);g+=2,h.push(T)}const M=h[C-1]+1,l=L.getUint16(g);g+=2;const r=new Uint8Array(L).slice(g,g+l);g+=l;const f=[];for(let w=0;w<M;g++,w++){let T=L.getUint8(g);if(f.push(T),8&T){const N=L.getUint8(++g);T^=8;for(let H=0;H<N;H++)f.push(T);w+=N}}const c=[];let u=[],I=[],A=[];const P=[];let $=0,_=0;for(let w=0;w<M;w++){const T=f[w];if(2&T){const N=L.getUint8(g++);_+=16&T?N:-N,u.push(_)}else 16&T||(_+=L.getInt16(g),g+=2),u.push(_);h[$]===w&&($++,c.push(u),u=[])}_=0,$=0;for(let w=0;w<M;w++){const T=f[w];if(4&T){const N=L.getUint8(g++);_+=32&T?N:-N,I.push(_)}else 32&T||(_+=L.getInt16(g),g+=2),I.push(_);A.push(1&T|64&T),h[$]===w&&(u=c[$],$++,P.push(new v({flags:A,xCoordinates:u,yCoordinates:I})),I=[],A=[])}return new S({contours:P,instructions:r})}getSize(){let g=2*this.contours.length+2+this.instructions.length,L=0,C=0;for(const h of this.contours){g+=h.flags.length;for(let M=0,l=h.xCoordinates.length;M<l;M++){const r=h.xCoordinates[M],f=h.yCoordinates[M];let c=Math.abs(r-L);c>255?g+=2:c>0&&(g+=1),L=r,c=Math.abs(f-C),c>255?g+=2:c>0&&(g+=1),C=f}}return g}write(g,L){const C=g,h=[],M=[],l=[];let r=0,f=0;for(const c of this.contours){for(let u=0,I=c.xCoordinates.length;u<I;u++){let A=c.flags[u];const P=c.xCoordinates[u];let $=P-r;if(0===$)A|=16,h.push(0);else{const w=Math.abs($);w<=255?(A|=$>=0?18:2,h.push(w)):h.push($)}r=P;const _=c.yCoordinates[u];if($=_-f,0===$)A|=32,M.push(0);else{const w=Math.abs($);w<=255?(A|=$>=0?36:4,M.push(w)):M.push($)}f=_,l.push(A)}L.setUint16(g,h.length-1),g+=2}L.setUint16(g,this.instructions.length),g+=2,this.instructions.length&&(new Uint8Array(L.buffer,0,L.buffer.byteLength).set(this.instructions,g),g+=this.instructions.length);for(const c of l)L.setUint8(g++,c);for(let c=0,u=h.length;c<u;c++){const I=h[c],A=l[c];2&A?L.setUint8(g++,I):16&A||(L.setInt16(g,I),g+=2)}for(let c=0,u=M.length;c<u;c++){const I=M[c],A=l[c];4&A?L.setUint8(g++,I):32&A||(L.setInt16(g,I),g+=2)}return g-C}scale(g,L){for(const C of this.contours)if(0!==C.xCoordinates.length)for(let h=0,M=C.xCoordinates.length;h<M;h++)C.xCoordinates[h]=Math.round(g+(C.xCoordinates[h]-g)*L)}}class d{constructor({flags:g,glyphIndex:L,argument1:C,argument2:h,transf:M,instructions:l}){this.flags=g,this.glyphIndex=L,this.argument1=C,this.argument2=h,this.transf=M,this.instructions=l}static parse(g,L){const C=g,h=[];let M=L.getUint16(g);const l=L.getUint16(g+2);let r,f;g+=4,1&M?(2&M?(r=L.getInt16(g),f=L.getInt16(g+2)):(r=L.getUint16(g),f=L.getUint16(g+2)),g+=4,M^=1):(2&M?(r=L.getInt8(g),f=L.getInt8(g+1)):(r=L.getUint8(g),f=L.getUint8(g+1)),g+=2),8&M?(h.push(L.getUint16(g)),g+=2):64&M?(h.push(L.getUint16(g),L.getUint16(g+2)),g+=4):128&M&&(h.push(L.getUint16(g),L.getUint16(g+2),L.getUint16(g+4),L.getUint16(g+6)),g+=8);let c=null;if(256&M){const u=L.getUint16(g);g+=2,c=new Uint8Array(L).slice(g,g+u),g+=u}return[g-C,new d({flags:M,glyphIndex:l,argument1:r,argument2:f,transf:h,instructions:c})]}getSize(){let g=4+2*this.transf.length;return 256&this.flags&&(g+=2+this.instructions.length),g+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(g+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(g+=2),g}write(g,L){const C=g;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),L.setUint16(g,this.flags),L.setUint16(g+2,this.glyphIndex),g+=4,1&this.flags?(2&this.flags?(L.setInt16(g,this.argument1),L.setInt16(g+2,this.argument2)):(L.setUint16(g,this.argument1),L.setUint16(g+2,this.argument2)),g+=4):(L.setUint8(g,this.argument1),L.setUint8(g+1,this.argument2),g+=2),256&this.flags&&(L.setUint16(g,this.instructions.length),g+=2,this.instructions.length&&(new Uint8Array(L.buffer,0,L.buffer.byteLength).set(this.instructions,g),g+=this.instructions.length)),g-C}scale(g,L){}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.OpenTypeFileBuilder=void 0;var n=V(3),j=V(2);function x(y,k,s){y[k]=s>>8&255,y[k+1]=255&s}function e(y,k,s){y[k]=s>>24&255,y[k+1]=s>>16&255,y[k+2]=s>>8&255,y[k+3]=255&s}function t(y,k,s){if(s instanceof Uint8Array)y.set(s,k);else if("string"==typeof s)for(let p=0,i=s.length;p<i;p++)y[k++]=255&s.charCodeAt(p);else for(const p of s)y[k++]=255&p}class m{constructor(k){this.sfnt=k,this.tables=Object.create(null)}static getSearchParams(k,s){let p=1,i=0;for(;(p^k)>p;)p<<=1,i++;const D=p*s;return{range:D,entry:i,rangeShift:s*k-D}}toArray(){let k=this.sfnt;const s=this.tables,p=Object.keys(s);p.sort();const i=p.length;let D,b,O,v,S,d=12+16*i;const B=[d];for(D=0;D<i;D++)v=s[p[D]],d+=(v.length+3&-4)>>>0,B.push(d);const g=new Uint8Array(d);for(D=0;D<i;D++)v=s[p[D]],t(g,B[D],v);"true"===k&&(k=(0,j.string32)(65536)),g[0]=255&k.charCodeAt(0),g[1]=255&k.charCodeAt(1),g[2]=255&k.charCodeAt(2),g[3]=255&k.charCodeAt(3),x(g,4,i);const L=m.getSearchParams(i,16);for(x(g,6,L.range),x(g,8,L.entry),x(g,10,L.rangeShift),d=12,D=0;D<i;D++){S=p[D],g[d]=255&S.charCodeAt(0),g[d+1]=255&S.charCodeAt(1),g[d+2]=255&S.charCodeAt(2),g[d+3]=255&S.charCodeAt(3);let C=0;for(b=B[D],O=B[D+1];b<O;b+=4)C=C+(0,n.readUint32)(g,b)>>>0;e(g,d+4,C),e(g,d+8,B[D]),e(g,d+12,s[S].length),d+=16}return g}addTable(k,s){if(k in this.tables)throw new Error("Table "+k+" already exists");this.tables[k]=s}}E.OpenTypeFileBuilder=m},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Type1Font=void 0;var n=V(35),j=V(2),x=V(38),e=V(3),t=V(8),a=V(49);function F(s,p,i){const D=s.length,b=p.length,O=D-b;let v=i,S=!1;for(;v<O;){let d=0;for(;d<b&&s[v+d]===p[d];)d++;if(d>=b){for(v+=d;v<D&&(0,e.isWhiteSpace)(s[v]);)v++;S=!0;break}v++}return{found:S,length:v}}E.Type1Font=class k{constructor(p,i,D){let O=D.length1,v=D.length2,S=i.peekBytes(6);const d=128===S[0]&&1===S[1];d&&(i.skip(6),O=S[5]<<24|S[4]<<16|S[3]<<8|S[2]);const B=function m(s,p){const i=[101,101,120,101,99],D=s.pos;let b,O,v,d;try{b=s.getBytes(p),O=b.length}catch{}if(O===p&&(v=F(b,i,p-2*i.length),v.found&&v.length===p))return{stream:new t.Stream(b),length:p};for((0,j.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),s.pos=D;v=F(s.peekBytes(2048),i,0),0!==v.length;)if(s.pos+=v.length,v.found){d=s.pos-D;break}return s.pos=D,d?{stream:new t.Stream(s.getBytes(d)),length:d}:((0,j.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(s.getBytes(p)),length:p})}(i,O);new a.Type1Parser(B.stream,!1,x.SEAC_ANALYSIS_ENABLED).extractFontHeader(D),d&&(S=i.getBytes(6),v=S[5]<<24|S[4]<<16|S[3]<<8|S[2]);const L=function y(s,p){const i=s.getBytes();if(0===i.length)throw new j.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(i),length:i.length}}(i),h=new a.Type1Parser(L.stream,!0,x.SEAC_ANALYSIS_ENABLED).extractFontProgram(D);for(const f in h.properties)D[f]=h.properties[f];const M=h.charstrings,l=this.getType2Charstrings(M),r=this.getType2Subrs(h.subrs);this.charstrings=M,this.data=this.wrap(p,l,this.charstrings,r,D),this.seacs=this.getSeacs(h.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const p=[".notdef"];for(const{glyphName:i}of this.charstrings)p.push(i);return p}getGlyphMapping(p){const i=this.charstrings;if(p.composite){const S=Object.create(null);for(let d=0,B=i.length;d<B;d++)S[p.cMap.charCodeOf(d)]=d+1;return S}const D=[".notdef"];let b,O;for(O=0;O<i.length;O++)D.push(i[O].glyphName);const v=p.builtInEncoding;if(v){b=Object.create(null);for(const S in v)O=D.indexOf(v[S]),O>=0&&(b[S]=O)}return(0,x.type1FontGlyphMapping)(p,b,D)}hasGlyphId(p){return!(p<0||p>=this.numGlyphs)&&(0===p||this.charstrings[p-1].charstring.length>0)}getSeacs(p){const i=[];for(let D=0,b=p.length;D<b;D++){const O=p[D];O.seac&&(i[D+1]=O.seac)}return i}getType2Charstrings(p){const i=[];for(const D of p)i.push(D.charstring);return i}getType2Subrs(p){let i=0;const D=p.length;i=D<1133?107:D<33769?1131:32768;const b=[];let O;for(O=0;O<i;O++)b.push([11]);for(O=0;O<D;O++)b.push(p[O]);return b}wrap(p,i,D,b,O){const v=new n.CFF;v.header=new n.CFFHeader(1,0,4,4),v.names=[p];const S=new n.CFFTopDict;S.setByName("version",391),S.setByName("Notice",392),S.setByName("FullName",393),S.setByName("FamilyName",394),S.setByName("Weight",395),S.setByName("Encoding",null),S.setByName("FontMatrix",O.fontMatrix),S.setByName("FontBBox",O.bbox),S.setByName("charset",null),S.setByName("CharStrings",null),S.setByName("Private",null),v.topDict=S;const d=new n.CFFStrings;d.add("Version 0.11"),d.add("See original notice"),d.add(p),d.add(p),d.add("Medium"),v.strings=d,v.globalSubrIndex=new n.CFFIndex;const B=i.length,g=[".notdef"];let L,C;for(L=0;L<B;L++){const c=D[L].glyphName;-1===n.CFFStandardStrings.indexOf(c)&&d.add(c),g.push(c)}v.charset=new n.CFFCharset(!1,0,g);const h=new n.CFFIndex;for(h.add([139,14]),L=0;L<B;L++)h.add(i[L]);v.charStrings=h;const M=new n.CFFPrivateDict;M.setByName("Subrs",null);const l=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(L=0,C=l.length;L<C;L++){const c=l[L];if(!(c in O.privateData))continue;const u=O.privateData[c];if(Array.isArray(u))for(let I=u.length-1;I>0;I--)u[I]-=u[I-1];M.setByName(c,u)}v.topDict.privateDict=M;const r=new n.CFFIndex;for(L=0,C=b.length;L<C;L++)r.add(b[L]);return M.subrsIndex=r,new n.CFFCompiler(v).compile()}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Type1Parser=void 0;var n=V(37),j=V(3),x=V(8),e=V(2);const a_vmoveto=[4],a_rlineto=[5],a_hlineto=[6],a_vlineto=[7],a_rrcurveto=[8],a_flex=[12,35],a_endchar=[14],a_rmoveto=[21],a_hmoveto=[22],a_vhcurveto=[30],a_hvcurveto=[31];class F{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(O,v,S){const d=O.length;let g,L,C,B=!1;for(let h=0;h<d;h++){let M=O[h];if(M<32){switch(12===M&&(M=(M<<8)+O[++h]),M){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){B=!0;break}const u=this.stack.pop();this.stack.push(0,u);break}B=this.executeCommand(1,a_vmoveto);break;case 5:B=this.executeCommand(2,a_rlineto);break;case 6:B=this.executeCommand(1,a_hlineto);break;case 7:B=this.executeCommand(1,a_vlineto);break;case 8:B=this.executeCommand(6,a_rrcurveto);break;case 10:if(this.stack.length<1){B=!0;break}if(C=this.stack.pop(),!v[C]){B=!0;break}B=this.convert(v[C],v,S);break;case 11:return B;case 13:if(this.stack.length<2){B=!0;break}g=this.stack.pop(),L=this.stack.pop(),this.lsb=L,this.width=g,this.stack.push(g,L),B=this.executeCommand(2,a_hmoveto);break;case 14:this.output.push(a_endchar[0]);break;case 21:if(this.flexing)break;B=this.executeCommand(2,a_rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}B=this.executeCommand(1,a_hmoveto);break;case 30:B=this.executeCommand(4,a_vhcurveto);break;case 31:B=this.executeCommand(4,a_hvcurveto);break;case 3078:if(S){const u=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-u,B=this.executeCommand(0,a_endchar)}else B=this.executeCommand(4,a_endchar);break;case 3079:if(this.stack.length<4){B=!0;break}this.stack.pop(),g=this.stack.pop();const l=this.stack.pop();L=this.stack.pop(),this.lsb=L,this.width=g,this.stack.push(g,L,l),B=this.executeCommand(3,a_rmoveto);break;case 3084:if(this.stack.length<2){B=!0;break}const r=this.stack.pop(),f=this.stack.pop();this.stack.push(f/r);break;case 3088:if(this.stack.length<2){B=!0;break}C=this.stack.pop();const c=this.stack.pop();if(0===C&&3===c){const u=this.stack.splice(-17,17);this.stack.push(u[2]+u[0],u[3]+u[1],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14]),B=this.executeCommand(13,a_flex,!0),this.flexing=!1,this.stack.push(u[15],u[16])}else 1===C&&0===c&&(this.flexing=!0);break;case 3089:break;default:(0,e.warn)('Unknown type 1 charstring command of "'+M+'"')}if(B)break}else M<=246?M-=139:M=M<=250?256*(M-247)+O[++h]+108:M<=254?-256*(M-251)-O[++h]-108:(255&O[++h])<<24|(255&O[++h])<<16|(255&O[++h])<<8|(255&O[++h])<<0,this.stack.push(M)}return B}executeCommand(O,v,S){const d=this.stack.length;if(O>d)return!0;const B=d-O;for(let g=B;g<d;g++){let L=this.stack[g];Number.isInteger(L)?this.output.push(28,L>>8&255,255&L):(L=65536*L|0,this.output.push(255,L>>24&255,L>>16&255,L>>8&255,255&L))}return this.output.push(...v),S?this.stack.splice(B,O):this.stack.length=0,!1}}function k(b){return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function s(b,O,v){if(v>=b.length)return new Uint8Array(0);let g,L,B=0|O;for(g=0;g<v;g++)B=52845*(b[g]+B)+22719&65535;const C=b.length-v,h=new Uint8Array(C);for(g=v,L=0;L<C;g++,L++){const M=b[g];h[L]=M^B>>8,B=52845*(M+B)+22719&65535}return h}function i(b){return 47===b||91===b||93===b||123===b||125===b||40===b||41===b}E.Type1Parser=class D{constructor(O,v,S){if(v){const d=O.getBytes(),B=!((k(d[0])||(0,j.isWhiteSpace)(d[0]))&&k(d[1])&&k(d[2])&&k(d[3])&&k(d[4])&&k(d[5])&&k(d[6])&&k(d[7]));O=new x.Stream(B?s(d,55665,4):function p(b,O,v){let B=0|O;const g=b.length,C=new Uint8Array(g>>>1);let h,M;for(h=0,M=0;h<g;h++){const l=b[h];if(!k(l))continue;let r;for(h++;h<g&&!k(r=b[h]);)h++;if(h<g){const f=parseInt(String.fromCharCode(l,r),16);C[M++]=f^B>>8,B=52845*(f+B)+22719&65535}}return C.slice(v,M)}(d,55665,4))}this.seacAnalysisEnabled=!!S,this.stream=O,this.nextChar()}readNumberArray(){this.getToken();const O=[];for(;;){const v=this.getToken();if(null===v||"]"===v||"}"===v)break;O.push(parseFloat(v||0))}return O}readNumber(){const O=this.getToken();return parseFloat(O||0)}readInt(){const O=this.getToken();return 0|parseInt(O||0,10)}readBoolean(){return"true"===this.getToken()?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let O=!1,v=this.currentChar;for(;;){if(-1===v)return null;if(O)(10===v||13===v)&&(O=!1);else if(37===v)O=!0;else if(!(0,j.isWhiteSpace)(v))break;v=this.nextChar()}if(i(v))return this.nextChar(),String.fromCharCode(v);let S="";do{S+=String.fromCharCode(v),v=this.nextChar()}while(v>=0&&!(0,j.isWhiteSpace)(v)&&!i(v));return S}readCharStrings(O,v){return-1===v?O:s(O,4330,v)}extractFontProgram(O){const v=this.stream,S=[],d=[],B=Object.create(null);B.lenIV=4;const g={subrs:[],charstrings:[],properties:{privateData:B}};let L,C,h,M;for(;null!==(L=this.getToken());)if("/"===L)switch(L=this.getToken(),L){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();L=this.getToken(),null!==L&&"end"!==L;){if("/"!==L)continue;const r=this.getToken();C=this.readInt(),this.getToken(),h=C>0?v.getBytes(C):new Uint8Array(0),M=g.properties.privateData.lenIV;const f=this.readCharStrings(h,M);this.nextChar(),L=this.getToken(),"noaccess"===L?this.getToken():"/"===L&&this.prevChar(),d.push({glyph:r,encoded:f})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){const r=this.readInt();C=this.readInt(),this.getToken(),h=C>0?v.getBytes(C):new Uint8Array(0),M=g.properties.privateData.lenIV;const f=this.readCharStrings(h,M);this.nextChar(),L=this.getToken(),"noaccess"===L&&this.getToken(),S[r]=f}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":this.readNumberArray();break;case"StemSnapH":case"StemSnapV":g.properties.privateData[L]=this.readNumberArray();break;case"StdHW":case"StdVW":g.properties.privateData[L]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":g.properties.privateData[L]=this.readNumber();break;case"ExpansionFactor":g.properties.privateData[L]=this.readNumber()||.06;break;case"ForceBold":g.properties.privateData[L]=this.readBoolean()}for(const{encoded:l,glyph:r}of d){const f=new F,c=f.convert(l,S,this.seacAnalysisEnabled);let u=f.output;c&&(u=[14]);const I={glyphName:r,charstring:u,width:f.width,lsb:f.lsb,seac:f.seac};if(".notdef"===r?g.charstrings.unshift(I):g.charstrings.push(I),O.builtInEncoding){const A=O.builtInEncoding.indexOf(r);A>-1&&void 0===O.widths[A]&&A>=O.firstChar&&A<=O.lastChar&&(O.widths[A]=f.width)}}return g}extractFontHeader(O){let v;for(;null!==(v=this.getToken());)if("/"===v)switch(v=this.getToken(),v){case"FontMatrix":const S=this.readNumberArray();O.fontMatrix=S;break;case"Encoding":const d=this.getToken();let B;if(/^\d+$/.test(d)){B=[];const L=0|parseInt(d,10);this.getToken();for(let C=0;C<L;C++){for(v=this.getToken();"dup"!==v&&"def"!==v;)if(v=this.getToken(),null===v)return;if("def"===v)break;const h=this.readInt();this.getToken();const M=this.getToken();B[h]=M,this.getToken()}}else B=(0,n.getEncoding)(d);O.builtInEncoding=B;break;case"FontBBox":const g=this.readNumberArray();O.ascent=Math.max(g[3],g[1]),O.descent=Math.min(g[1],g[3]),O.ascentScaled=!0}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Pattern=void 0,E.clearPatternCaches=function i(){k=Object.create(null)},E.getTilingPatternIR=function O(v,S,d){const B=S.getArray("Matrix"),g=n.Util.normalizeRect(S.getArray("BBox")),L=S.get("XStep"),C=S.get("YStep"),h=S.get("PaintType"),M=S.get("TilingType");if(g[2]-g[0]==0||g[3]-g[1]==0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${g}].`);return["TilingPattern",d,v,B,g,L,C,h,M]};var n=V(2),j=V(5),x=V(12),e=V(3);E.Pattern=class a{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(S,d,B,g,L){const C=S instanceof j.BaseStream?S.dict:S,h=C.get("ShadingType");try{switch(h){case 2:case 3:return new m(C,d,B,g,L);case 4:case 5:case 6:case 7:return new D(S,d,B,g,L);default:throw new n.FormatError("Unsupported ShadingType: "+h)}}catch(M){if(M instanceof e.MissingDataException)throw M;return(0,n.warn)(M),new b}}};class F{static SMALL_NUMBER=1e-6;constructor(){this.constructor===F&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}}class m extends F{constructor(S,d,B,g,L){super(),this.coordsArr=S.getArray("Coords"),this.shadingType=S.get("ShadingType");const C=x.ColorSpace.parse({cs:S.getRaw("CS")||S.getRaw("ColorSpace"),xref:d,resources:B,pdfFunctionFactory:g,localColorSpaceCache:L}),h=S.getArray("BBox");this.bbox=Array.isArray(h)&&4===h.length?n.Util.normalizeRect(h):null;let M=0,l=1;if(S.has("Domain")){const Y=S.getArray("Domain");M=Y[0],l=Y[1]}let r=!1,f=!1;if(S.has("Extend")){const Y=S.getArray("Extend");r=Y[0],f=Y[1]}if(!(3!==this.shadingType||r&&f)){const[Y,K,Z,ae,ie,te]=this.coordsArr,re=Math.hypot(Y-ae,K-ie);Z<=te+re&&te<=Z+re&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=r,this.extendEnd=f;const c=S.getRaw("Function"),u=g.createFromArray(c),A=(l-M)/840,P=this.colorStops=[];if(M>=l||A<=0)return void(0,n.info)("Bad shading domain.");const $=new Float32Array(C.numComps),_=new Float32Array(1);let w,T=0;_[0]=M,u(_,0,$,0);let N=C.getRgb($,0);const H=n.Util.makeHexColor(N[0],N[1],N[2]);P.push([0,H]);let z=1;_[0]=M+A,u(_,0,$,0);let U=C.getRgb($,0),q=U[0]-N[0]+1,J=U[1]-N[1]+1,oe=U[2]-N[2]+1,ne=U[0]-N[0]-1,Q=U[1]-N[1]-1,R=U[2]-N[2]-1;for(let Y=2;Y<840;Y++){_[0]=M+Y*A,u(_,0,$,0),w=C.getRgb($,0);const K=Y-T;if(q=Math.min(q,(w[0]-N[0]+1)/K),J=Math.min(J,(w[1]-N[1]+1)/K),oe=Math.min(oe,(w[2]-N[2]+1)/K),ne=Math.max(ne,(w[0]-N[0]-1)/K),Q=Math.max(Q,(w[1]-N[1]-1)/K),R=Math.max(R,(w[2]-N[2]-1)/K),!(ne<=q&&Q<=J&&R<=oe)){const ae=n.Util.makeHexColor(U[0],U[1],U[2]);P.push([z/840,ae]),q=w[0]-U[0]+1,J=w[1]-U[1]+1,oe=w[2]-U[2]+1,ne=w[0]-U[0]-1,Q=w[1]-U[1]-1,R=w[2]-U[2]-1,T=z,N=U}z=Y,U=w}const X=n.Util.makeHexColor(U[0],U[1],U[2]);P.push([1,X]);let G="transparent";S.has("Background")&&(w=C.getRgb(S.get("Background"),0),G=n.Util.makeHexColor(w[0],w[1],w[2])),r||(P.unshift([0,G]),P[1][0]+=F.SMALL_NUMBER),f||(P.at(-1)[0]-=F.SMALL_NUMBER,P.push([1,G])),this.colorStops=P}getIR(){const S=this.coordsArr,d=this.shadingType;let B,g,L,C,h;return 2===d?(g=[S[0],S[1]],L=[S[2],S[3]],C=null,h=null,B="axial"):3===d?(g=[S[0],S[1]],L=[S[3],S[4]],C=S[2],h=S[5],B="radial"):(0,n.unreachable)(`getPattern type unknown: ${d}`),["RadialAxial",B,this.bbox,this.colorStops,g,L,C,h]}}class y{constructor(S,d){this.stream=S,this.context=d,this.buffer=0,this.bufferLength=0,this.tmpCompsBuf=new Float32Array(d.numComps),this.tmpCsCompsBuf=d.colorFn?new Float32Array(d.colorSpace.numComps):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const S=this.stream.getByte();return!(S<0||(this.buffer=S,this.bufferLength=8,0))}readBits(S){let d=this.buffer,B=this.bufferLength;if(32===S){if(0===B)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;d=d<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const g=this.stream.getByte();return this.buffer=g&(1<<B)-1,(d<<8-B|(255&g)>>B)>>>0}if(8===S&&0===B)return this.stream.getByte();for(;B<S;)d=d<<8|this.stream.getByte(),B+=8;return B-=S,this.bufferLength=B,this.buffer=d&(1<<B)-1,d>>B}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const S=this.context.bitsPerCoordinate,d=this.readBits(S),B=this.readBits(S),g=this.context.decode,L=S<32?1/((1<<S)-1):2.3283064365386963e-10;return[d*L*(g[1]-g[0])+g[0],B*L*(g[3]-g[2])+g[2]]}readComponents(){const S=this.context.numComps,d=this.context.bitsPerComponent,B=d<32?1/((1<<d)-1):2.3283064365386963e-10,g=this.context.decode,L=this.tmpCompsBuf;for(let h=0,M=4;h<S;h++,M+=2){const l=this.readBits(d);L[h]=l*B*(g[M+1]-g[M])+g[M]}const C=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(L,0,C,0),this.context.colorSpace.getRgb(C,0)}}let k=Object.create(null);function p(v){return k[v]||=function s(v){const S=[];for(let d=0;d<=v;d++){const B=d/v,g=1-B;S.push(new Float32Array([g**3,3*B*g**2,3*B**2*g,B**3]))}return S}(v)}class D extends F{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(S,d,B,g,L){if(super(),!(S instanceof j.BaseStream))throw new n.FormatError("Mesh data is not a stream");const C=S.dict;this.shadingType=C.get("ShadingType");const h=C.getArray("BBox");this.bbox=Array.isArray(h)&&4===h.length?n.Util.normalizeRect(h):null;const M=x.ColorSpace.parse({cs:C.getRaw("CS")||C.getRaw("ColorSpace"),xref:d,resources:B,pdfFunctionFactory:g,localColorSpaceCache:L});this.background=C.has("Background")?M.getRgb(C.get("Background"),0):null;const l=C.getRaw("Function"),r=l?g.createFromArray(l):null;this.coords=[],this.colors=[],this.figures=[];const f={bitsPerCoordinate:C.get("BitsPerCoordinate"),bitsPerComponent:C.get("BitsPerComponent"),bitsPerFlag:C.get("BitsPerFlag"),decode:C.getArray("Decode"),colorFn:r,colorSpace:M,numComps:r?1:M.numComps},c=new y(S,f);let u=!1;switch(this.shadingType){case 4:this._decodeType4Shading(c);break;case 5:const I=0|C.get("VerticesPerRow");if(I<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(c,I);break;case 6:this._decodeType6Shading(c),u=!0;break;case 7:this._decodeType7Shading(c),u=!0;break;default:(0,n.unreachable)("Unsupported mesh type.")}if(u){this._updateBounds();for(let I=0,A=this.figures.length;I<A;I++)this._buildFigureFromPatch(I)}this._updateBounds(),this._packData()}_decodeType4Shading(S){const d=this.coords,B=this.colors,g=[],L=[];let C=0;for(;S.hasData;){const h=S.readFlag(),M=S.readCoordinate(),l=S.readComponents();if(0===C){if(!(0<=h&&h<=2))throw new n.FormatError("Unknown type4 flag");switch(h){case 0:C=3;break;case 1:L.push(L.at(-2),L.at(-1)),C=1;break;case 2:L.push(L.at(-3),L.at(-1)),C=1}g.push(h)}L.push(d.length),d.push(M),B.push(l),C--,S.align()}this.figures.push({type:"triangles",coords:new Int32Array(L),colors:new Int32Array(L)})}_decodeType5Shading(S,d){const B=this.coords,g=this.colors,L=[];for(;S.hasData;){const C=S.readCoordinate(),h=S.readComponents();L.push(B.length),B.push(C),g.push(h)}this.figures.push({type:"lattice",coords:new Int32Array(L),colors:new Int32Array(L),verticesPerRow:d})}_decodeType6Shading(S){const d=this.coords,B=this.colors,g=new Int32Array(16),L=new Int32Array(4);for(;S.hasData;){const C=S.readFlag();if(!(0<=C&&C<=3))throw new n.FormatError("Unknown type6 flag");const h=d.length;for(let u=0,I=0!==C?8:12;u<I;u++)d.push(S.readCoordinate());const M=B.length;for(let u=0,I=0!==C?2:4;u<I;u++)B.push(S.readComponents());let l,r,f,c;switch(C){case 0:g[12]=h+3,g[13]=h+4,g[14]=h+5,g[15]=h+6,g[8]=h+2,g[11]=h+7,g[4]=h+1,g[7]=h+8,g[0]=h,g[1]=h+11,g[2]=h+10,g[3]=h+9,L[2]=M+1,L[3]=M+2,L[0]=M,L[1]=M+3;break;case 1:l=g[12],r=g[13],f=g[14],c=g[15],g[12]=c,g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=f,g[11]=h+3,g[4]=r,g[7]=h+4,g[0]=l,g[1]=h+7,g[2]=h+6,g[3]=h+5,l=L[2],r=L[3],L[2]=r,L[3]=M,L[0]=l,L[1]=M+1;break;case 2:l=g[15],r=g[11],g[12]=g[3],g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=g[7],g[11]=h+3,g[4]=r,g[7]=h+4,g[0]=l,g[1]=h+7,g[2]=h+6,g[3]=h+5,l=L[3],L[2]=L[1],L[3]=M,L[0]=l,L[1]=M+1;break;case 3:g[12]=g[0],g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=g[1],g[11]=h+3,g[4]=g[2],g[7]=h+4,g[0]=g[3],g[1]=h+7,g[2]=h+6,g[3]=h+5,L[2]=L[0],L[3]=M,L[0]=L[1],L[1]=M+1}g[5]=d.length,d.push([(-4*d[g[0]][0]-d[g[15]][0]+6*(d[g[4]][0]+d[g[1]][0])-2*(d[g[12]][0]+d[g[3]][0])+3*(d[g[13]][0]+d[g[7]][0]))/9,(-4*d[g[0]][1]-d[g[15]][1]+6*(d[g[4]][1]+d[g[1]][1])-2*(d[g[12]][1]+d[g[3]][1])+3*(d[g[13]][1]+d[g[7]][1]))/9]),g[6]=d.length,d.push([(-4*d[g[3]][0]-d[g[12]][0]+6*(d[g[2]][0]+d[g[7]][0])-2*(d[g[0]][0]+d[g[15]][0])+3*(d[g[4]][0]+d[g[14]][0]))/9,(-4*d[g[3]][1]-d[g[12]][1]+6*(d[g[2]][1]+d[g[7]][1])-2*(d[g[0]][1]+d[g[15]][1])+3*(d[g[4]][1]+d[g[14]][1]))/9]),g[9]=d.length,d.push([(-4*d[g[12]][0]-d[g[3]][0]+6*(d[g[8]][0]+d[g[13]][0])-2*(d[g[0]][0]+d[g[15]][0])+3*(d[g[11]][0]+d[g[1]][0]))/9,(-4*d[g[12]][1]-d[g[3]][1]+6*(d[g[8]][1]+d[g[13]][1])-2*(d[g[0]][1]+d[g[15]][1])+3*(d[g[11]][1]+d[g[1]][1]))/9]),g[10]=d.length,d.push([(-4*d[g[15]][0]-d[g[0]][0]+6*(d[g[11]][0]+d[g[14]][0])-2*(d[g[12]][0]+d[g[3]][0])+3*(d[g[2]][0]+d[g[8]][0]))/9,(-4*d[g[15]][1]-d[g[0]][1]+6*(d[g[11]][1]+d[g[14]][1])-2*(d[g[12]][1]+d[g[3]][1])+3*(d[g[2]][1]+d[g[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(g),colors:new Int32Array(L)})}}_decodeType7Shading(S){const d=this.coords,B=this.colors,g=new Int32Array(16),L=new Int32Array(4);for(;S.hasData;){const C=S.readFlag();if(!(0<=C&&C<=3))throw new n.FormatError("Unknown type7 flag");const h=d.length;for(let u=0,I=0!==C?12:16;u<I;u++)d.push(S.readCoordinate());const M=B.length;for(let u=0,I=0!==C?2:4;u<I;u++)B.push(S.readComponents());let l,r,f,c;switch(C){case 0:g[12]=h+3,g[13]=h+4,g[14]=h+5,g[15]=h+6,g[8]=h+2,g[9]=h+13,g[10]=h+14,g[11]=h+7,g[4]=h+1,g[5]=h+12,g[6]=h+15,g[7]=h+8,g[0]=h,g[1]=h+11,g[2]=h+10,g[3]=h+9,L[2]=M+1,L[3]=M+2,L[0]=M,L[1]=M+3;break;case 1:l=g[12],r=g[13],f=g[14],c=g[15],g[12]=c,g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=f,g[9]=h+9,g[10]=h+10,g[11]=h+3,g[4]=r,g[5]=h+8,g[6]=h+11,g[7]=h+4,g[0]=l,g[1]=h+7,g[2]=h+6,g[3]=h+5,l=L[2],r=L[3],L[2]=r,L[3]=M,L[0]=l,L[1]=M+1;break;case 2:l=g[15],r=g[11],g[12]=g[3],g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=g[7],g[9]=h+9,g[10]=h+10,g[11]=h+3,g[4]=r,g[5]=h+8,g[6]=h+11,g[7]=h+4,g[0]=l,g[1]=h+7,g[2]=h+6,g[3]=h+5,l=L[3],L[2]=L[1],L[3]=M,L[0]=l,L[1]=M+1;break;case 3:g[12]=g[0],g[13]=h+0,g[14]=h+1,g[15]=h+2,g[8]=g[1],g[9]=h+9,g[10]=h+10,g[11]=h+3,g[4]=g[2],g[5]=h+8,g[6]=h+11,g[7]=h+4,g[0]=g[3],g[1]=h+7,g[2]=h+6,g[3]=h+5,L[2]=L[0],L[3]=M,L[0]=L[1],L[1]=M+1}this.figures.push({type:"patch",coords:new Int32Array(g),colors:new Int32Array(L)})}}_buildFigureFromPatch(S){const d=this.figures[S];(0,n.assert)("patch"===d.type,"Unexpected patch mesh figure");const B=this.coords,g=this.colors,L=d.coords,C=d.colors,h=Math.min(B[L[0]][0],B[L[3]][0],B[L[12]][0],B[L[15]][0]),M=Math.min(B[L[0]][1],B[L[3]][1],B[L[12]][1],B[L[15]][1]),l=Math.max(B[L[0]][0],B[L[3]][0],B[L[12]][0],B[L[15]][0]),r=Math.max(B[L[0]][1],B[L[3]][1],B[L[12]][1],B[L[15]][1]);let f=Math.ceil((l-h)*D.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));f=Math.max(D.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(D.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,f));let c=Math.ceil((r-M)*D.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));c=Math.max(D.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(D.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,c));const u=f+1,I=new Int32Array((c+1)*u),A=new Int32Array((c+1)*u);let P=0;const $=new Uint8Array(3),_=new Uint8Array(3),w=g[C[0]],T=g[C[1]],N=g[C[2]],H=g[C[3]],z=p(c),U=p(f);for(let q=0;q<=c;q++){$[0]=(w[0]*(c-q)+N[0]*q)/c|0,$[1]=(w[1]*(c-q)+N[1]*q)/c|0,$[2]=(w[2]*(c-q)+N[2]*q)/c|0,_[0]=(T[0]*(c-q)+H[0]*q)/c|0,_[1]=(T[1]*(c-q)+H[1]*q)/c|0,_[2]=(T[2]*(c-q)+H[2]*q)/c|0;for(let J=0;J<=f;J++,P++){if(!(0!==q&&q!==c||0!==J&&J!==f))continue;let oe=0,ne=0,Q=0;for(let X=0;X<=3;X++)for(let G=0;G<=3;G++,Q++){const Y=z[q][X]*U[J][G];oe+=B[L[Q]][0]*Y,ne+=B[L[Q]][1]*Y}I[P]=B.length,B.push([oe,ne]),A[P]=g.length;const R=new Uint8Array(3);R[0]=($[0]*(f-J)+_[0]*J)/f|0,R[1]=($[1]*(f-J)+_[1]*J)/f|0,R[2]=($[2]*(f-J)+_[2]*J)/f|0,g.push(R)}}I[0]=L[0],A[0]=C[0],I[f]=L[3],A[f]=C[1],I[u*c]=L[12],A[u*c]=C[2],I[u*c+f]=L[15],A[u*c+f]=C[3],this.figures[S]={type:"lattice",coords:I,colors:A,verticesPerRow:u}}_updateBounds(){let S=this.coords[0][0],d=this.coords[0][1],B=S,g=d;for(let L=1,C=this.coords.length;L<C;L++){const h=this.coords[L][0],M=this.coords[L][1];S=S>h?h:S,d=d>M?M:d,B=B<h?h:B,g=g<M?M:g}this.bounds=[S,d,B,g]}_packData(){let S,d,B,g;const L=this.coords,C=new Float32Array(2*L.length);for(S=0,B=0,d=L.length;S<d;S++){const r=L[S];C[B++]=r[0],C[B++]=r[1]}this.coords=C;const h=this.colors,M=new Uint8Array(3*h.length);for(S=0,B=0,d=h.length;S<d;S++){const r=h[S];M[B++]=r[0],M[B++]=r[1],M[B++]=r[2]}this.colors=M;const l=this.figures;for(S=0,d=l.length;S<d;S++){const r=l[S],f=r.coords,c=r.colors;for(B=0,g=f.length;B<g;B++)f[B]*=2,c[B]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class b extends F{getIR(){return["Dummy"]}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getXfaFontDict=function p(i){const D=function s(i){const D=k(i);if(!D)return null;const{baseWidths:b,baseMapping:O,factors:v}=D,S=v?b.map((L,C)=>L*v[C]):b;let B,d=-2;const g=[];for(const[L,C]of O.map((h,M)=>[h,M]).sort(([h],[M])=>h-M))-1!==L&&(L===d+1?(B.push(S[C]),d+=1):(d=L,B=[S[C]],g.push(L,B)));return g}(i),b=new j.Dict(null);b.set("BaseFont",j.Name.get(i)),b.set("Type",j.Name.get("Font")),b.set("Subtype",j.Name.get("CIDFontType2")),b.set("Encoding",j.Name.get("Identity-H")),b.set("CIDToGIDMap",j.Name.get("Identity")),b.set("W",D),b.set("FirstChar",D[0]),b.set("LastChar",D.at(-2)+D.at(-1).length-1);const O=new j.Dict(null);b.set("FontDescriptor",O);const v=new j.Dict(null);return v.set("Ordering","Identity"),v.set("Registry","Adobe"),v.set("Supplement",0),b.set("CIDSystemInfo",v),b},E.getXfaFontName=k;var n=V(52),j=V(4),x=V(53),e=V(54),t=V(55),a=V(56),F=V(3),m=V(38);const y=(0,F.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:a.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:a.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:a.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:a.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:a.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:a.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:a.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:a.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:x.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:x.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:x.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:x.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:x.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:x.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:x.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:x.HelveticaBoldItalicMetrics}});function k(i){const D=(0,m.normalizeFontName)(i);return y()[D]}},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CalibriRegularMetrics=E.CalibriRegularFactors=E.CalibriItalicMetrics=E.CalibriItalicFactors=E.CalibriBoldMetrics=E.CalibriBoldItalicMetrics=E.CalibriBoldItalicFactors=E.CalibriBoldFactors=void 0,E.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},E.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},E.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},E.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],E.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.HelveticaRegularMetrics=E.HelveticaRegularFactors=E.HelveticaItalicMetrics=E.HelveticaItalicFactors=E.HelveticaBoldMetrics=E.HelveticaBoldItalicMetrics=E.HelveticaBoldItalicFactors=E.HelveticaBoldFactors=void 0,E.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],E.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},E.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],E.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},E.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],E.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},E.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.LiberationSansRegularWidths=E.LiberationSansRegularMapping=E.LiberationSansItalicWidths=E.LiberationSansItalicMapping=E.LiberationSansBoldWidths=E.LiberationSansBoldMapping=E.LiberationSansBoldItalicWidths=E.LiberationSansBoldItalicMapping=void 0,E.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],E.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],E.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],E.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],E.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],E.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],E.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],E.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MyriadProRegularMetrics=E.MyriadProRegularFactors=E.MyriadProItalicMetrics=E.MyriadProItalicFactors=E.MyriadProBoldMetrics=E.MyriadProBoldItalicMetrics=E.MyriadProBoldItalicFactors=E.MyriadProBoldFactors=void 0,E.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},E.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},E.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},E.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SegoeuiRegularMetrics=E.SegoeuiRegularFactors=E.SegoeuiItalicMetrics=E.SegoeuiItalicFactors=E.SegoeuiBoldMetrics=E.SegoeuiBoldItalicMetrics=E.SegoeuiBoldItalicFactors=E.SegoeuiBoldFactors=void 0,E.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},E.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},E.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],E.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},E.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],E.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PostScriptEvaluator=E.PostScriptCompiler=E.PDFFunctionFactory=void 0,E.isPDFFunction=function y(M){let l;if(M instanceof n.Dict)l=M;else{if(!(M instanceof e.BaseStream))return!1;l=M.dict}return l.has("FunctionType")};var n=V(4),j=V(2),x=V(58),e=V(5),t=V(59);function F(M){if(!Array.isArray(M))return null;const l=M.length;for(let r=0;r<l;r++)if("number"!=typeof M[r]){const f=new Array(l);for(let c=0;c<l;c++)f[c]=+M[c];return f}return M}E.PDFFunctionFactory=class a{constructor({xref:l,isEvalSupported:r=!0}){this.xref=l,this.isEvalSupported=!1!==r}create(l){const r=this.getCached(l);if(r)return r;const f=m.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:l instanceof n.Ref?this.xref.fetch(l):l});return this._cache(l,f),f}createFromArray(l){const r=this.getCached(l);if(r)return r;const f=m.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:l instanceof n.Ref?this.xref.fetch(l):l});return this._cache(l,f),f}getCached(l){let r;if(l instanceof n.Ref?r=l:l instanceof n.Dict?r=l.objId:l instanceof e.BaseStream&&(r=l.dict?.objId),r){const f=this._localFunctionCache.getByRef(r);if(f)return f}return null}_cache(l,r){if(!r)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let f;l instanceof n.Ref?f=l:l instanceof n.Dict?f=l.objId:l instanceof e.BaseStream&&(f=l.dict?.objId),f&&this._localFunctionCache.set(null,f,r)}get _localFunctionCache(){return(0,j.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}};class m{static getSampleArray(l,r,f,c){let u,I,A=1;for(u=0,I=l.length;u<I;u++)A*=l[u];A*=r;const P=new Array(A);let $=0,_=0;const w=1/(2**f-1),T=c.getBytes((A*f+7)/8);let N=0;for(u=0;u<A;u++){for(;$<f;)_<<=8,_|=T[N++],$+=8;$-=f,P[u]=(_>>$)*w,_&=(1<<$)-1}return P}static parse({xref:l,isEvalSupported:r,fn:f}){const c=f.dict||f;switch(c.get("FunctionType")){case 0:return this.constructSampled({xref:l,isEvalSupported:r,fn:f,dict:c});case 1:break;case 2:return this.constructInterpolated({xref:l,isEvalSupported:r,dict:c});case 3:return this.constructStiched({xref:l,isEvalSupported:r,dict:c});case 4:return this.constructPostScript({xref:l,isEvalSupported:r,fn:f,dict:c})}throw new j.FormatError("Unknown type of function")}static parseArray({xref:l,isEvalSupported:r,fnObj:f}){if(!Array.isArray(f))return this.parse({xref:l,isEvalSupported:r,fn:f});const c=[];for(const u of f)c.push(this.parse({xref:l,isEvalSupported:r,fn:l.fetchIfRef(u)}));return function(u,I,A,P){for(let $=0,_=c.length;$<_;$++)c[$](u,I,A,P+$)}}static constructSampled({fn:f,dict:c}){function u(q){const J=q.length,oe=[];let ne=0;for(let Q=0;Q<J;Q+=2)oe[ne++]=[q[Q],q[Q+1]];return oe}function I(q,J,oe,ne,Q){return ne+(Q-ne)/(oe-J)*(q-J)}let A=F(c.getArray("Domain")),P=F(c.getArray("Range"));if(!A||!P)throw new j.FormatError("No domain or range");const $=A.length/2,_=P.length/2;A=u(A),P=u(P);const w=F(c.getArray("Size")),T=c.get("BitsPerSample"),N=c.get("Order")||1;1!==N&&(0,j.info)("No support for cubic spline interpolation: "+N);let H=F(c.getArray("Encode"));if(H)H=u(H);else{H=[];for(let q=0;q<$;++q)H.push([0,w[q]-1])}let z=F(c.getArray("Decode"));z=z?u(z):P;const U=this.getSampleArray(w,_,T,f);return function(J,oe,ne,Q){const R=1<<$,X=new Float64Array(R),G=new Uint32Array(R);let Y,K;for(K=0;K<R;K++)X[K]=1;let Z=_,ae=1;for(Y=0;Y<$;++Y){const ie=A[Y][0],te=A[Y][1];let ee=I(Math.min(Math.max(J[oe+Y],ie),te),ie,te,H[Y][0],H[Y][1]);const le=w[Y];ee=Math.min(Math.max(ee,0),le-1);const ue=ee<le-1?Math.floor(ee):ee-1,fe=ue+1-ee,Se=ee-ue,Ce=ue*Z,ve=Ce+Z;for(K=0;K<R;K++)K&ae?(X[K]*=Se,G[K]+=ve):(X[K]*=fe,G[K]+=Ce);Z*=le,ae<<=1}for(K=0;K<_;++K){let ie=0;for(Y=0;Y<R;Y++)ie+=U[G[Y]+K]*X[Y];ie=I(ie,0,1,z[K][0],z[K][1]),ne[Q+K]=Math.min(Math.max(ie,P[K][0]),P[K][1])}}}static constructInterpolated({dict:f}){const c=F(f.getArray("C0"))||[0],u=F(f.getArray("C1"))||[1],I=f.get("N"),A=[];for(let $=0,_=c.length;$<_;++$)A.push(u[$]-c[$]);const P=A.length;return function(_,w,T,N){const H=1===I?_[w]:_[w]**I;for(let z=0;z<P;++z)T[N+z]=c[z]+H*A[z]}}static constructStiched({xref:l,isEvalSupported:r,dict:f}){const c=F(f.getArray("Domain"));if(!c)throw new j.FormatError("No domain");if(c.length/2!=1)throw new j.FormatError("Bad domain for stiched function");const I=[];for(const _ of f.get("Functions"))I.push(this.parse({xref:l,isEvalSupported:r,fn:l.fetchIfRef(_)}));const A=F(f.getArray("Bounds")),P=F(f.getArray("Encode")),$=new Float32Array(1);return function(w,T,N,H){const U=(Y=c[0],(G=w[T])>(K=c[1])?G=K:G<Y&&(G=Y),G),q=A.length;var G,Y,K;let J;for(J=0;J<q&&!(U<A[J]);++J);let oe=c[0];J>0&&(oe=A[J-1]);let ne=c[1];J<A.length&&(ne=A[J]);const Q=P[2*J];$[0]=oe===ne?Q:Q+(U-oe)*(P[2*J+1]-Q)/(ne-oe),I[J]($,0,N,H)}}static constructPostScript({isEvalSupported:r,fn:f,dict:c}){const u=F(c.getArray("Domain")),I=F(c.getArray("Range"));if(!u)throw new j.FormatError("No domain.");if(!I)throw new j.FormatError("No range.");const A=new x.PostScriptLexer(f),$=new x.PostScriptParser(A).parse();if(r&&j.FeatureTest.isEvalSupported){const q=(new h).compile($,u,I);if(q)return new Function("src","srcOffset","dest","destOffset",q)}(0,j.info)("Unable to compile PS function");const _=I.length>>1,w=u.length>>1,T=new s($),N=Object.create(null);let z=8192;const U=new Float32Array(w);return function(J,oe,ne,Q){let R,X,G="";const Y=U;for(R=0;R<w;R++)X=J[oe+R],Y[R]=X,G+=X+"_";const K=N[G];if(void 0!==K)return void ne.set(K,Q);const Z=new Float32Array(_),ae=T.execute(Y),ie=ae.length-_;for(R=0;R<_;R++){X=ae[ie+R];let te=I[2*R];X<te?X=te:(te=I[2*R+1],X>te&&(X=te)),Z[R]=X}z>0&&(z--,N[G]=Z),ne.set(Z,Q)}}}class k{static MAX_STACK_SIZE=100;constructor(l){this.stack=l?Array.from(l):[]}push(l){if(this.stack.length>=k.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(l)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(l){if(this.stack.length+l>=k.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const r=this.stack;for(let f=r.length-l,c=l-1;c>=0;c--,f++)r.push(r[f])}index(l){this.push(this.stack[this.stack.length-l-1])}roll(l,r){const f=this.stack,c=f.length-l,u=f.length-1,I=c+(r-Math.floor(r/l)*l);for(let A=c,P=u;A<P;A++,P--){const $=f[A];f[A]=f[P],f[P]=$}for(let A=c,P=I-1;A<P;A++,P--){const $=f[A];f[A]=f[P],f[P]=$}for(let A=I,P=u;A<P;A++,P--){const $=f[A];f[A]=f[P],f[P]=$}}}class s{constructor(l){this.operators=l}execute(l){const r=new k(l);let f=0;const c=this.operators,u=c.length;let I,A,P;for(;f<u;)if(I=c[f++],"number"!=typeof I)switch(I){case"jz":P=r.pop(),A=r.pop(),A||(f=P);break;case"j":A=r.pop(),f=A;break;case"abs":A=r.pop(),r.push(Math.abs(A));break;case"add":P=r.pop(),A=r.pop(),r.push(A+P);break;case"and":P=r.pop(),A=r.pop(),r.push("boolean"==typeof A&&"boolean"==typeof P?A&&P:A&P);break;case"atan":P=r.pop(),A=r.pop(),A=Math.atan2(A,P)/Math.PI*180,A<0&&(A+=360),r.push(A);break;case"bitshift":P=r.pop(),A=r.pop(),r.push(A>0?A<<P:A>>P);break;case"ceiling":A=r.pop(),r.push(Math.ceil(A));break;case"copy":A=r.pop(),r.copy(A);break;case"cos":A=r.pop(),r.push(Math.cos(A%360/180*Math.PI));break;case"cvi":A=0|r.pop(),r.push(A);break;case"cvr":break;case"div":P=r.pop(),A=r.pop(),r.push(A/P);break;case"dup":r.copy(1);break;case"eq":P=r.pop(),A=r.pop(),r.push(A===P);break;case"exch":r.roll(2,1);break;case"exp":P=r.pop(),A=r.pop(),r.push(A**P);break;case"false":r.push(!1);break;case"floor":A=r.pop(),r.push(Math.floor(A));break;case"ge":P=r.pop(),A=r.pop(),r.push(A>=P);break;case"gt":P=r.pop(),A=r.pop(),r.push(A>P);break;case"idiv":P=r.pop(),A=r.pop(),r.push(A/P|0);break;case"index":A=r.pop(),r.index(A);break;case"le":P=r.pop(),A=r.pop(),r.push(A<=P);break;case"ln":A=r.pop(),r.push(Math.log(A));break;case"log":A=r.pop(),r.push(Math.log10(A));break;case"lt":P=r.pop(),A=r.pop(),r.push(A<P);break;case"mod":P=r.pop(),A=r.pop(),r.push(A%P);break;case"mul":P=r.pop(),A=r.pop(),r.push(A*P);break;case"ne":P=r.pop(),A=r.pop(),r.push(A!==P);break;case"neg":A=r.pop(),r.push(-A);break;case"not":A=r.pop(),r.push("boolean"==typeof A?!A:~A);break;case"or":P=r.pop(),A=r.pop(),r.push("boolean"==typeof A&&"boolean"==typeof P?A||P:A|P);break;case"pop":r.pop();break;case"roll":P=r.pop(),A=r.pop(),r.roll(A,P);break;case"round":A=r.pop(),r.push(Math.round(A));break;case"sin":A=r.pop(),r.push(Math.sin(A%360/180*Math.PI));break;case"sqrt":A=r.pop(),r.push(Math.sqrt(A));break;case"sub":P=r.pop(),A=r.pop(),r.push(A-P);break;case"true":r.push(!0);break;case"truncate":A=r.pop(),A=A<0?Math.ceil(A):Math.floor(A),r.push(A);break;case"xor":P=r.pop(),A=r.pop(),r.push("boolean"==typeof A&&"boolean"==typeof P?A!==P:A^P);break;default:throw new j.FormatError(`Unknown operator ${I}`)}else r.push(I);return r.stack}}E.PostScriptEvaluator=s;class p{constructor(l){this.type=l}visit(l){(0,j.unreachable)("abstract method")}}class i extends p{constructor(l,r,f){super("args"),this.index=l,this.min=r,this.max=f}visit(l){l.visitArgument(this)}}class D extends p{constructor(l){super("literal"),this.number=l,this.min=l,this.max=l}visit(l){l.visitLiteral(this)}}class b extends p{constructor(l,r,f,c,u){super("binary"),this.op=l,this.arg1=r,this.arg2=f,this.min=c,this.max=u}visit(l){l.visitBinaryOperation(this)}}class O extends p{constructor(l,r){super("max"),this.arg=l,this.min=l.min,this.max=r}visit(l){l.visitMin(this)}}class v extends p{constructor(l,r,f){super("var"),this.index=l,this.min=r,this.max=f}visit(l){l.visitVariable(this)}}class S extends p{constructor(l,r){super("definition"),this.variable=l,this.arg=r}visit(l){l.visitVariableDefinition(this)}}class d{constructor(){this.parts=[]}visitArgument(l){this.parts.push("Math.max(",l.min,", Math.min(",l.max,", src[srcOffset + ",l.index,"]))")}visitVariable(l){this.parts.push("v",l.index)}visitLiteral(l){this.parts.push(l.number)}visitBinaryOperation(l){this.parts.push("("),l.arg1.visit(this),this.parts.push(" ",l.op," "),l.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(l){this.parts.push("var "),l.variable.visit(this),this.parts.push(" = "),l.arg.visit(this),this.parts.push(";")}visitMin(l){this.parts.push("Math.min("),l.arg.visit(this),this.parts.push(", ",l.max,")")}toString(){return this.parts.join("")}}function B(M,l){return"literal"===l.type&&0===l.number?M:"literal"===M.type&&0===M.number?l:"literal"===l.type&&"literal"===M.type?new D(M.number+l.number):new b("+",M,l,M.min+l.min,M.max+l.max)}function g(M,l){if("literal"===l.type){if(0===l.number)return new D(0);if(1===l.number)return M;if("literal"===M.type)return new D(M.number*l.number)}if("literal"===M.type){if(0===M.number)return new D(0);if(1===M.number)return l}const r=Math.min(M.min*l.min,M.min*l.max,M.max*l.min,M.max*l.max),f=Math.max(M.min*l.min,M.min*l.max,M.max*l.min,M.max*l.max);return new b("*",M,l,r,f)}function L(M,l){if("literal"===l.type){if(0===l.number)return M;if("literal"===M.type)return new D(M.number-l.number)}return"binary"===l.type&&"-"===l.op&&"literal"===M.type&&1===M.number&&"literal"===l.arg1.type&&1===l.arg1.number?l.arg2:new b("-",M,l,M.min-l.max,M.max-l.min)}function C(M,l){return M.min>=l?new D(l):M.max<=l?M:new O(M,l)}class h{compile(l,r,f){const c=[],u=[],I=r.length>>1,A=f.length>>1;let $,_,w,T,N,H,z,U,P=0;for(let J=0;J<I;J++)c.push(new i(J,r[2*J],r[2*J+1]));for(let J=0,oe=l.length;J<oe;J++)if(U=l[J],"number"!=typeof U)switch(U){case"add":if(c.length<2)return null;T=c.pop(),w=c.pop(),c.push(B(w,T));break;case"cvr":if(c.length<1)return null;break;case"mul":if(c.length<2)return null;T=c.pop(),w=c.pop(),c.push(g(w,T));break;case"sub":if(c.length<2)return null;T=c.pop(),w=c.pop(),c.push(L(w,T));break;case"exch":if(c.length<2)return null;N=c.pop(),H=c.pop(),c.push(N,H);break;case"pop":if(c.length<1)return null;c.pop();break;case"index":if(c.length<1||(w=c.pop(),"literal"!==w.type)||($=w.number,$<0||!Number.isInteger($)||c.length<$))return null;if(N=c[c.length-$-1],"literal"===N.type||"var"===N.type){c.push(N);break}z=new v(P++,N.min,N.max),c[c.length-$-1]=z,c.push(z),u.push(new S(z,N));break;case"dup":if(c.length<1)return null;if("number"==typeof l[J+1]&&"gt"===l[J+2]&&l[J+3]===J+7&&"jz"===l[J+4]&&"pop"===l[J+5]&&l[J+6]===l[J+1]){w=c.pop(),c.push(C(w,l[J+1])),J+=6;break}if(N=c.at(-1),"literal"===N.type||"var"===N.type){c.push(N);break}z=new v(P++,N.min,N.max),c[c.length-1]=z,c.push(z),u.push(new S(z,N));break;case"roll":if(c.length<2||(T=c.pop(),w=c.pop(),"literal"!==T.type||"literal"!==w.type)||(_=T.number,$=w.number,$<=0||!Number.isInteger($)||!Number.isInteger(_)||c.length<$))return null;if(_=(_%$+$)%$,0===_)break;c.push(...c.splice(c.length-$,$-_));break;default:return null}else c.push(new D(U));if(c.length!==A)return null;const q=[];for(const J of u){const oe=new d;J.visit(oe),q.push(oe.toString())}for(let J=0,oe=c.length;J<oe;J++){const ne=c[J],Q=new d;ne.visit(Q);const R=f[2*J],X=f[2*J+1],G=[Q.toString()];R>ne.min&&(G.unshift("Math.max(",R,", "),G.push(")")),X<ne.max&&(G.unshift("Math.min(",X,", "),G.push(")")),G.unshift("dest[destOffset + ",J,"] = "),G.push(";"),q.push(G.join(""))}return q.join("\n")}}E.PostScriptCompiler=h},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PostScriptParser=E.PostScriptLexer=void 0;var n=V(2),j=V(4),x=V(3);E.PostScriptParser=class e{constructor(y){this.lexer=y,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(y){return this.token.type===y&&(this.nextToken(),!0)}expect(y){if(this.accept(y))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${y}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(t.LBRACE))return;this.parseCondition()}}parseCondition(){const y=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[y]=this.operators.length,this.operators[y+1]="jz";else{if(!this.accept(t.LBRACE))throw new n.FormatError("PS Function: error parsing conditional.");{const k=this.operators.length;this.operators.push(null,null);const s=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[k]=this.operators.length,this.operators[k+1]="j",this.operators[y]=s,this.operators[y+1]="jz"}}}};const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class a{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(y,k){this.type=y,this.value=k}static getOperator(y){return a.opCache[y]||=new a(t.OPERATOR,y)}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new a(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new a(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new a(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new a(t.IFELSE,"IFELSE"))}}E.PostScriptLexer=class F{constructor(y){this.stream=y,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let y=!1,k=this.currentChar;for(;;){if(k<0)return j.EOF;if(y)(10===k||13===k)&&(y=!1);else if(37===k)y=!0;else if(!(0,x.isWhiteSpace)(k))break;k=this.nextChar()}switch(0|k){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new a(t.NUMBER,this.getNumber());case 123:return this.nextChar(),a.LBRACE;case 125:return this.nextChar(),a.RBRACE}const s=this.strBuf;for(s.length=0,s[0]=String.fromCharCode(k);(k=this.nextChar())>=0&&(k>=65&&k<=90||k>=97&&k<=122);)s.push(String.fromCharCode(k));const p=s.join("");switch(p.toLowerCase()){case"if":return a.IF;case"ifelse":return a.IFELSE;default:return a.getOperator(p)}}getNumber(){let y=this.currentChar;const k=this.strBuf;for(k.length=0,k[0]=String.fromCharCode(y);(y=this.nextChar())>=0&&(y>=48&&y<=57||45===y||46===y);)k.push(String.fromCharCode(y));const s=parseFloat(k.join(""));if(isNaN(s))throw new n.FormatError(`Invalid floating point number: ${s}`);return s}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.RegionalImageCache=E.LocalTilingPatternCache=E.LocalImageCache=E.LocalGStateCache=E.LocalFunctionCache=E.LocalColorSpaceCache=E.GlobalImageCache=void 0;var n=V(2),j=V(4);class x{constructor(p){this.constructor===x&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=!0===p?.onlyRefs,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new j.RefSetCache}getByName(p){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const i=this._nameRefMap.get(p);return i?this.getByRef(i):this._imageMap.get(p)||null}getByRef(p){return this._imageCache.get(p)||null}set(p,i,D){(0,n.unreachable)("Abstract method `set` called.")}}E.LocalImageCache=class e extends x{set(p,i=null,D){if("string"!=typeof p)throw new Error('LocalImageCache.set - expected "name" argument.');if(i){if(this._imageCache.has(i))return;return this._nameRefMap.set(p,i),void this._imageCache.put(i,D)}this._imageMap.has(p)||this._imageMap.set(p,D)}},E.LocalColorSpaceCache=class t extends x{set(p=null,i=null,D){if("string"!=typeof p&&!i)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(i){if(this._imageCache.has(i))return;return null!==p&&this._nameRefMap.set(p,i),void this._imageCache.put(i,D)}this._imageMap.has(p)||this._imageMap.set(p,D)}},E.LocalFunctionCache=class a extends x{constructor(p){super({onlyRefs:!0})}set(p=null,i,D){if(!i)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(i)||this._imageCache.put(i,D)}},E.LocalGStateCache=class F extends x{set(p,i=null,D){if("string"!=typeof p)throw new Error('LocalGStateCache.set - expected "name" argument.');if(i){if(this._imageCache.has(i))return;return this._nameRefMap.set(p,i),void this._imageCache.put(i,D)}this._imageMap.has(p)||this._imageMap.set(p,D)}},E.LocalTilingPatternCache=class m extends x{constructor(p){super({onlyRefs:!0})}set(p=null,i,D){if(!i)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(i)||this._imageCache.put(i,D)}},E.RegionalImageCache=class y extends x{constructor(p){super({onlyRefs:!0})}set(p=null,i,D){if(!i)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(i)||this._imageCache.put(i,D)}};class k{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*n.MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new j.RefSetCache,this._imageCache=new j.RefSetCache}get _byteSize(){let p=0;for(const i of this._imageCache)p+=i.byteSize;return p}get _cacheLimitReached(){return!(this._imageCache.size<k.MIN_IMAGES_TO_CACHE||this._byteSize<k.MAX_BYTE_SIZE)}shouldCache(p,i){let D=this._refCache.get(p);return D||(D=new Set,this._refCache.put(p,D)),D.add(i),!(D.size<k.NUM_PAGES_THRESHOLD||!this._imageCache.has(p)&&this._cacheLimitReached)}addByteSize(p,i){const D=this._imageCache.get(p);D&&(D.byteSize||(D.byteSize=i))}getData(p,i){const D=this._refCache.get(p);if(!D||D.size<k.NUM_PAGES_THRESHOLD)return null;const b=this._imageCache.get(p);return b?(D.add(i),b):null}setData(p,i){if(!this._refCache.has(p))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(p)){if(this._cacheLimitReached)return void(0,n.warn)("GlobalImageCache.setData - cache limit reached.");this._imageCache.put(p,i)}}clear(p=!1){p||this._refCache.clear(),this._imageCache.clear()}}E.GlobalImageCache=k},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.bidi=function p(i,D=-1,b=!1){let O=!0;const v=i.length;if(0===v||b)return y(i,O,b);k.length=v,s.length=v;let d,B,S=0;for(d=0;d<v;++d){k[d]=i.charAt(d);const u=i.charCodeAt(d);let I="L";u<=255?I=j[u]:1424<=u&&u<=1524?I="R":1536<=u&&u<=1791?(I=x[255&u],I||(0,n.warn)("Bidi: invalid Unicode character "+u.toString(16))):(1792<=u&&u<=2220||64336<=u&&u<=65023||65136<=u&&u<=65279)&&(I="AL"),("R"===I||"AL"===I||"AN"===I)&&S++,s[d]=I}if(0===S)return O=!0,y(i,O);-1===D&&(S/v<.3&&v>4?(O=!0,D=0):(O=!1,D=1));const g=[];for(d=0;d<v;++d)g[d]=D;const L=e(D)?"R":"L",C=L,h=C;let l,M=C;for(d=0;d<v;++d)"NSM"===s[d]?s[d]=M:M=s[d];for(M=C,d=0;d<v;++d)l=s[d],"EN"===l?s[d]="AL"===M?"AN":"EN":("R"===l||"L"===l||"AL"===l)&&(M=l);for(d=0;d<v;++d)l=s[d],"AL"===l&&(s[d]="R");for(d=1;d<v-1;++d)"ES"===s[d]&&"EN"===s[d-1]&&"EN"===s[d+1]&&(s[d]="EN"),"CS"===s[d]&&("EN"===s[d-1]||"AN"===s[d-1])&&s[d+1]===s[d-1]&&(s[d]=s[d-1]);for(d=0;d<v;++d)if("EN"===s[d]){for(let u=d-1;u>=0&&"ET"===s[u];--u)s[u]="EN";for(let u=d+1;u<v&&"ET"===s[u];++u)s[u]="EN"}for(d=0;d<v;++d)l=s[d],("WS"===l||"ES"===l||"ET"===l||"CS"===l)&&(s[d]="ON");for(M=C,d=0;d<v;++d)l=s[d],"EN"===l?s[d]="L"===M?"L":"EN":("R"===l||"L"===l)&&(M=l);for(d=0;d<v;++d)if("ON"===s[d]){const u=a(s,d+1,"ON");let I=C;d>0&&(I=s[d-1]);let A=h;u+1<v&&(A=s[u+1]),"L"!==I&&(I="R"),"L"!==A&&(A="R"),I===A&&F(s,d,u,I),d=u-1}for(d=0;d<v;++d)"ON"===s[d]&&(s[d]=L);for(d=0;d<v;++d)l=s[d],t(g[d])?"R"===l?g[d]+=1:("AN"===l||"EN"===l)&&(g[d]+=2):("L"===l||"AN"===l||"EN"===l)&&(g[d]+=1);let c,r=-1,f=99;for(d=0,B=g.length;d<B;++d)c=g[d],r<c&&(r=c),f>c&&e(c)&&(f=c);for(c=r;c>=f;--c){let u=-1;for(d=0,B=g.length;d<B;++d)g[d]<c?u>=0&&(m(k,u,d),u=-1):u<0&&(u=d);u>=0&&m(k,u,g.length)}for(d=0,B=k.length;d<B;++d){const u=k[d];("<"===u||">"===u)&&(k[d]="")}return y(k.join(""),O)};var n=V(2);const j=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],x=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(i){return 0!=(1&i)}function t(i){return 0==(1&i)}function a(i,D,b){let O,v;for(O=D,v=i.length;O<v;++O)if(i[O]!==b)return O;return O}function F(i,D,b,O){for(let v=D;v<b;++v)i[v]=O}function m(i,D,b){for(let O=D,v=b-1;O<v;++O,--v){const S=i[O];i[O]=i[v],i[v]=S}}function y(i,D,b=!1){let O="ltr";return b?O="ttb":D||(O="rtl"),{str:i,dir:O}}const k=[],s=[]},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getFontSubstitution=function s(p,i,D,b,O){const v=b=(0,n.normalizeFontName)(b);let S=p.get(v);if(S)return S;let d=F.get(b);if(!d)for(const[r,f]of m)if(b.startsWith(r)){b=`${f}${b.substring(r.length)}`,d=F.get(b);break}let B=!1;d||(d=F.get(O),B=!0);const g=`${i.getDocId()}_s${i.createFontId()}`;if(!d){if(!(0,j.validateFontName)(b))return p.set(v,null),null;const r=/bold/gi.test(b),f=/oblique|italic/gi.test(b);return S={css:g,guessFallback:!0,loadedName:g,baseFontName:b,src:`local(${b})`,style:r&&f&&a||r&&e||f&&t||x},p.set(v,S),S}const L=[];B&&(0,j.validateFontName)(b)&&L.push(`local(${b})`);const{style:C,ultimate:h}=k(d,L,D),M=null===h;return S={css:`${g}${M?"":`,${h}`}`,guessFallback:M,loadedName:g,baseFontName:b,src:L.join(","),style:C},p.set(v,S),S};var n=V(38),j=V(3);const x={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},a={style:"italic",weight:"bold"},F=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:x,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:a,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:x,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:a,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:x,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:a,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:x,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:a,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:x,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:a,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:x}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),m=new Map([["Arial-Black","ArialBlack"]]);function k({alias:p,local:i,path:D,fallback:b,style:O,ultimate:v},S,d,B=!0,g=!0,L=""){const C={style:null,ultimate:null};if(i){const h=L?` ${L}`:"";for(const M of i)S.push(`local(${M}${h})`)}if(p){const h=F.get(p),M=L||function y(p){switch(p){case e:return"Bold";case t:return"Italic";case a:return"Bold Italic";default:if("bold"===p?.weight)return"Bold";if("italic"===p?.style)return"Italic"}return""}(O);Object.assign(C,k(h,S,d,B&&!b,g&&!D,M))}if(O&&(C.style=O),v&&(C.ultimate=v),B&&b){const h=F.get(b),{ultimate:M}=k(h,S,d,B,g&&!D,L);C.ultimate||=M}return g&&D&&d&&S.push(`url(${d}${D})`),C}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ImageResizer=void 0;var n=V(2);class t{constructor(F,m){this._imgData=F,this._isMask=m}static needsToBeResized(F,m){if(F<=this._goodSquareLength&&m<=this._goodSquareLength)return!1;const{MAX_DIM:y}=this;if(F>y||m>y)return!0;const k=F*m;return this._hasMaxArea?k>this.MAX_AREA:!(k<this._goodSquareLength**2)&&(this._areGoodDims(F,m)?(this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(F*m))),!1):(this._goodSquareLength=this._guessMax(this._goodSquareLength,y,128,0),k>(this.MAX_AREA=this._goodSquareLength**2)))}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(2048,65537,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,128,0)**2)}static set MAX_AREA(F){F>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",F))}static setMaxArea(F){this._hasMaxArea||(this.MAX_AREA=F>>2)}static _areGoodDims(F,m){try{const y=new OffscreenCanvas(F,m),k=y.getContext("2d");k.fillRect(0,0,1,1);const s=k.getImageData(0,0,1,1).data[3];return y.width=y.height=1,0!==s}catch{return!1}}static _guessMax(F,m,y,k){for(;F+y+1<m;){const s=Math.floor((F+m)/2);this._areGoodDims(s,k||s)?F=s:m=s}return F}static async createImage(F,m=!1){return new t(F,m)._createImage()}async _createImage(){const F=this._encodeBMP(),m=new Blob([F.buffer],{type:"image/bmp"}),y=createImageBitmap(m),{MAX_AREA:k,MAX_DIM:s}=t,{_imgData:p}=this,{width:i,height:D}=p,b=Math.max(i/s,D/s,Math.sqrt(i*D/k)),O=Math.max(b,2),v=Math.round(10*(b+1.25))/10/O,S=Math.floor(Math.log2(v)),d=new Array(S+2).fill(2);d[0]=O,d.splice(-1,1,v/(1<<S));let B=i,g=D,L=await y;for(const C of d){const h=B,M=g;B=Math.floor(B/C)-1,g=Math.floor(g/C)-1;const l=new OffscreenCanvas(B,g);l.getContext("2d").drawImage(L,0,0,h,M,0,0,B,g),L=l.transferToImageBitmap()}return p.data=null,p.bitmap=L,p.width=B,p.height=g,p}_encodeBMP(){const{width:F,height:m,kind:y}=this._imgData;let s,k=this._imgData.data,p=new Uint8Array(0),i=p,D=0;switch(y){case n.ImageKind.GRAYSCALE_1BPP:{s=1,p=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const g=F+7>>3,L=g+3&-4;if(g!==L){const C=new Uint8Array(L*m);let h=0;for(let M=0,l=m*g;M<l;M+=g,h+=L)C.set(k.subarray(M,M+g),h);k=C}break}case n.ImageKind.RGB_24BPP:if(s=24,3&F){const g=3*F,L=g+3&-4,C=L-g,h=new Uint8Array(L*m);let M=0;for(let l=0,r=m*g;l<r;l+=g){const f=k.subarray(l,l+g);for(let c=0;c<g;c+=3)h[M++]=f[c+2],h[M++]=f[c+1],h[M++]=f[c];M+=C}k=h}else for(let g=0,L=k.length;g<L;g+=3){const C=k[g];k[g]=k[g+2],k[g+2]=C}break;case n.ImageKind.RGBA_32BPP:s=32,D=3,i=new Uint8Array(68);const B=new DataView(i.buffer);n.FeatureTest.isLittleEndian?(B.setUint32(0,255,!0),B.setUint32(4,65280,!0),B.setUint32(8,16711680,!0),B.setUint32(12,4278190080,!0)):(B.setUint32(0,4278190080,!0),B.setUint32(4,16711680,!0),B.setUint32(8,65280,!0),B.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let b=0;const O=40+i.length,v=14+O+p.length+k.length,S=new Uint8Array(v),d=new DataView(S.buffer);return d.setUint16(b,19778,!0),b+=2,d.setUint32(b,v,!0),b+=4,d.setUint32(b,0,!0),b+=4,d.setUint32(b,14+O+p.length,!0),b+=4,d.setUint32(b,O,!0),b+=4,d.setInt32(b,F,!0),b+=4,d.setInt32(b,-m,!0),b+=4,d.setUint16(b,1,!0),b+=2,d.setUint16(b,s,!0),b+=2,d.setUint32(b,D,!0),b+=4,d.setUint32(b,0,!0),b+=4,d.setInt32(b,0,!0),b+=4,d.setInt32(b,0,!0),b+=4,d.setUint32(b,p.length/4,!0),b+=4,d.setUint32(b,0,!0),b+=4,S.set(i,b),b+=i.length,S.set(p,b),b+=p.length,S.set(k,b),S}}E.ImageResizer=t,t._goodSquareLength=2048},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MurmurHash3_64=void 0;var n=V(2);const j=3285377520,x=4294901760,e=65535;E.MurmurHash3_64=class t{constructor(F){this.h1=F?4294967295&F:j,this.h2=F?4294967295&F:j}update(F){let m,y;if("string"==typeof F){m=new Uint8Array(2*F.length),y=0;for(let g=0,L=F.length;g<L;g++){const C=F.charCodeAt(g);C<=255?m[y++]=C:(m[y++]=C>>>8,m[y++]=255&C)}}else{if(!(0,n.isArrayBuffer)(F))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");m=F.slice(),y=m.byteLength}const k=y>>2,s=y-4*k,p=new Uint32Array(m.buffer,0,k);let i=0,D=0,b=this.h1,O=this.h2;const v=3432918353,S=461845907,d=v&e,B=S&e;for(let g=0;g<k;g++)1&g?(i=p[g],i=i*v&x|i*d&e,i=i<<15|i>>>17,i=i*S&x|i*B&e,b^=i,b=b<<13|b>>>19,b=5*b+3864292196):(D=p[g],D=D*v&x|D*d&e,D=D<<15|D>>>17,D=D*S&x|D*B&e,O^=D,O=O<<13|O>>>19,O=5*O+3864292196);switch(i=0,s){case 3:i^=m[4*k+2]<<16;case 2:i^=m[4*k+1]<<8;case 1:i^=m[4*k],i=i*v&x|i*d&e,i=i<<15|i>>>17,i=i*S&x|i*B&e,1&k?b^=i:O^=i}this.h1=b,this.h2=O}hexdigest(){let F=this.h1,m=this.h2;return F^=m>>>1,F=3981806797*F&x|36045*F&e,m=4283543511*m&x|(2950163797*(m<<16|F>>>16)&x)>>>16,F^=m>>>1,F=444984403*F&x|60499*F&e,m=3301882366*m&x|(3120437893*(m<<16|F>>>16)&x)>>>16,F^=m>>>1,(F>>>0).toString(16).padStart(8,"0")+(m>>>0).toString(16).padStart(8,"0")}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.OperatorList=void 0;var n=V(2);function j(F,m,y,k,s){let p=F;for(let i=0,D=m.length-1;i<D;i++){const b=m[i];p=p[b]||=[]}p[m.at(-1)]={checkFn:y,iterateFn:k,processFn:s}}const x=[];j(x,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(m,y){const k=m.fnArray,p=(y-(m.iCurr-3))%4;switch(p){case 0:return k[y]===n.OPS.save;case 1:return k[y]===n.OPS.transform;case 2:return k[y]===n.OPS.paintInlineImageXObject;case 3:return k[y]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${p}`)},function(m,y){const D=m.fnArray,b=m.argsArray,O=m.iCurr,v=O-3,S=O-2,d=O-1,B=Math.min(Math.floor((y-v)/4),200);if(B<10)return y-(y-v)%4;let g=0;const L=[];let C=0,h=1,M=1;for(let I=0;I<B;I++){const A=b[S+(I<<2)],P=b[d+(I<<2)][0];h+P.width>1e3&&(g=Math.max(g,h),M+=C+2,h=0,C=0),L.push({transform:A,x:h,y:M,w:P.width,h:P.height}),h+=P.width+2,C=Math.max(C,P.height)}const l=Math.max(g,h)+1,r=M+C+1,f=new Uint8Array(l*r*4),c=l<<2;for(let I=0;I<B;I++){const A=b[d+(I<<2)][0].data,P=L[I].w<<2;let $=0,_=L[I].x+L[I].y*l<<2;f.set(A.subarray(0,P),_-c);for(let w=0,T=L[I].h;w<T;w++)f.set(A.subarray($,$+P),_),$+=P,_+=c;for(f.set(A.subarray($-P,$),_);_>=0;)A[_-4]=A[_],A[_-3]=A[_+1],A[_-2]=A[_+2],A[_-1]=A[_+3],A[_+P]=A[_+P-4],A[_+P+1]=A[_+P-3],A[_+P+2]=A[_+P-2],A[_+P+3]=A[_+P-1],_-=c}const u={width:l,height:r};if(m.isOffscreenCanvasSupported){const I=new OffscreenCanvas(l,r);I.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(f.buffer),l,r),0,0),u.bitmap=I.transferToImageBitmap(),u.data=null}else u.kind=n.ImageKind.RGBA_32BPP,u.data=f;return D.splice(v,4*B,n.OPS.paintInlineImageXObjectGroup),b.splice(v,4*B,[u,L]),v+1}),j(x,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(m,y){const k=m.fnArray,p=(y-(m.iCurr-3))%4;switch(p){case 0:return k[y]===n.OPS.save;case 1:return k[y]===n.OPS.transform;case 2:return k[y]===n.OPS.paintImageMaskXObject;case 3:return k[y]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${p}`)},function(m,y){const i=m.fnArray,D=m.argsArray,b=m.iCurr,O=b-3,v=b-2,S=b-1;let d=Math.floor((y-O)/4);if(d<10)return y-(y-O)%4;let g,L,B=!1;const C=D[S][0],h=D[v][0],M=D[v][1],l=D[v][2],r=D[v][3];if(M===l){B=!0,g=v+4;let f=S+4;for(let c=1;c<d;c++,g+=4,f+=4)if(L=D[g],D[f][0]!==C||L[0]!==h||L[1]!==M||L[2]!==l||L[3]!==r){c<10?B=!1:d=c;break}}if(B){d=Math.min(d,1e3);const f=new Float32Array(2*d);g=v;for(let c=0;c<d;c++,g+=4)L=D[g],f[c<<1]=L[4],f[1+(c<<1)]=L[5];i.splice(O,4*d,n.OPS.paintImageMaskXObjectRepeat),D.splice(O,4*d,[C,h,M,l,r,f])}else{d=Math.min(d,100);const f=[];for(let c=0;c<d;c++){L=D[v+(c<<2)];const u=D[S+(c<<2)][0];f.push({data:u.data,width:u.width,height:u.height,interpolate:u.interpolate,count:u.count,transform:L})}i.splice(O,4*d,n.OPS.paintImageMaskXObjectGroup),D.splice(O,4*d,[f])}return O+1}),j(x,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(F){const m=F.argsArray,y=F.iCurr-2;return 0===m[y][1]&&0===m[y][2]},function(m,y){const k=m.fnArray,s=m.argsArray,i=(y-(m.iCurr-3))%4;switch(i){case 0:return k[y]===n.OPS.save;case 1:if(k[y]!==n.OPS.transform)return!1;const D=m.iCurr-2;return!(s[y][0]!==s[D][0]||0!==s[y][1]||0!==s[y][2]||s[y][3]!==s[D][3]);case 2:return k[y]===n.OPS.paintImageXObject&&s[y][0]===s[m.iCurr-1][0];case 3:return k[y]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${i}`)},function(F,m){const s=F.fnArray,p=F.argsArray,i=F.iCurr,D=i-3,b=i-2,v=p[i-1][0],S=p[b][0],d=p[b][3],B=Math.min(Math.floor((m-D)/4),1e3);if(B<3)return m-(m-D)%4;const g=new Float32Array(2*B);let L=b;for(let h=0;h<B;h++,L+=4){const M=p[L];g[h<<1]=M[4],g[1+(h<<1)]=M[5]}const C=[v,S,d,g];return s.splice(D,4*B,n.OPS.paintImageXObjectRepeat),p.splice(D,4*B,C),D+1}),j(x,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(m,y){const k=m.fnArray,s=m.argsArray,i=(y-(m.iCurr-4))%5;switch(i){case 0:return k[y]===n.OPS.beginText;case 1:return k[y]===n.OPS.setFont;case 2:return k[y]===n.OPS.setTextMatrix;case 3:if(k[y]!==n.OPS.showText)return!1;const D=m.iCurr-3;return!(s[y][0]!==s[D][0]||s[y][1]!==s[D][1]);case 4:return k[y]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${i}`)},function(F,m){const s=F.fnArray,p=F.argsArray,i=F.iCurr,D=i-4,b=i-3,O=i-2,v=i-1,S=i,d=p[b][0],B=p[b][1];let g=Math.min(Math.floor((m-D)/5),1e3);if(g<3)return m-(m-D)%5;let L=D;D>=4&&s[D-4]===s[b]&&s[D-3]===s[O]&&s[D-2]===s[v]&&s[D-1]===s[S]&&p[D-4][0]===d&&p[D-4][1]===B&&(g++,L-=5);let C=L+4;for(let h=1;h<g;h++)s.splice(C,3),p.splice(C,3),C+=2;return C+1});class e{constructor(m){this.queue=m}_optimize(){}push(m,y){this.queue.fnArray.push(m),this.queue.argsArray.push(y),this._optimize()}flush(){}reset(){}}class t extends e{constructor(m){super(m),this.state=null,this.context={iCurr:0,fnArray:m.fnArray,argsArray:m.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(m){this.context.isOffscreenCanvasSupported=m}_optimize(){const m=this.queue.fnArray;let y=this.lastProcessed,k=m.length,s=this.state,p=this.match;if(!s&&!p&&y+1===k&&!x[m[y]])return void(this.lastProcessed=k);const i=this.context;for(;y<k;){if(p){if((0,p.iterateFn)(i,y)){y++;continue}if(y=(0,p.processFn)(i,y+1),k=m.length,p=null,s=null,y>=k)break}s=(s||x)[m[y]],s&&!Array.isArray(s)?(i.iCurr=y,y++,!s.checkFn||(0,s.checkFn)(i)?(p=s,s=null):s=null):y++}this.state=s,this.match=p,this.lastProcessed=y}flush(){for(;this.match;)this.lastProcessed=(0,this.match.processFn)(this.context,this.queue.fnArray.length),this.match=null,this.state=null,this._optimize()}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class a{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(m=0,y){this._streamSink=y,this.fnArray=[],this.argsArray=[],this.optimizer=!y||m&n.RenderingIntentFlag.OPLIST?new e(this):new t(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=y?null:Promise.resolve()}set isOffscreenCanvasSupported(m){this.optimizer.isOffscreenCanvasSupported=m}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(m,y){this.optimizer.push(m,y),this.weight++,this._streamSink&&(this.weight>=a.CHUNK_SIZE||this.weight>=a.CHUNK_SIZE_ABOUT&&(m===n.OPS.restore||m===n.OPS.endText))&&this.flush()}addImageOps(m,y,k){void 0!==k&&this.addOp(n.OPS.beginMarkedContentProps,["OC",k]),this.addOp(m,y),void 0!==k&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(m){this.dependencies.has(m)||(this.dependencies.add(m),this.addOp(n.OPS.dependency,[m]))}addDependencies(m){for(const y of m)this.addDependency(y)}addOpList(m){if(m instanceof a){for(const y of m.dependencies)this.dependencies.add(y);for(let y=0,k=m.length;y<k;y++)this.addOp(m.fnArray[y],m.argsArray[y])}else(0,n.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const m=[],{fnArray:y,argsArray:k,length:s}=this;for(let p=0;p<s;p++)switch(y[p]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const i=k[p][0];!i.cached&&i.data?.buffer instanceof ArrayBuffer&&m.push(i.data.buffer)}return m}flush(m=!1,y=null){this.optimizer.flush();const k=this.length;this._totalLength+=k,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:m,separateAnnots:y,length:k},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}E.OperatorList=a},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFImage=void 0;var n=V(2),j=V(28),x=V(5),e=V(12),t=V(18),a=V(62),F=V(26),m=V(30),y=V(4);function k(i,D,b,O){return(i=D+i*b)<0?i=0:i>O&&(i=O),i}function s(i,D,b,O,v,S){const d=v*S;let B;B=D<=8?new Uint8Array(d):D<=16?new Uint16Array(d):new Uint32Array(d);const g=b/v,L=O/S;let C,h,M,r,l=0;const f=new Uint16Array(v),c=b;for(C=0;C<v;C++)f[C]=Math.floor(C*g);for(C=0;C<S;C++)for(M=Math.floor(C*L)*c,h=0;h<v;h++)r=M+f[h],B[l++]=i[r];return B}class p{constructor({xref:D,res:b,image:O,isInline:v=!1,smask:S=null,mask:d=null,isMask:B=!1,pdfFunctionFactory:g,localColorSpaceCache:L}){this.image=O;const C=O.dict,h=C.get("F","Filter");let M;if(h instanceof y.Name)M=h.name;else if(Array.isArray(h)){const c=D.fetchIfRef(h[0]);c instanceof y.Name&&(M=c.name)}switch(M){case"JPXDecode":const c=new m.JpxImage;c.parseImageProperties(O.stream),O.stream.reset(),O.width=c.width,O.height=c.height,O.bitsPerComponent=c.bitsPerComponent,O.numComps=c.componentsCount;break;case"JBIG2Decode":O.bitsPerComponent=1,O.numComps=1}let l=C.get("W","Width"),r=C.get("H","Height");if(Number.isInteger(O.width)&&O.width>0&&Number.isInteger(O.height)&&O.height>0&&(O.width!==l||O.height!==r)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),l=O.width,r=O.height),l<1||r<1)throw new n.FormatError(`Invalid image width: ${l} or height: ${r}`);this.width=l,this.height=r,this.interpolate=C.get("I","Interpolate"),this.imageMask=C.get("IM","ImageMask")||!1,this.matte=C.get("Matte")||!1;let f=O.bitsPerComponent;if(!f&&(f=C.get("BPC","BitsPerComponent"),!f)){if(!this.imageMask)throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);f=1}if(this.bpc=f,!this.imageMask){let c=C.getRaw("CS")||C.getRaw("ColorSpace");if(!c)switch((0,n.info)("JPX images (which do not require color spaces)"),O.numComps){case 1:c=y.Name.get("DeviceGray");break;case 3:c=y.Name.get("DeviceRGB");break;case 4:c=y.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${O.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:c,xref:D,resources:v?b:null,pdfFunctionFactory:g,localColorSpaceCache:L}),this.numComps=this.colorSpace.numComps}if(this.decode=C.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,f)||B&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const c=(1<<f)-1;this.decodeCoefficients=[],this.decodeAddends=[];const u="Indexed"===this.colorSpace?.name;for(let I=0,A=0;I<this.decode.length;I+=2,++A){const P=this.decode[I],$=this.decode[I+1];this.decodeCoefficients[A]=u?($-P)/c:$-P,this.decodeAddends[A]=u?P:c*P}}S?this.smask=new p({xref:D,res:b,image:S,isInline:v,pdfFunctionFactory:g,localColorSpaceCache:L}):d&&(d instanceof x.BaseStream?d.dict.get("IM","ImageMask")?this.mask=new p({xref:D,res:b,image:d,isInline:v,isMask:!0,pdfFunctionFactory:g,localColorSpaceCache:L}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=d)}static async buildImage({xref:D,res:b,image:O,isInline:v=!1,pdfFunctionFactory:S,localColorSpaceCache:d}){const B=O;let g=null,L=null;const C=O.dict.get("SMask"),h=O.dict.get("Mask");return C?C instanceof x.BaseStream?g=C:(0,n.warn)("Unsupported /SMask format."):h&&(h instanceof x.BaseStream||Array.isArray(h)?L=h:(0,n.warn)("Unsupported /Mask format.")),new p({xref:D,res:b,image:B,isInline:v,smask:g,mask:L,pdfFunctionFactory:S,localColorSpaceCache:d})}static createRawMask({imgArray:D,width:b,height:O,imageIsFromDecodeStream:v,inverseDecode:S,interpolate:d}){const B=(b+7>>3)*O,g=D.byteLength;let C,h;if(!v||S&&B!==g?S?(C=new Uint8Array(B),C.set(D),C.fill(255,g)):C=new Uint8Array(D):C=D,S)for(h=0;h<g;h++)C[h]^=255;return{data:C,width:b,height:O,interpolate:d}}static async createMask({imgArray:D,width:b,height:O,imageIsFromDecodeStream:v,inverseDecode:S,interpolate:d,isOffscreenCanvasSupported:B=!1}){const g=1===b&&1===O&&S===(0===D.length||!!(128&D[0]));if(g)return{isSingleOpaquePixel:g};if(B){if(a.ImageResizer.needsToBeResized(b,O)){const l=new Uint8ClampedArray(b*O*4);return(0,j.convertBlackAndWhiteToRGBA)({src:D,dest:l,width:b,height:O,nonBlackColor:0,inverseDecode:S}),a.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:l,width:b,height:O,interpolate:d})}const L=new OffscreenCanvas(b,O),C=L.getContext("2d"),h=C.createImageData(b,O);return(0,j.convertBlackAndWhiteToRGBA)({src:D,dest:h.data,width:b,height:O,nonBlackColor:0,inverseDecode:S}),C.putImageData(h,0,0),{data:null,width:b,height:O,interpolate:d,bitmap:L.transferToImageBitmap()}}return this.createRawMask({imgArray:D,width:b,height:O,inverseDecode:S,imageIsFromDecodeStream:v,interpolate:d})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(D){const b=this.bpc,O=this.numComps,v=this.decodeAddends,S=this.decodeCoefficients,d=(1<<b)-1;let B,g;if(1===b){for(B=0,g=D.length;B<g;B++)D[B]=+!D[B];return}let L=0;for(B=0,g=this.width*this.height;B<g;B++)for(let C=0;C<O;C++)D[L]=k(D[L],v[C],S[C],d),L++}getComponents(D){const b=this.bpc;if(8===b)return D;const O=this.width,v=this.height,S=this.numComps,d=O*v*S;let g,B=0;g=b<=8?new Uint8Array(d):b<=16?new Uint16Array(d):new Uint32Array(d);const L=O*S,C=(1<<b)-1;let M,l,h=0;if(1===b){let r,f,c;for(let u=0;u<v;u++){for(f=h+(-8&L),c=h+L;h<f;)l=D[B++],g[h]=l>>7&1,g[h+1]=l>>6&1,g[h+2]=l>>5&1,g[h+3]=l>>4&1,g[h+4]=l>>3&1,g[h+5]=l>>2&1,g[h+6]=l>>1&1,g[h+7]=1&l,h+=8;if(h<c)for(l=D[B++],r=128;h<c;)g[h++]=+!!(l&r),r>>=1}}else{let r=0;for(l=0,h=0,M=d;h<M;++h){for(h%L==0&&(l=0,r=0);r<b;)l=l<<8|D[B++],r+=8;const f=r-b;let c=l>>f;c<0?c=0:c>C&&(c=C),g[h]=c,l&=(1<<f)-1,r=f}}return g}fillOpacity(D,b,O,v,S){const d=this.smask,B=this.mask;let g,L,C,h,M,l;if(d)L=d.width,C=d.height,g=new Uint8ClampedArray(L*C),d.fillGrayBuffer(g),(L!==b||C!==O)&&(g=s(g,d.bpc,L,C,b,O));else if(B)if(B instanceof p){for(L=B.width,C=B.height,g=new Uint8ClampedArray(L*C),B.numComps=1,B.fillGrayBuffer(g),h=0,M=L*C;h<M;++h)g[h]=255-g[h];(L!==b||C!==O)&&(g=s(g,B.bpc,L,C,b,O))}else{if(!Array.isArray(B))throw new n.FormatError("Unknown mask format.");{g=new Uint8ClampedArray(b*O);const r=this.numComps;for(h=0,M=b*O;h<M;++h){let f=0;const c=h*r;for(l=0;l<r;++l){const u=S[c+l],I=2*l;if(u<B[I]||u>B[I+1]){f=255;break}}g[h]=f}}}if(g)for(h=0,l=3,M=b*v;h<M;++h,l+=4)D[l]=g[h];else for(h=0,l=3,M=b*v;h<M;++h,l+=4)D[l]=255}undoPreblend(D,b,O){const v=this.smask?.matte;if(!v)return;const S=this.colorSpace.getRgb(v,0),d=S[0],B=S[1],g=S[2],L=b*O*4;for(let C=0;C<L;C+=4){const h=D[C+3];if(0===h){D[C]=255,D[C+1]=255,D[C+2]=255;continue}const M=255/h;D[C]=(D[C]-d)*M+d,D[C+1]=(D[C+1]-B)*M+B,D[C+2]=(D[C+2]-g)*M+g}}async createImageData(D=!1,b=!1){const O=this.drawWidth,v=this.drawHeight,S={width:O,height:v,interpolate:this.interpolate,kind:0,data:null},B=this.width,g=this.height,L=this.bpc,C=B*this.numComps*L+7>>3,h=b&&a.ImageResizer.needsToBeResized(O,v);if(!D){let $;if("DeviceGray"===this.colorSpace.name&&1===L?$=n.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"===this.colorSpace.name&&8===L&&!this.needsDecode&&($=n.ImageKind.RGB_24BPP),$&&!this.smask&&!this.mask&&O===B&&v===g){const _=this.getImageBytes(g*C,{});if(b)return h?a.ImageResizer.createImage({data:_,kind:$,width:O,height:v,interpolate:this.interpolate},this.needsDecode):this.createBitmap($,B,g,_);if(S.kind=$,S.data=_,this.needsDecode){(0,n.assert)($===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const w=S.data;for(let T=0,N=w.length;T<N;T++)w[T]^=255}return S}if(this.image instanceof F.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let _=g*C;if(b&&!h){let w=!1;switch(this.colorSpace.name){case"DeviceGray":_*=4,w=!0;break;case"DeviceRGB":_=_/3*4,w=!0;break;case"DeviceCMYK":w=!0}if(w){const T=this.getImageBytes(_,{drawWidth:O,drawHeight:v,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,O,v,T)}}else switch(this.colorSpace.name){case"DeviceGray":_*=3;case"DeviceRGB":case"DeviceCMYK":return S.kind=n.ImageKind.RGB_24BPP,S.data=this.getImageBytes(_,{drawWidth:O,drawHeight:v,forceRGB:!0}),h?a.ImageResizer.createImage(S):S}}}const M=this.getImageBytes(g*C,{internal:!0}),l=0|M.length/C*v/g,r=this.getComponents(M);let f,c,u,I,A,P;return b&&!h&&(u=new OffscreenCanvas(O,v),I=u.getContext("2d"),A=I.createImageData(O,v),P=A.data),S.kind=n.ImageKind.RGBA_32BPP,D||this.smask||this.mask?((!b||h)&&(P=new Uint8ClampedArray(O*v*4)),f=1,c=!0,this.fillOpacity(P,O,v,l,r)):(!b||h?(S.kind=n.ImageKind.RGB_24BPP,P=new Uint8ClampedArray(O*v*3),f=0):(new Uint32Array(P.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),f=1),c=!1),this.needsDecode&&this.decodeBuffer(r),this.colorSpace.fillRgb(P,B,g,O,v,l,L,r,f),c&&this.undoPreblend(P,O,l),b&&!h?(I.putImageData(A,0,0),{data:null,width:O,height:v,bitmap:u.transferToImageBitmap(),interpolate:this.interpolate}):(S.data=P,h?a.ImageResizer.createImage(S):S)}fillGrayBuffer(D){const b=this.numComps;if(1!==b)throw new n.FormatError(`Reading gray scale from a color image: ${b}`);const O=this.width,v=this.height,S=this.bpc,B=this.getImageBytes(v*(O*b*S+7>>3),{internal:!0}),g=this.getComponents(B);let L,C;if(1===S){if(C=O*v,this.needsDecode)for(L=0;L<C;++L)D[L]=g[L]-1&255;else for(L=0;L<C;++L)D[L]=255&-g[L];return}this.needsDecode&&this.decodeBuffer(g),C=O*v;const h=255/((1<<S)-1);for(L=0;L<C;++L)D[L]=h*g[L]}createBitmap(D,b,O,v){const S=new OffscreenCanvas(b,O),d=S.getContext("2d");let B;return D===n.ImageKind.RGBA_32BPP?B=new ImageData(v,b,O):(B=d.createImageData(b,O),(0,j.convertToRGBA)({kind:D,src:v,dest:new Uint32Array(B.data.buffer),width:b,height:O,inverseDecode:this.needsDecode})),d.putImageData(B,0,0),{data:null,width:b,height:O,bitmap:S.transferToImageBitmap(),interpolate:this.interpolate}}getImageBytes(D,{drawWidth:b,drawHeight:O,forceRGBA:v=!1,forceRGB:S=!1,internal:d=!1}){this.image.reset(),this.image.drawWidth=b||this.width,this.image.drawHeight=O||this.height,this.image.forceRGBA=!!v,this.image.forceRGB=!!S;const B=this.image.getBytes(D);return d||this.image instanceof t.DecodeStream?B:((0,n.assert)(B instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(B))}}E.PDFImage=p},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Catalog=void 0;var n=V(3),j=V(2),x=V(4),e=V(67),t=V(5),a=V(68),F=V(12),m=V(69),y=V(59),k=V(70),s=V(72);function p(D){return D instanceof x.Dict&&(D=D.get("D")),Array.isArray(D)?D:null}class i{constructor(b,O){if(this.pdfManager=b,this.xref=O,this._catDict=O.getCatalogObj(),!(this._catDict instanceof x.Dict))throw new j.FormatError("Catalog object is not a dictionary.");this._actualNumPages=null,this.fontCache=new x.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new y.GlobalImageCache,this.pageKidsCountCache=new x.RefSetCache,this.pageIndexCache=new x.RefSetCache,this.nonBlendModesSet=new x.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const b=this._catDict.get("Version");if(b instanceof x.Name){if(n.PDF_VERSION_REGEXP.test(b.name))return(0,j.shadow)(this,"version",b.name);(0,j.warn)(`Invalid PDF catalog version: ${b.name}`)}return(0,j.shadow)(this,"version",null)}get lang(){const b=this._catDict.get("Lang");return(0,j.shadow)(this,"lang","string"==typeof b?(0,j.stringToPDFString)(b):null)}get needsRendering(){const b=this._catDict.get("NeedsRendering");return(0,j.shadow)(this,"needsRendering","boolean"==typeof b&&b)}get collection(){let b=null;try{const O=this._catDict.get("Collection");O instanceof x.Dict&&O.size>0&&(b=O)}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,j.shadow)(this,"collection",b)}get acroForm(){let b=null;try{const O=this._catDict.get("AcroForm");O instanceof x.Dict&&O.size>0&&(b=O)}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,j.shadow)(this,"acroForm",b)}get acroFormRef(){const b=this._catDict.getRaw("AcroForm");return(0,j.shadow)(this,"acroFormRef",b instanceof x.Ref?b:null)}get metadata(){const b=this._catDict.getRaw("Metadata");if(!(b instanceof x.Ref))return(0,j.shadow)(this,"metadata",null);let O=null;try{const v=this.xref.fetch(b,!this.xref.encrypt?.encryptMetadata);if(v instanceof t.BaseStream&&v.dict instanceof x.Dict){const S=v.dict.get("Type"),d=v.dict.get("Subtype");if((0,x.isName)(S,"Metadata")&&(0,x.isName)(d,"XML")){const B=(0,j.stringToUTF8String)(v.getString());B&&(O=new k.MetadataParser(B).serializable)}}}catch(v){if(v instanceof n.MissingDataException)throw v;(0,j.info)(`Skipping invalid Metadata: "${v}".`)}return(0,j.shadow)(this,"metadata",O)}get markInfo(){let b=null;try{b=this._readMarkInfo()}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)("Unable to read mark info.")}return(0,j.shadow)(this,"markInfo",b)}_readMarkInfo(){const b=this._catDict.get("MarkInfo");if(!(b instanceof x.Dict))return null;const O={Marked:!1,UserProperties:!1,Suspects:!1};for(const v in O){const S=b.get(v);"boolean"==typeof S&&(O[v]=S)}return O}get structTreeRoot(){let b=null;try{b=this._readStructTreeRoot()}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)("Unable read to structTreeRoot info.")}return(0,j.shadow)(this,"structTreeRoot",b)}_readStructTreeRoot(){const b=this._catDict.getRaw("StructTreeRoot"),O=this.xref.fetchIfRef(b);if(!(O instanceof x.Dict))return null;const v=new s.StructTreeRoot(O,b);return v.init(),v}get toplevelPagesDict(){const b=this._catDict.get("Pages");if(!(b instanceof x.Dict))throw new j.FormatError("Invalid top-level pages dictionary.");return(0,j.shadow)(this,"toplevelPagesDict",b)}get documentOutline(){let b=null;try{b=this._readDocumentOutline()}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)("Unable to read document outline.")}return(0,j.shadow)(this,"documentOutline",b)}_readDocumentOutline(){let b=this._catDict.get("Outlines");if(!(b instanceof x.Dict&&(b=b.getRaw("First"),b instanceof x.Ref)))return null;const O={items:[]},v=[{obj:b,parent:O}],S=new x.RefSet;S.put(b);const d=this.xref,B=new Uint8ClampedArray(3);for(;v.length>0;){const g=v.shift(),L=d.fetchIfRef(g.obj);if(null===L)continue;if(!L.has("Title"))throw new j.FormatError("Invalid outline item encountered.");const C={url:null,dest:null,action:null};i.parseDestDictionary({destDict:L,resultObj:C,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const h=L.get("Title"),M=L.get("F")||0,l=L.getArray("C"),r=L.get("Count");let f=B;Array.isArray(l)&&3===l.length&&(0!==l[0]||0!==l[1]||0!==l[2])&&(f=F.ColorSpace.singletons.rgb.getRgb(l,0));const c={action:C.action,attachment:C.attachment,dest:C.dest,url:C.url,unsafeUrl:C.unsafeUrl,newWindow:C.newWindow,setOCGState:C.setOCGState,title:(0,j.stringToPDFString)(h),color:f,count:Number.isInteger(r)?r:void 0,bold:!!(2&M),italic:!!(1&M),items:[]};g.parent.items.push(c),b=L.getRaw("First"),b instanceof x.Ref&&!S.has(b)&&(v.push({obj:b,parent:c}),S.put(b)),b=L.getRaw("Next"),b instanceof x.Ref&&!S.has(b)&&(v.push({obj:b,parent:g.parent}),S.put(b))}return O.items.length>0?O.items:null}get permissions(){let b=null;try{b=this._readPermissions()}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)("Unable to read permissions.")}return(0,j.shadow)(this,"permissions",b)}_readPermissions(){const b=this.xref.trailer.get("Encrypt");if(!(b instanceof x.Dict))return null;let O=b.get("P");if("number"!=typeof O)return null;O+=4294967296;const v=[];for(const S in j.PermissionFlag){const d=j.PermissionFlag[S];O&d&&v.push(d)}return v}get optionalContentConfig(){let b=null;try{const O=this._catDict.get("OCProperties");if(!O)return(0,j.shadow)(this,"optionalContentConfig",null);const v=O.get("D");if(!v)return(0,j.shadow)(this,"optionalContentConfig",null);const S=O.get("OCGs");if(!Array.isArray(S))return(0,j.shadow)(this,"optionalContentConfig",null);const d=[],B=[];for(const g of S){if(!(g instanceof x.Ref))continue;B.push(g);const L=this.xref.fetchIfRef(g);d.push({id:g.toString(),name:"string"==typeof L.get("Name")?(0,j.stringToPDFString)(L.get("Name")):null,intent:"string"==typeof L.get("Intent")?(0,j.stringToPDFString)(L.get("Intent")):null})}b=this._readOptionalContentConfig(v,B),b.groups=d}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)(`Unable to read optional content config: ${O}`)}return(0,j.shadow)(this,"optionalContentConfig",b)}_readOptionalContentConfig(b,O){function v(C){const h=[];if(Array.isArray(C))for(const M of C)M instanceof x.Ref&&O.includes(M)&&h.push(M.toString());return h}function S(C,h=0){if(!Array.isArray(C))return null;const M=[];for(const r of C){if(r instanceof x.Ref&&O.includes(r)){g.put(r),M.push(r.toString());continue}const f=d(r,h);f&&M.push(f)}if(h>0)return M;const l=[];for(const r of O)g.has(r)||l.push(r.toString());return l.length&&M.push({name:null,order:l}),M}function d(C,h){if(++h>L)return(0,j.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const M=B.fetchIfRef(C);if(!Array.isArray(M))return null;const l=B.fetchIfRef(M[0]);if("string"!=typeof l)return null;const r=S(M.slice(1),h);return r&&r.length?{name:(0,j.stringToPDFString)(l),order:r}:null}const B=this.xref,g=new x.RefSet,L=10;return{name:"string"==typeof b.get("Name")?(0,j.stringToPDFString)(b.get("Name")):null,creator:"string"==typeof b.get("Creator")?(0,j.stringToPDFString)(b.get("Creator")):null,baseState:b.get("BaseState")instanceof x.Name?b.get("BaseState").name:null,on:v(b.get("ON")),off:v(b.get("OFF")),order:S(b.get("Order")),groups:null}}setActualNumPages(b=null){this._actualNumPages=b}get hasActualNumPages(){return null!==this._actualNumPages}get _pagesCount(){const b=this.toplevelPagesDict.get("Count");if(!Number.isInteger(b))throw new j.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,j.shadow)(this,"_pagesCount",b)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const b=this._readDests(),O=Object.create(null);if(b instanceof e.NameTree)for(const[v,S]of b.getAll()){const d=p(S);d&&(O[(0,j.stringToPDFString)(v)]=d)}else b instanceof x.Dict&&b.forEach(function(v,S){const d=p(S);d&&(O[v]=d)});return(0,j.shadow)(this,"destinations",O)}getDestination(b){const O=this._readDests();if(O instanceof e.NameTree){const v=p(O.get(b));if(v)return v;const S=this.destinations[b];if(S)return(0,j.warn)(`Found "${b}" at an incorrect position in the NameTree.`),S}else if(O instanceof x.Dict){const v=p(O.get(b));if(v)return v}return null}_readDests(){const b=this._catDict.get("Names");return b?.has("Dests")?new e.NameTree(b.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let b=null;try{b=this._readPageLabels()}catch(O){if(O instanceof n.MissingDataException)throw O;(0,j.warn)("Unable to read page labels.")}return(0,j.shadow)(this,"pageLabels",b)}_readPageLabels(){const b=this._catDict.getRaw("PageLabels");if(!b)return null;const O=new Array(this.numPages);let v=null,S="";const B=new e.NumberTree(b,this.xref).getAll();let g="",L=1;for(let C=0,h=this.numPages;C<h;C++){const M=B.get(C);if(void 0!==M){if(!(M instanceof x.Dict))throw new j.FormatError("PageLabel is not a dictionary.");if(M.has("Type")&&!(0,x.isName)(M.get("Type"),"PageLabel"))throw new j.FormatError("Invalid type in PageLabel dictionary.");if(M.has("S")){const l=M.get("S");if(!(l instanceof x.Name))throw new j.FormatError("Invalid style in PageLabel dictionary.");v=l.name}else v=null;if(M.has("P")){const l=M.get("P");if("string"!=typeof l)throw new j.FormatError("Invalid prefix in PageLabel dictionary.");S=(0,j.stringToPDFString)(l)}else S="";if(M.has("St")){const l=M.get("St");if(!(Number.isInteger(l)&&l>=1))throw new j.FormatError("Invalid start in PageLabel dictionary.");L=l}else L=1}switch(v){case"D":g=L;break;case"R":case"r":g=(0,n.toRomanNumerals)(L,"r"===v);break;case"A":case"a":const l=26,u=L-1;g=String.fromCharCode(("a"===v?97:65)+u%l).repeat(Math.floor(u/l)+1);break;default:if(v)throw new j.FormatError(`Invalid style "${v}" in PageLabel dictionary.`);g=""}O[C]=S+g,L++}return O}get pageLayout(){const b=this._catDict.get("PageLayout");let O="";if(b instanceof x.Name)switch(b.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":O=b.name}return(0,j.shadow)(this,"pageLayout",O)}get pageMode(){const b=this._catDict.get("PageMode");let O="UseNone";if(b instanceof x.Name)switch(b.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":O=b.name}return(0,j.shadow)(this,"pageMode",O)}get viewerPreferences(){const b=this._catDict.get("ViewerPreferences");if(!(b instanceof x.Dict))return(0,j.shadow)(this,"viewerPreferences",null);let O=null;for(const v of b.getKeys()){const S=b.get(v);let d;switch(v){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":"boolean"==typeof S&&(d=S);break;case"NonFullScreenPageMode":if(S instanceof x.Name)switch(S.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":d=S.name;break;default:d="UseNone"}break;case"Direction":if(S instanceof x.Name)switch(S.name){case"L2R":case"R2L":d=S.name;break;default:d="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(S instanceof x.Name)switch(S.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":d=S.name;break;default:d="CropBox"}break;case"PrintScaling":if(S instanceof x.Name)switch(S.name){case"None":case"AppDefault":d=S.name;break;default:d="AppDefault"}break;case"Duplex":if(S instanceof x.Name)switch(S.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":d=S.name;break;default:d="None"}break;case"PrintPageRange":Array.isArray(S)&&S.length%2==0&&S.every((g,L,C)=>Number.isInteger(g)&&g>0&&(0===L||g>=C[L-1])&&g<=this.numPages)&&(d=S);break;case"NumCopies":Number.isInteger(S)&&S>0&&(d=S);break;default:(0,j.warn)(`Ignoring non-standard key in ViewerPreferences: ${v}.`);continue}void 0!==d?(O||(O=Object.create(null)),O[v]=d):(0,j.warn)(`Bad value, for key "${v}", in ViewerPreferences: ${S}.`)}return(0,j.shadow)(this,"viewerPreferences",O)}get openAction(){const b=this._catDict.get("OpenAction"),O=Object.create(null);if(b instanceof x.Dict){const v=new x.Dict(this.xref);v.set("A",b);const S={url:null,dest:null,action:null};i.parseDestDictionary({destDict:v,resultObj:S}),Array.isArray(S.dest)?O.dest=S.dest:S.action&&(O.action=S.action)}else Array.isArray(b)&&(O.dest=b);return(0,j.shadow)(this,"openAction",(0,j.objectSize)(O)>0?O:null)}get attachments(){const b=this._catDict.get("Names");let O=null;if(b instanceof x.Dict&&b.has("EmbeddedFiles")){const v=new e.NameTree(b.getRaw("EmbeddedFiles"),this.xref);for(const[S,d]of v.getAll()){const B=new m.FileSpec(d,this.xref);O||(O=Object.create(null)),O[(0,j.stringToPDFString)(S)]=B.serializable}}return(0,j.shadow)(this,"attachments",O)}get xfaImages(){const b=this._catDict.get("Names");let O=null;if(b instanceof x.Dict&&b.has("XFAImages")){const v=new e.NameTree(b.getRaw("XFAImages"),this.xref);for(const[S,d]of v.getAll())O||(O=new x.Dict(this.xref)),O.set((0,j.stringToPDFString)(S),d)}return(0,j.shadow)(this,"xfaImages",O)}_collectJavaScript(){const b=this._catDict.get("Names");let O=null;function v(d,B){if(!(B instanceof x.Dict&&(0,x.isName)(B.get("S"),"JavaScript")))return;let g=B.get("JS");if(g instanceof t.BaseStream)g=g.getString();else if("string"!=typeof g)return;g=(0,j.stringToPDFString)(g).replaceAll("\0",""),g&&(O||=new Map).set(d,g)}if(b instanceof x.Dict&&b.has("JavaScript")){const d=new e.NameTree(b.getRaw("JavaScript"),this.xref);for(const[B,g]of d.getAll())v((0,j.stringToPDFString)(B),g)}const S=this._catDict.get("OpenAction");return S&&v("OpenAction",S),O}get jsActions(){const b=this._collectJavaScript();let O=(0,n.collectActions)(this.xref,this._catDict,j.DocumentActionEventType);if(b){O||=Object.create(null);for(const[v,S]of b)v in O?O[v].push(S):O[v]=[S]}return(0,j.shadow)(this,"jsActions",O)}async fontFallback(b,O){const v=await Promise.all(this.fontCache);for(const S of v)if(S.loadedName===b)return void S.fallback(O)}async cleanup(b=!1){(0,a.clearGlobalCaches)(),this.globalImageCache.clear(b),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const O=await Promise.all(this.fontCache);for(const{dict:v}of O)delete v.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(b){const O=[this.toplevelPagesDict],v=new x.RefSet,S=this._catDict.getRaw("Pages");S instanceof x.Ref&&v.put(S);const d=this.xref,B=this.pageKidsCountCache,g=this.pageIndexCache;let L=0;for(;O.length;){const C=O.pop();if(C instanceof x.Ref){const r=B.get(C);if(r>=0&&L+r<=b){L+=r;continue}if(v.has(C))throw new j.FormatError("Pages tree contains circular reference.");v.put(C);const f=await d.fetchAsync(C);if(f instanceof x.Dict){let c=f.getRaw("Type");if(c instanceof x.Ref&&(c=await d.fetchAsync(c)),(0,x.isName)(c,"Page")||!f.has("Kids")){if(B.has(C)||B.put(C,1),g.has(C)||g.put(C,L),L===b)return[f,C];L++;continue}}O.push(f);continue}if(!(C instanceof x.Dict))throw new j.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:h}=C;let M=C.getRaw("Count");if(M instanceof x.Ref&&(M=await d.fetchAsync(M)),Number.isInteger(M)&&M>=0&&(h&&!B.has(h)&&B.put(h,M),L+M<=b)){L+=M;continue}let l=C.getRaw("Kids");if(l instanceof x.Ref&&(l=await d.fetchAsync(l)),!Array.isArray(l)){let r=C.getRaw("Type");if(r instanceof x.Ref&&(r=await d.fetchAsync(r)),(0,x.isName)(r,"Page")||!C.has("Kids")){if(L===b)return[C,null];L++;continue}throw new j.FormatError("Page dictionary kids object is not an array.")}for(let r=l.length-1;r>=0;r--)O.push(l[r])}throw new Error(`Page index ${b} not found.`)}async getAllPageDicts(b=!1){const{ignoreErrors:O}=this.pdfManager.evaluatorOptions,v=[{currentNode:this.toplevelPagesDict,posInKids:0}],S=new x.RefSet,d=this._catDict.getRaw("Pages");d instanceof x.Ref&&S.put(d);const B=new Map,g=this.xref,L=this.pageIndexCache;let C=0;function h(l,r){r&&!L.has(r)&&L.put(r,C),B.set(C++,[l,r])}function M(l){if(l instanceof n.XRefEntryException&&!b)throw l;b&&O&&0===C&&((0,j.warn)(`getAllPageDicts - Skipping invalid first page: "${l}".`),l=x.Dict.empty),B.set(C++,[l,null])}for(;v.length>0;){const l=v.at(-1),{currentNode:r,posInKids:f}=l;let c=r.getRaw("Kids");if(c instanceof x.Ref)try{c=await g.fetchAsync(c)}catch(P){M(P);break}if(!Array.isArray(c)){M(new j.FormatError("Page dictionary kids object is not an array."));break}if(f>=c.length){v.pop();continue}const u=c[f];let I;if(u instanceof x.Ref){if(S.has(u)){M(new j.FormatError("Pages tree contains circular reference."));break}S.put(u);try{I=await g.fetchAsync(u)}catch(P){M(P);break}}else I=u;if(!(I instanceof x.Dict)){M(new j.FormatError("Page dictionary kid reference points to wrong type of object."));break}let A=I.getRaw("Type");if(A instanceof x.Ref)try{A=await g.fetchAsync(A)}catch(P){M(P);break}(0,x.isName)(A,"Page")||!I.has("Kids")?h(I,u instanceof x.Ref?u:null):v.push({currentNode:I,posInKids:0}),l.posInKids++}return B}getPageIndex(b){const O=this.pageIndexCache.get(b);if(void 0!==O)return Promise.resolve(O);const v=this.xref;let d=0;const B=g=>function S(g){let C,L=0;return v.fetchAsync(g).then(function(h){if((0,x.isRefsEqual)(g,b)&&!(0,x.isDict)(h,"Page")&&!(h instanceof x.Dict&&!h.has("Type")&&h.has("Contents")))throw new j.FormatError("The reference does not point to a /Page dictionary.");if(!h)return null;if(!(h instanceof x.Dict))throw new j.FormatError("Node must be a dictionary.");return C=h.getRaw("Parent"),h.getAsync("Parent")}).then(function(h){if(!h)return null;if(!(h instanceof x.Dict))throw new j.FormatError("Parent must be a dictionary.");return h.getAsync("Kids")}).then(function(h){if(!h)return null;const M=[];let l=!1;for(const r of h){if(!(r instanceof x.Ref))throw new j.FormatError("Kid must be a reference.");if((0,x.isRefsEqual)(r,g)){l=!0;break}M.push(v.fetchAsync(r).then(function(f){if(!(f instanceof x.Dict))throw new j.FormatError("Kid node must be a dictionary.");f.has("Count")?L+=f.get("Count"):L++}))}if(!l)throw new j.FormatError("Kid reference not found in parent's kids.");return Promise.all(M).then(function(){return[L,C]})})}(g).then(L=>{if(!L)return this.pageIndexCache.put(b,d),d;const[C,h]=L;return d+=C,B(h)});return B(b)}get baseUrl(){const b=this._catDict.get("URI");if(b instanceof x.Dict){const O=b.get("Base");if("string"==typeof O){const v=(0,j.createValidAbsoluteUrl)(O,null,{tryConvertEncoding:!0});if(v)return(0,j.shadow)(this,"baseUrl",v.href)}}return(0,j.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:b,resultObj:O,docBaseUrl:v=null,docAttachments:S=null}){if(!(b instanceof x.Dict))return void(0,j.warn)("parseDestDictionary: `destDict` must be a dictionary.");let B,g,d=b.get("A");if(d instanceof x.Dict||(b.has("Dest")?d=b.get("Dest"):(d=b.get("AA"),d instanceof x.Dict&&(d.has("D")?d=d.get("D"):d.has("U")&&(d=d.get("U"))))),d instanceof x.Dict){const L=d.get("S");if(!(L instanceof x.Name))return void(0,j.warn)("parseDestDictionary: Invalid type in Action dictionary.");const C=L.name;switch(C){case"ResetForm":const h=d.get("Flags"),M=0==(1&("number"==typeof h?h:0)),l=[],r=[];for(const z of d.get("Fields")||[])z instanceof x.Ref?r.push(z.toString()):"string"==typeof z&&l.push((0,j.stringToPDFString)(z));O.resetForm={fields:l,refs:r,include:M};break;case"URI":B=d.get("URI"),B instanceof x.Name&&(B="/"+B.name);break;case"GoTo":g=d.get("D");break;case"Launch":case"GoToR":const f=d.get("F");f instanceof x.Dict?B=f.get("F")||null:"string"==typeof f&&(B=f);let c=d.get("D");if(c&&(c instanceof x.Name&&(c=c.name),"string"==typeof B)){const z=B.split("#")[0];"string"==typeof c?B=z+"#"+c:Array.isArray(c)&&(B=z+"#"+JSON.stringify(c))}const u=d.get("NewWindow");"boolean"==typeof u&&(O.newWindow=u);break;case"GoToE":const I=d.get("T");let A;if(S&&I instanceof x.Dict){const z=I.get("R"),U=I.get("N");(0,x.isName)(z,"C")&&"string"==typeof U&&(A=S[(0,j.stringToPDFString)(U)])}A?O.attachment=A:(0,j.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const P=d.get("N");P instanceof x.Name&&(O.action=P.name);break;case"SetOCGState":const $=d.get("State"),_=d.get("PreserveRB");if(!Array.isArray($)||0===$.length)break;const w=[];for(const z of $)if(z instanceof x.Name)switch(z.name){case"ON":case"OFF":case"Toggle":w.push(z.name)}else z instanceof x.Ref&&w.push(z.toString());if(w.length!==$.length)break;O.setOCGState={state:w,preserveRB:"boolean"!=typeof _||_};break;case"JavaScript":const T=d.get("JS");let N;T instanceof t.BaseStream?N=T.getString():"string"==typeof T&&(N=T);const H=N&&(0,n.recoverJsURL)((0,j.stringToPDFString)(N));if(H){B=H.url,O.newWindow=H.newWindow;break}default:if("JavaScript"===C||"SubmitForm"===C)break;(0,j.warn)(`parseDestDictionary - unsupported action: "${C}".`)}}else b.has("Dest")&&(g=b.get("Dest"));if("string"==typeof B){const L=(0,j.createValidAbsoluteUrl)(B,v,{addDefaultProtocol:!0,tryConvertEncoding:!0});L&&(O.url=L.href),O.unsafeUrl=B}g&&(g instanceof x.Name&&(g=g.name),"string"==typeof g?O.dest=(0,j.stringToPDFString)(g):Array.isArray(g)&&(O.dest=g))}}E.Catalog=i},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NumberTree=E.NameTree=void 0;var n=V(4),j=V(2);class x{constructor(F,m,y){this.constructor===x&&(0,j.unreachable)("Cannot initialize NameOrNumberTree."),this.root=F,this.xref=m,this._type=y}getAll(){const F=new Map;if(!this.root)return F;const m=this.xref,y=new n.RefSet;y.put(this.root);const k=[this.root];for(;k.length>0;){const s=m.fetchIfRef(k.shift());if(!(s instanceof n.Dict))continue;if(s.has("Kids")){const i=s.get("Kids");if(!Array.isArray(i))continue;for(const D of i){if(y.has(D))throw new j.FormatError(`Duplicate entry in "${this._type}" tree.`);k.push(D),y.put(D)}continue}const p=s.get(this._type);if(Array.isArray(p))for(let i=0,D=p.length;i<D;i+=2)F.set(m.fetchIfRef(p[i]),m.fetchIfRef(p[i+1]))}return F}get(F){if(!this.root)return null;const m=this.xref;let y=m.fetchIfRef(this.root),k=0;for(;y.has("Kids");){if(++k>10)return(0,j.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i=y.get("Kids");if(!Array.isArray(i))return null;let D=0,b=i.length-1;for(;D<=b;){const O=D+b>>1,v=m.fetchIfRef(i[O]),S=v.get("Limits");if(F<m.fetchIfRef(S[0]))b=O-1;else{if(!(F>m.fetchIfRef(S[1]))){y=v;break}D=O+1}}if(D>b)return null}const p=y.get(this._type);if(Array.isArray(p)){let i=0,D=p.length-2;for(;i<=D;){const b=i+D>>1,O=b+(1&b),v=m.fetchIfRef(p[O]);if(F<v)D=O-2;else{if(!(F>v))return m.fetchIfRef(p[O+1]);i=O+2}}}return null}}E.NameTree=class e extends x{constructor(F,m){super(F,m,"Names")}},E.NumberTree=class t extends x{constructor(F,m){super(F,m,"Nums")}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.clearGlobalCaches=function e(){(0,n.clearPatternCaches)(),(0,j.clearPrimitiveCaches)(),(0,x.clearUnicodeCaches)()};var n=V(50),j=V(4),x=V(40)},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FileSpec=void 0;var n=V(2),j=V(5),x=V(4);function e(a){return a.has("UF")?a.get("UF"):a.has("F")?a.get("F"):a.has("Unix")?a.get("Unix"):a.has("Mac")?a.get("Mac"):a.has("DOS")?a.get("DOS"):null}E.FileSpec=class t{constructor(F,m){F instanceof x.Dict&&(this.xref=m,this.root=F,F.has("FS")&&(this.fs=F.get("FS")),this.description=F.has("Desc")?(0,n.stringToPDFString)(F.get("Desc")):"",F.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,F.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const F=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(F).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let F=null;if(this.contentRef){const m=this.xref.fetchIfRef(this.contentRef);m instanceof j.BaseStream?F=m.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return F}get serializable(){return{filename:this.filename,content:this.content}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MetadataParser=void 0;var n=V(71);E.MetadataParser=class j{constructor(e){e=this._repair(e);const a=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,a&&this._parse(a)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,a){const F=a.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(y,k,s,p){return String.fromCharCode(64*k+8*s+1*p)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(y,k){switch(k){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${k} isn't defined.`)}),m=[">"];for(let y=0,k=F.length;y<k;y+=2){const s=256*F.charCodeAt(y)+F.charCodeAt(y+1);m.push(s>=32&&s<127&&60!==s&&62!==s&&38!==s?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";")}return m.join("")})}_getSequence(e){const t=e.nodeName;return"rdf:bag"!==t&&"rdf:seq"!==t&&"rdf:alt"!==t?null:e.childNodes.filter(a=>"rdf:li"===a.nodeName)}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,a=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,a.map(F=>F.textContent.trim()))}_parse(e){let t=e.documentElement;if("rdf:rdf"!==t.nodeName)for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName;)t=t.nextSibling;if(t&&"rdf:rdf"===t.nodeName&&t.hasChildNodes())for(const a of t.childNodes)if("rdf:description"===a.nodeName)for(const F of a.childNodes){const m=F.nodeName;switch(m){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(F);continue}this._metadataMap.set(m,F.textContent.trim())}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XMLParserErrorCode=E.XMLParserBase=E.SimpleXMLParser=E.SimpleDOMNode=void 0;var n=V(3);const j={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function x(m,y){const k=m[y];return" "===k||"\n"===k||"\r"===k||"\t"===k}E.XMLParserErrorCode=j;class t{_resolveEntities(y){return y.replaceAll(/&([^;]+);/g,(k,s)=>{if("#x"===s.substring(0,2))return String.fromCodePoint(parseInt(s.substring(2),16));if("#"===s.substring(0,1))return String.fromCodePoint(parseInt(s.substring(1),10));switch(s){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(s)})}_parseContent(y,k){const s=[];let p=k;function i(){for(;p<y.length&&x(y,p);)++p}for(;p<y.length&&!x(y,p)&&">"!==y[p]&&"/"!==y[p];)++p;const D=y.substring(k,p);for(i();p<y.length&&">"!==y[p]&&"/"!==y[p]&&"?"!==y[p];){i();let b="",O="";for(;p<y.length&&!x(y,p)&&"="!==y[p];)b+=y[p],++p;if(i(),"="!==y[p])return null;++p,i();const v=y[p];if('"'!==v&&"'"!==v)return null;const S=y.indexOf(v,++p);if(S<0)return null;O=y.substring(p,S),s.push({name:b,value:this._resolveEntities(O)}),p=S+1,i()}return{name:D,attributes:s,parsed:p-k}}_parseProcessingInstruction(y,k){let s=k;for(;s<y.length&&!x(y,s)&&">"!==y[s]&&"?"!==y[s]&&"/"!==y[s];)++s;const i=y.substring(k,s);!function p(){for(;s<y.length&&x(y,s);)++s}();const D=s;for(;s<y.length&&("?"!==y[s]||">"!==y[s+1]);)++s;return{name:i,value:y.substring(D,s),parsed:s-k}}parseXml(y){let k=0;for(;k<y.length;){let p=k;if("<"===y[k]){let D;switch(++p,y[p]){case"/":if(++p,D=y.indexOf(">",p),D<0)return void this.onError(j.UnterminatedElement);this.onEndElement(y.substring(p,D)),p=D+1;break;case"?":++p;const b=this._parseProcessingInstruction(y,p);if("?>"!==y.substring(p+b.parsed,p+b.parsed+2))return void this.onError(j.UnterminatedXmlDeclaration);this.onPi(b.name,b.value),p+=b.parsed+2;break;case"!":if("--"===y.substring(p+1,p+3)){if(D=y.indexOf("--\x3e",p+3),D<0)return void this.onError(j.UnterminatedComment);this.onComment(y.substring(p+3,D)),p=D+3}else if("[CDATA["===y.substring(p+1,p+8)){if(D=y.indexOf("]]>",p+8),D<0)return void this.onError(j.UnterminatedCdat);this.onCdata(y.substring(p+8,D)),p=D+3}else{if("DOCTYPE"!==y.substring(p+1,p+8))return void this.onError(j.MalformedElement);{const S=y.indexOf("[",p+8);let d=!1;if(D=y.indexOf(">",p+8),D<0)return void this.onError(j.UnterminatedDoctypeDeclaration);if(S>0&&D>S){if(D=y.indexOf("]>",p+8),D<0)return void this.onError(j.UnterminatedDoctypeDeclaration);d=!0}const B=y.substring(p+8,D+(d?1:0));this.onDoctype(B),p=D+(d?2:1)}}break;default:const O=this._parseContent(y,p);if(null===O)return void this.onError(j.MalformedElement);let v=!1;if("/>"===y.substring(p+O.parsed,p+O.parsed+2))v=!0;else if(">"!==y.substring(p+O.parsed,p+O.parsed+1))return void this.onError(j.UnterminatedElement);this.onBeginElement(O.name,O.attributes,v),p+=O.parsed+(v?2:1)}}else{for(;p<y.length&&"<"!==y[p];)p++;const i=y.substring(k,p);this.onText(this._resolveEntities(i))}k=p}}onResolveEntity(y){return`&${y};`}onPi(y,k){}onComment(y){}onCdata(y){}onDoctype(y){}onText(y){}onBeginElement(y,k,s){}onEndElement(y){}onError(y){}}E.XMLParserBase=t;class a{constructor(y,k){this.nodeName=y,this.nodeValue=k,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const y=this.parentNode.childNodes;if(!y)return;const k=y.indexOf(this);return-1!==k?y[k+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(y){return y.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(y,k){if(k>=y.length)return this;const s=y[k];if(s.name.startsWith("#")&&k<y.length-1)return this.searchNode(y,k+1);const p=[];let i=this;for(;;){if(s.name===i.nodeName){if(0!==s.pos){if(0===p.length)return null;{const[D]=p.pop();let b=0;for(const O of D.childNodes)if(s.name===O.nodeName){if(b===s.pos)return O.searchNode(y,k+1);b++}return i.searchNode(y,k+1)}}{const D=i.searchNode(y,k+1);if(null!==D)return D}}if(i.childNodes?.length>0)p.push([i,0]),i=i.childNodes[0];else{if(0===p.length)return null;for(;0!==p.length;){const[D,b]=p.pop(),O=b+1;if(O<D.childNodes.length){p.push([D,O]),i=D.childNodes[O];break}}if(0===p.length)return null}}}dump(y){if("#text"!==this.nodeName){if(y.push(`<${this.nodeName}`),this.attributes)for(const k of this.attributes)y.push(` ${k.name}="${(0,n.encodeToXmlString)(k.value)}"`);if(this.hasChildNodes()){y.push(">");for(const k of this.childNodes)k.dump(y);y.push(`</${this.nodeName}>`)}else y.push(this.nodeValue?`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`:"/>")}else y.push((0,n.encodeToXmlString)(this.nodeValue))}}E.SimpleDOMNode=a,E.SimpleXMLParser=class F extends t{constructor({hasAttributes:y=!1,lowerCaseName:k=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=j.NoError,this._hasAttributes=y,this._lowerCaseName=k}parseFromString(y){if(this._currentFragment=[],this._stack=[],this._errorCode=j.NoError,this.parseXml(y),this._errorCode!==j.NoError)return;const[k]=this._currentFragment;return k?{documentElement:k}:void 0}onText(y){if(function e(m){for(let y=0,k=m.length;y<k;y++)if(!x(m,y))return!1;return!0}(y))return;const k=new a("#text",y);this._currentFragment.push(k)}onCdata(y){const k=new a("#text",y);this._currentFragment.push(k)}onBeginElement(y,k,s){this._lowerCaseName&&(y=y.toLowerCase());const p=new a(y);p.childNodes=[],this._hasAttributes&&(p.attributes=k),this._currentFragment.push(p),!s&&(this._stack.push(this._currentFragment),this._currentFragment=p.childNodes)}onEndElement(y){this._currentFragment=this._stack.pop()||[];const k=this._currentFragment.at(-1);if(!k)return null;for(const s of k.childNodes)s.parentNode=k;return k}onError(y){this._errorCode=y}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StructTreeRoot=E.StructTreePage=void 0;var n=V(2),j=V(4),x=V(67),e=V(73);const t=40,a={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class F{constructor(p,i){this.dict=p,this.ref=i instanceof j.Ref?i:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(p,i,D){if(!(p instanceof j.Ref)||i<0)return;this.structParentIds||=new j.RefSetCache;let b=this.structParentIds.get(p);b||(b=[],this.structParentIds.put(p,b)),b.push([i,D])}addAnnotationIdToPage(p,i){this.#e(p,i,a.ANNOTATION)}readRoleMap(){const p=this.dict.get("RoleMap");p instanceof j.Dict&&p.forEach((i,D)=>{D instanceof j.Name&&this.roleMap.set(i,D.name)})}static async canCreateStructureTree({catalogRef:p,pdfManager:i,newAnnotationsByPage:D}){if(!(p instanceof j.Ref))return(0,n.warn)("Cannot save the struct tree: no catalog reference."),!1;let b=0,O=!0;for(const[v,S]of D){const{ref:d}=await i.getPage(v);if(!(d instanceof j.Ref)){(0,n.warn)(`Cannot save the struct tree: page ${v} has no ref.`),O=!0;break}for(const B of S)B.accessibilityData?.type&&(B.parentTreeId=b++,O=!1)}if(O){for(const v of D.values())for(const S of v)delete S.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:p,xref:i,catalogRef:D,pdfManager:b,newRefs:O}){const v=b.catalog.cloneDict(),S=i.getNewTemporaryRef();v.set("StructTreeRoot",S);const d=[];await(0,e.writeObject)(D,v,d,i),O.push({ref:D,data:d.join("")});const B=new j.Dict(i);B.set("Type",j.Name.get("StructTreeRoot"));const g=i.getNewTemporaryRef();B.set("ParentTree",g);const L=[];B.set("K",L);const C=new j.Dict(i),h=[];C.set("Nums",h);const M=await this.#t({newAnnotationsByPage:p,structTreeRootRef:S,kids:L,nums:h,xref:i,pdfManager:b,newRefs:O,buffer:d});B.set("ParentTreeNextKey",M),d.length=0,await(0,e.writeObject)(g,C,d,i),O.push({ref:g,data:d.join("")}),d.length=0,await(0,e.writeObject)(S,B,d,i),O.push({ref:S,data:d.join("")})}async canUpdateStructTree({pdfManager:p,newAnnotationsByPage:i}){if(!this.ref)return(0,n.warn)("Cannot update the struct tree: no root reference."),!1;let D=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(D)||D<0)return(0,n.warn)("Cannot update the struct tree: invalid next key."),!1;const b=this.dict.get("ParentTree");if(!(b instanceof j.Dict))return(0,n.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const O=b.get("Nums");if(!Array.isArray(O))return(0,n.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:v}=p.catalog;for(const d of i.keys()){const{pageDict:B,ref:g}=await p.getPage(d);if(!(g instanceof j.Ref))return(0,n.warn)(`Cannot save the struct tree: page ${d} has no ref.`),!1;const L=B.get("StructParents");if(!Number.isInteger(L)||L<0||L>=v)return(0,n.warn)(`Cannot save the struct tree: page ${d} has no id.`),!1}let S=!0;for(const[d,B]of i){const{pageDict:g}=await p.getPage(d);F.#n({elements:B,xref:this.dict.xref,pageDict:g,parentTree:b});for(const L of B)L.accessibilityData?.type&&(L.parentTreeId=D++,S=!1)}if(S){for(const d of i.values())for(const B of d)delete B.parentTreeId,delete B.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:p,pdfManager:i,newRefs:D}){const b=this.dict.xref,O=this.dict.clone(),v=this.ref;let d,S=O.getRaw("ParentTree");S instanceof j.Ref?d=b.fetch(S):(d=S,S=b.getNewTemporaryRef(),O.set("ParentTree",S)),d=d.clone();let B=d.getRaw("Nums"),g=null;B instanceof j.Ref&&(g=B,B=b.fetch(g)),B=B.slice(),g||d.set("Nums",B);let L=O.getRaw("K"),C=null;L instanceof j.Ref?(C=L,L=b.fetch(C)):(C=b.getNewTemporaryRef(),O.set("K",C)),L=Array.isArray(L)?L.slice():[L];const h=[],M=await F.#t({newAnnotationsByPage:p,structTreeRootRef:v,kids:L,nums:B,xref:b,pdfManager:i,newRefs:D,buffer:h});O.set("ParentTreeNextKey",M),h.length=0,await(0,e.writeObject)(C,L,h,b),D.push({ref:C,data:h.join("")}),g&&(h.length=0,await(0,e.writeObject)(g,B,h,b),D.push({ref:g,data:h.join("")})),h.length=0,await(0,e.writeObject)(S,d,h,b),D.push({ref:S,data:h.join("")}),h.length=0,await(0,e.writeObject)(v,O,h,b),D.push({ref:v,data:h.join("")})}static async#t({newAnnotationsByPage:p,structTreeRootRef:i,kids:D,nums:b,xref:O,pdfManager:v,newRefs:S,buffer:d}){const B=j.Name.get("OBJR");let g=-1/0;for(const[L,C]of p){const{ref:h}=await v.getPage(L);for(const{accessibilityData:{type:M,title:l,lang:r,alt:f,expanded:c,actualText:u},ref:I,parentTreeId:A,structTreeParent:P}of C){g=Math.max(g,A);const $=O.getNewTemporaryRef(),_=new j.Dict(O);_.set("S",j.Name.get(M)),l&&_.set("T",l),r&&_.set("Lang",r),f&&_.set("Alt",f),c&&_.set("E",c),u&&_.set("ActualText",u),P?await this.#i({structTreeParent:P,tagDict:_,newTagRef:$,fallbackRef:i,xref:O,newRefs:S,buffer:d}):_.set("P",i);const w=new j.Dict(O);_.set("K",w),w.set("Type",B),w.set("Pg",h),w.set("Obj",I),d.length=0,await(0,e.writeObject)($,_,d,O),S.push({ref:$,data:d.join("")}),b.push(A,$),D.push($)}}return g+1}static#n({elements:p,xref:i,pageDict:D,parentTree:b}){const O=new Map;for(const g of p)if(g.structTreeParentId){const L=parseInt(g.structTreeParentId.split("_mc")[1],10);O.set(L,g)}const v=D.get("StructParents"),d=new x.NumberTree(b,i).get(v);if(!Array.isArray(d))return;const B=(g,L,C)=>{const h=O.get(g);if(h){const M=L.getRaw("P"),l=i.fetchIfRef(M);return M instanceof j.Ref&&l instanceof j.Dict&&(h.structTreeParent={ref:C,dict:L}),!0}return!1};for(const g of d){if(!(g instanceof j.Ref))continue;const L=i.fetch(g),C=L.get("K");if(Number.isInteger(C))B(C,L,g);else if(Array.isArray(C))for(let h of C)if(h=i.fetchIfRef(h),Number.isInteger(h)&&B(h,L,g))break}}static async#i({structTreeParent:{ref:p,dict:i},tagDict:D,newTagRef:b,fallbackRef:O,xref:v,newRefs:S,buffer:d}){const B=i.getRaw("P");let g=v.fetchIfRef(B);D.set("P",B);let C,L=!1,h=g.getRaw("K");if(h instanceof j.Ref?C=v.fetch(h):(C=h,h=v.getNewTemporaryRef(),g=g.clone(),g.set("K",h),L=!0),Array.isArray(C)){const M=C.indexOf(p);if(!(M>=0))return(0,n.warn)("Cannot update the struct tree: parent kid not found."),void D.set("P",O);C=C.slice(),C.splice(M+1,0,b)}else C instanceof j.Dict&&(C=[h,b],h=v.getNewTemporaryRef(),g.set("K",h),L=!0);d.length=0,await(0,e.writeObject)(h,C,d,v),S.push({ref:h,data:d.join("")}),L&&(d.length=0,await(0,e.writeObject)(B,g,d,v),S.push({ref:B,data:d.join("")}))}}E.StructTreeRoot=F;class m{constructor(p,i){this.tree=p,this.dict=i,this.kids=[],this.parseKids()}get role(){const p=this.dict.get("S"),i=p instanceof j.Name?p.name:"",{root:D}=this.tree;return D.roleMap.has(i)?D.roleMap.get(i):i}parseKids(){let p=null;const i=this.dict.getRaw("Pg");i instanceof j.Ref&&(p=i.toString());const D=this.dict.get("K");if(Array.isArray(D))for(const b of D){const O=this.parseKid(p,b);O&&this.kids.push(O)}else{const b=this.parseKid(p,D);b&&this.kids.push(b)}}parseKid(p,i){if(Number.isInteger(i))return this.tree.pageDict.objId!==p?null:new y({type:a.PAGE_CONTENT,mcid:i,pageObjId:p});let D=null;if(i instanceof j.Ref?D=this.dict.xref.fetch(i):i instanceof j.Dict&&(D=i),!D)return null;const b=D.getRaw("Pg");b instanceof j.Ref&&(p=b.toString());const O=D.get("Type")instanceof j.Name?D.get("Type").name:null;if("MCR"===O){if(this.tree.pageDict.objId!==p)return null;const v=D.getRaw("Stm");return new y({type:a.STREAM_CONTENT,refObjId:v instanceof j.Ref?v.toString():null,pageObjId:p,mcid:D.get("MCID")})}if("OBJR"===O){if(this.tree.pageDict.objId!==p)return null;const v=D.getRaw("Obj");return new y({type:a.OBJECT,refObjId:v instanceof j.Ref?v.toString():null,pageObjId:p})}return new y({type:a.ELEMENT,dict:D})}}class y{constructor({type:p,dict:i=null,mcid:D=null,pageObjId:b=null,refObjId:O=null}){this.type=p,this.dict=i,this.mcid=D,this.pageObjId=b,this.refObjId=O,this.parentNode=null}}E.StructTreePage=class k{constructor(p,i){this.root=p,this.rootDict=p?p.dict:null,this.pageDict=i,this.nodes=[]}parse(p){if(!this.root||!this.rootDict)return;const i=this.rootDict.get("ParentTree");if(!i)return;const D=this.pageDict.get("StructParents"),b=p instanceof j.Ref&&this.root.structParentIds?.get(p);if(!Number.isInteger(D)&&!b)return;const O=new Map,v=new x.NumberTree(i,this.rootDict.xref);if(Number.isInteger(D)){const S=v.get(D);if(Array.isArray(S))for(const d of S)d instanceof j.Ref&&this.addNode(this.rootDict.xref.fetch(d),O)}if(b)for(const[S,d]of b){const B=v.get(S);if(B){const g=this.addNode(this.rootDict.xref.fetchIfRef(B),O);1===g?.kids?.length&&g.kids[0].type===a.OBJECT&&(g.kids[0].type=d)}}}addNode(p,i,D=0){if(D>t)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(i.has(p))return i.get(p);const b=new m(this,p);i.set(p,b);const O=p.get("P");if(!O||(0,j.isName)(O.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(p,b)||i.delete(p),b;const v=this.addNode(O,i,D+1);if(!v)return b;let S=!1;for(const d of v.kids)d.type===a.ELEMENT&&d.dict===p&&(d.parentNode=b,S=!0);return S||i.delete(p),b}addTopLevelNode(p,i){const D=this.rootDict.get("K");if(!D)return!1;if(D instanceof j.Dict)return D.objId===p.objId&&(this.nodes[0]=i,!0);if(!Array.isArray(D))return!0;let b=!1;for(let O=0;O<D.length;O++)D[O]?.toString()===p.objId&&(this.nodes[O]=i,b=!0);return b}get serializable(){function p(D,b,O=0){if(O>t)return void(0,n.warn)("StructTree too deep to be fully serialized.");const v=Object.create(null);v.role=D.role,v.children=[],b.children.push(v);const S=D.dict.get("Alt");"string"==typeof S&&(v.alt=(0,n.stringToPDFString)(S));const d=D.dict.get("Lang");"string"==typeof d&&(v.lang=(0,n.stringToPDFString)(d));for(const B of D.kids){const g=B.type===a.ELEMENT?B.parentNode:null;g?p(g,v,O+1):B.type===a.PAGE_CONTENT||B.type===a.STREAM_CONTENT?v.children.push({type:"content",id:`p${B.pageObjId}_mc${B.mcid}`}):B.type===a.OBJECT?v.children.push({type:"object",id:B.refObjId}):B.type===a.ANNOTATION&&v.children.push({type:"annotation",id:`${n.AnnotationPrefix}${B.refObjId}`})}}const i=Object.create(null);i.children=[],i.role="Root";for(const D of this.nodes)D&&p(D,i);return i}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.incrementalUpdate=async function S({originalData:d,xrefInfo:B,newRefs:g,xref:L=null,hasXfa:C=!1,xfaDatasetsRef:h=null,hasXfaDatasetsEntry:M=!1,needAppearances:l,acroFormRef:r=null,acroForm:f=null,xfaData:c=null}){await async function O({xref:d,acroForm:B,acroFormRef:g,hasXfa:L,hasXfaDatasetsEntry:C,xfaDatasetsRef:h,needAppearances:M,newRefs:l}){if(L&&!C&&!h&&(0,n.warn)("XFA - Cannot save it"),!M&&(!L||!h||C))return;const r=B.clone();if(L&&!C){const c=B.get("XFA").slice();c.splice(2,0,"datasets"),c.splice(3,0,h),r.set("XFA",c)}M&&r.set("NeedAppearances",!0);const f=[];await F(g,r,f,d),l.push({ref:g,data:f.join("")})}({xref:L,acroForm:f,acroFormRef:r,hasXfa:C,hasXfaDatasetsEntry:M,xfaDatasetsRef:h,needAppearances:l,newRefs:g}),C&&function v({xfaData:d,xfaDatasetsRef:B,newRefs:g,xref:L}){null===d&&(d=function b(d,B){const g=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(d);for(const{xfa:C}of B){if(!C)continue;const{path:h,value:M}=C;if(!h)continue;const l=(0,x.parseXFAPath)(h);let r=g.documentElement.searchNode(l,0);!r&&l.length>1&&(r=g.documentElement.searchNode([l.at(-1)],0)),r?r.childNodes=Array.isArray(M)?M.map(f=>new e.SimpleDOMNode("value",f)):[new e.SimpleDOMNode("#text",M)]:(0,n.warn)(`Node not found for path: ${h}`)}const L=[];return g.documentElement.dump(L),L.join("")}(L.fetchIfRef(B).getString(),g));const C=L.encrypt;C&&(d=C.createCipherTransform(B.num,B.gen).encryptString(d));g.push({ref:B,data:`${B.num} ${B.gen} obj\n<< /Type /EmbeddedFile /Length ${d.length}>>\nstream\n`+d+"\nendstream\nendobj\n"})}({xfaData:c,xfaDatasetsRef:h,newRefs:g,xref:L});const u=new j.Dict(null),I=B.newRef;let A,P;const $=d.at(-1);10===$||13===$?(A=[],P=d.length):(A=["\n"],P=d.length+1),u.set("Size",I.num+1),u.set("Prev",B.startXRef),u.set("Type",j.Name.get("XRef")),null!==B.rootRef&&u.set("Root",B.rootRef),null!==B.infoRef&&u.set("Info",B.infoRef),null!==B.encryptRef&&u.set("Encrypt",B.encryptRef),g.push({ref:I,data:""}),g=g.sort((Q,R)=>Q.ref.num-R.ref.num);const _=[[0,1,65535]],w=[0,1];let T=0;for(const{ref:Q,data:R}of g)T=Math.max(T,P),_.push([1,P,Math.min(Q.gen,65535)]),P+=R.length,w.push(Q.num,1),A.push(R);if(u.set("Index",w),Array.isArray(B.fileIds)&&B.fileIds.length>0){const Q=function D(d,B){const g=Math.floor(Date.now()/1e3),L=B.filename||"",C=[g.toString(),L,d.toString()];let h=C.reduce((r,f)=>r+f.length,0);for(const r of Object.values(B.info))C.push(r),h+=r.length;const M=new Uint8Array(h);let l=0;for(const r of C)i(r,l,M),l+=r.length;return(0,n.bytesToString)((0,a.calculateMD5)(M))}(P,B);u.set("ID",[B.fileIds[0],Q])}const H=[1,Math.ceil(Math.log2(T)/8),2],U=(H[0]+H[1]+H[2])*_.length;u.set("W",H),u.set("Length",U),A.push(`${I.num} ${I.gen} obj\n`),await m(u,A,null),A.push(" stream\n");const q=A.reduce((Q,R)=>Q+R.length,0),J=`\nendstream\nendobj\nstartxref\n${P}\n%%EOF\n`,oe=new Uint8Array(d.length+q+U+J.length);oe.set(d);let ne=d.length;for(const Q of A)i(Q,ne,oe),ne+=Q.length;for(const[Q,R,X]of _)ne=p(Q,H[0],ne,oe),ne=p(R,H[1],ne,oe),ne=p(X,H[2],ne,oe);return i(J,ne,oe),oe},E.writeDict=m,E.writeObject=F;var n=V(2),j=V(4),x=V(3),e=V(71),t=V(5),a=V(74);async function F(d,B,g,{encrypt:L=null}){const C=L?.createCipherTransform(d.num,d.gen);g.push(`${d.num} ${d.gen} obj\n`),B instanceof j.Dict?await m(B,g,C):B instanceof t.BaseStream?await y(B,g,C):Array.isArray(B)&&await k(B,g,C),g.push("\nendobj\n")}async function m(d,B,g){B.push("<<");for(const L of d.getKeys())B.push(` /${(0,x.escapePDFName)(L)} `),await s(d.getRaw(L),B,g);B.push(">>")}async function y(d,B,g){let L=d.getString();const{dict:C}=d,[h,M]=await Promise.all([C.getAsync("Filter"),C.getAsync("DecodeParms")]),l=Array.isArray(h)?await C.xref.fetchIfRefAsync(h[0]):h,r=(0,j.isName)(l,"FlateDecode");if(typeof CompressionStream<"u"&&(L.length>=256||r))try{const c=(0,n.stringToBytes)(L),u=new CompressionStream("deflate"),I=u.writable.getWriter();I.write(c),I.close();const A=await new Response(u.readable).arrayBuffer();let P,$;L=(0,n.bytesToString)(new Uint8Array(A)),h?r||(P=Array.isArray(h)?[j.Name.get("FlateDecode"),...h]:[j.Name.get("FlateDecode"),h],M&&($=Array.isArray(M)?[null,...M]:[null,M])):P=j.Name.get("FlateDecode"),P&&C.set("Filter",P),$&&C.set("DecodeParms",$)}catch(c){(0,n.info)(`writeStream - cannot compress data: "${c}".`)}g&&(L=g.encryptString(L)),C.set("Length",L.length),await m(C,B,g),B.push(" stream\n",L,"\nendstream")}async function k(d,B,g){B.push("[");let L=!0;for(const C of d)L?L=!1:B.push(" "),await s(C,B,g);B.push("]")}async function s(d,B,g){d instanceof j.Name?B.push(`/${(0,x.escapePDFName)(d.name)}`):d instanceof j.Ref?B.push(`${d.num} ${d.gen} R`):Array.isArray(d)?await k(d,B,g):"string"==typeof d?(g&&(d=g.encryptString(d)),B.push(`(${(0,x.escapeString)(d)})`)):"number"==typeof d?B.push((0,x.numberToString)(d)):"boolean"==typeof d?B.push(d.toString()):d instanceof j.Dict?await m(d,B,g):d instanceof t.BaseStream?await y(d,B,g):null===d?B.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof d}, please file a bug.`)}function p(d,B,g,L){for(let C=B+g-1;C>g-1;C--)L[C]=255&d,d>>=8;return g+B}function i(d,B,g){for(let L=0,C=d.length;L<C;L++)g[B+L]=255&d.charCodeAt(L)}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.calculateSHA256=E.calculateMD5=E.PDF20=E.PDF17=E.CipherTransformFactory=E.ARCFourCipher=E.AES256Cipher=E.AES128Cipher=void 0,E.calculateSHA384=y,E.calculateSHA512=void 0;var n=V(2),j=V(4),x=V(75);class e{constructor(d){this.a=0,this.b=0;const B=new Uint8Array(256),g=d.length;for(let L=0;L<256;++L)B[L]=L;for(let L=0,C=0;L<256;++L){const h=B[L];C=C+h+d[L%g]&255,B[L]=B[C],B[C]=h}this.s=B}encryptBlock(d){let B=this.a,g=this.b;const L=this.s,C=d.length,h=new Uint8Array(C);for(let M=0;M<C;++M){B=B+1&255;const l=L[B];g=g+l&255;const r=L[g];L[B]=r,L[g]=l,h[M]=d[M]^L[l+r&255]}return this.a=B,this.b=g,h}decryptBlock(d){return this.encryptBlock(d)}encrypt(d){return this.encryptBlock(d)}}E.ARCFourCipher=e;const t=function(){const d=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),B=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function g(L,C,h){let M=1732584193,l=-271733879,r=-1732584194,f=271733878;const c=h+72&-64,u=new Uint8Array(c);let I,A;for(I=0;I<h;++I)u[I]=L[C++];u[I++]=128;const P=c-8;for(;I<P;)u[I++]=0;u[I++]=h<<3&255,u[I++]=h>>5&255,u[I++]=h>>13&255,u[I++]=h>>21&255,u[I++]=h>>>29&255,u[I++]=0,u[I++]=0,u[I++]=0;const $=new Int32Array(16);for(I=0;I<c;){for(A=0;A<16;++A,I+=4)$[A]=u[I]|u[I+1]<<8|u[I+2]<<16|u[I+3]<<24;let H,z,_=M,w=l,T=r,N=f;for(A=0;A<64;++A){A<16?(H=w&T|~w&N,z=A):A<32?(H=N&w|~N&T,z=5*A+1&15):A<48?(H=w^T^N,z=3*A+5&15):(H=T^(w|~N),z=7*A&15);const U=N,q=_+H+B[A]+$[z]|0,J=d[A];N=T,T=w,w=w+(q<<J|q>>>32-J)|0,_=U}M=M+_|0,l=l+w|0,r=r+T|0,f=f+N|0}return new Uint8Array([255&M,M>>8&255,M>>16&255,M>>>24&255,255&l,l>>8&255,l>>16&255,l>>>24&255,255&r,r>>8&255,r>>16&255,r>>>24&255,255&f,f>>8&255,f>>16&255,f>>>24&255])}}();E.calculateMD5=t;class a{constructor(d,B){this.high=0|d,this.low=0|B}and(d){this.high&=d.high,this.low&=d.low}xor(d){this.high^=d.high,this.low^=d.low}or(d){this.high|=d.high,this.low|=d.low}shiftRight(d){d>=32?(this.low=this.high>>>d-32|0,this.high=0):(this.low=this.low>>>d|this.high<<32-d,this.high=this.high>>>d|0)}shiftLeft(d){d>=32?(this.high=this.low<<d-32,this.low=0):(this.high=this.high<<d|this.low>>>32-d,this.low<<=d)}rotateRight(d){let B,g;32&d?(g=this.low,B=this.high):(B=this.low,g=this.high),this.low=B>>>(d&=31)|g<<32-d,this.high=g>>>d|B<<32-d}not(){this.high=~this.high,this.low=~this.low}add(d){const B=(this.low>>>0)+(d.low>>>0);let g=(this.high>>>0)+(d.high>>>0);B>4294967295&&(g+=1),this.low=0|B,this.high=0|g}copyTo(d,B){d[B]=this.high>>>24&255,d[B+1]=this.high>>16&255,d[B+2]=this.high>>8&255,d[B+3]=255&this.high,d[B+4]=this.low>>>24&255,d[B+5]=this.low>>16&255,d[B+6]=this.low>>8&255,d[B+7]=255&this.low}assign(d){this.high=d.high,this.low=d.low}}const F=function(){function d(f,c){return f>>>c|f<<32-c}function B(f,c,u){return f&c^~f&u}function g(f,c,u){return f&c^f&u^c&u}function L(f){return d(f,2)^d(f,13)^d(f,22)}function C(f){return d(f,6)^d(f,11)^d(f,25)}function h(f){return d(f,7)^d(f,18)^f>>>3}function M(f){return d(f,17)^d(f,19)^f>>>10}const l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function r(f,c,u){let I=1779033703,A=3144134277,P=1013904242,$=2773480762,_=1359893119,w=2600822924,T=528734635,N=1541459225;const H=64*Math.ceil((u+9)/64),z=new Uint8Array(H);let U,q;for(U=0;U<u;++U)z[U]=f[c++];z[U++]=128;const J=H-8;for(;U<J;)z[U++]=0;z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=u>>>29&255,z[U++]=u>>21&255,z[U++]=u>>13&255,z[U++]=u>>5&255,z[U++]=u<<3&255;const oe=new Uint32Array(64);for(U=0;U<H;){for(q=0;q<16;++q)oe[q]=z[U]<<24|z[U+1]<<16|z[U+2]<<8|z[U+3],U+=4;for(q=16;q<64;++q)oe[q]=M(oe[q-2])+oe[q-7]+h(oe[q-15])+oe[q-16]|0;let ae,ie,ne=I,Q=A,R=P,X=$,G=_,Y=w,K=T,Z=N;for(q=0;q<64;++q)ae=Z+C(G)+B(G,Y,K)+l[q]+oe[q],ie=L(ne)+g(ne,Q,R),Z=K,K=Y,Y=G,G=X+ae|0,X=R,R=Q,Q=ne,ne=ae+ie|0;I=I+ne|0,A=A+Q|0,P=P+R|0,$=$+X|0,_=_+G|0,w=w+Y|0,T=T+K|0,N=N+Z|0}return new Uint8Array([I>>24&255,I>>16&255,I>>8&255,255&I,A>>24&255,A>>16&255,A>>8&255,255&A,P>>24&255,P>>16&255,P>>8&255,255&P,$>>24&255,$>>16&255,$>>8&255,255&$,_>>24&255,_>>16&255,_>>8&255,255&_,w>>24&255,w>>16&255,w>>8&255,255&w,T>>24&255,T>>16&255,T>>8&255,255&T,N>>24&255,N>>16&255,N>>8&255,255&N])}}();E.calculateSHA256=F;const m=function(){function d(r,f,c,u,I){r.assign(f),r.and(c),I.assign(f),I.not(),I.and(u),r.xor(I)}function B(r,f,c,u,I){r.assign(f),r.and(c),I.assign(f),I.and(u),r.xor(I),I.assign(c),I.and(u),r.xor(I)}function g(r,f,c){r.assign(f),r.rotateRight(28),c.assign(f),c.rotateRight(34),r.xor(c),c.assign(f),c.rotateRight(39),r.xor(c)}function L(r,f,c){r.assign(f),r.rotateRight(14),c.assign(f),c.rotateRight(18),r.xor(c),c.assign(f),c.rotateRight(41),r.xor(c)}function C(r,f,c){r.assign(f),r.rotateRight(1),c.assign(f),c.rotateRight(8),r.xor(c),c.assign(f),c.shiftRight(7),r.xor(c)}function h(r,f,c){r.assign(f),r.rotateRight(19),c.assign(f),c.rotateRight(61),r.xor(c),c.assign(f),c.shiftRight(6),r.xor(c)}const M=[new a(1116352408,3609767458),new a(1899447441,602891725),new a(3049323471,3964484399),new a(3921009573,2173295548),new a(961987163,4081628472),new a(1508970993,3053834265),new a(2453635748,2937671579),new a(2870763221,3664609560),new a(3624381080,2734883394),new a(310598401,1164996542),new a(607225278,1323610764),new a(1426881987,3590304994),new a(1925078388,4068182383),new a(2162078206,991336113),new a(2614888103,633803317),new a(3248222580,3479774868),new a(3835390401,2666613458),new a(4022224774,944711139),new a(264347078,2341262773),new a(604807628,2007800933),new a(770255983,1495990901),new a(1249150122,1856431235),new a(1555081692,3175218132),new a(1996064986,2198950837),new a(2554220882,3999719339),new a(2821834349,766784016),new a(2952996808,2566594879),new a(3210313671,3203337956),new a(3336571891,1034457026),new a(3584528711,2466948901),new a(113926993,3758326383),new a(338241895,168717936),new a(666307205,1188179964),new a(773529912,1546045734),new a(1294757372,1522805485),new a(1396182291,2643833823),new a(1695183700,2343527390),new a(1986661051,1014477480),new a(2177026350,1206759142),new a(2456956037,344077627),new a(2730485921,1290863460),new a(2820302411,3158454273),new a(3259730800,3505952657),new a(3345764771,106217008),new a(3516065817,3606008344),new a(3600352804,1432725776),new a(4094571909,1467031594),new a(275423344,851169720),new a(430227734,3100823752),new a(506948616,1363258195),new a(659060556,3750685593),new a(883997877,3785050280),new a(958139571,3318307427),new a(1322822218,3812723403),new a(1537002063,2003034995),new a(1747873779,3602036899),new a(1955562222,1575990012),new a(2024104815,1125592928),new a(2227730452,2716904306),new a(2361852424,442776044),new a(2428436474,593698344),new a(2756734187,3733110249),new a(3204031479,2999351573),new a(3329325298,3815920427),new a(3391569614,3928383900),new a(3515267271,566280711),new a(3940187606,3454069534),new a(4118630271,4000239992),new a(116418474,1914138554),new a(174292421,2731055270),new a(289380356,3203993006),new a(460393269,320620315),new a(685471733,587496836),new a(852142971,1086792851),new a(1017036298,365543100),new a(1126000580,2618297676),new a(1288033470,3409855158),new a(1501505948,4234509866),new a(1607167915,987167468),new a(1816402316,1246189591)];return function l(r,f,c,u=!1){let I,A,P,$,_,w,T,N;u?(I=new a(3418070365,3238371032),A=new a(1654270250,914150663),P=new a(2438529370,812702999),$=new a(355462360,4144912697),_=new a(1731405415,4290775857),w=new a(2394180231,1750603025),T=new a(3675008525,1694076839),N=new a(1203062813,3204075428)):(I=new a(1779033703,4089235720),A=new a(3144134277,2227873595),P=new a(1013904242,4271175723),$=new a(2773480762,1595750129),_=new a(1359893119,2917565137),w=new a(2600822924,725511199),T=new a(528734635,4215389547),N=new a(1541459225,327033209));const H=128*Math.ceil((c+17)/128),z=new Uint8Array(H);let U,q;for(U=0;U<c;++U)z[U]=r[f++];z[U++]=128;const J=H-16;for(;U<J;)z[U++]=0;z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=0,z[U++]=c>>>29&255,z[U++]=c>>21&255,z[U++]=c>>13&255,z[U++]=c>>5&255,z[U++]=c<<3&255;const oe=new Array(80);for(U=0;U<80;U++)oe[U]=new a(0,0);let ne=new a(0,0),Q=new a(0,0),R=new a(0,0),X=new a(0,0),G=new a(0,0),Y=new a(0,0),K=new a(0,0),Z=new a(0,0);const ae=new a(0,0),ie=new a(0,0),te=new a(0,0),re=new a(0,0);let ee,le;for(U=0;U<H;){for(q=0;q<16;++q)oe[q].high=z[U]<<24|z[U+1]<<16|z[U+2]<<8|z[U+3],oe[q].low=z[U+4]<<24|z[U+5]<<16|z[U+6]<<8|z[U+7],U+=8;for(q=16;q<80;++q)ee=oe[q],h(ee,oe[q-2],re),ee.add(oe[q-7]),C(te,oe[q-15],re),ee.add(te),ee.add(oe[q-16]);for(ne.assign(I),Q.assign(A),R.assign(P),X.assign($),G.assign(_),Y.assign(w),K.assign(T),Z.assign(N),q=0;q<80;++q)ae.assign(Z),L(te,G,re),ae.add(te),d(te,G,Y,K,re),ae.add(te),ae.add(M[q]),ae.add(oe[q]),g(ie,ne,re),B(te,ne,Q,R,re),ie.add(te),ee=Z,Z=K,K=Y,Y=G,X.add(ae),G=X,X=R,R=Q,Q=ne,ee.assign(ae),ee.add(ie),ne=ee;I.add(ne),A.add(Q),P.add(R),$.add(X),_.add(G),w.add(Y),T.add(K),N.add(Z)}return u?(le=new Uint8Array(48),I.copyTo(le,0),A.copyTo(le,8),P.copyTo(le,16),$.copyTo(le,24),_.copyTo(le,32),w.copyTo(le,40)):(le=new Uint8Array(64),I.copyTo(le,0),A.copyTo(le,8),P.copyTo(le,16),$.copyTo(le,24),_.copyTo(le,32),w.copyTo(le,40),T.copyTo(le,48),N.copyTo(le,56)),le}}();function y(S,d,B){return m(S,d,B,!0)}E.calculateSHA512=m;class k{decryptBlock(d){return d}encrypt(d){return d}}class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let d=0;d<256;d++)this._mixCol[d]=d<128?d<<1:d<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(d){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(d,B){let g,L,C;const h=new Uint8Array(16);h.set(d);for(let M=0,l=this._keySize;M<16;++M,++l)h[M]^=B[l];for(let M=this._cyclesOfRepetition-1;M>=1;--M){g=h[13],h[13]=h[9],h[9]=h[5],h[5]=h[1],h[1]=g,g=h[14],L=h[10],h[14]=h[6],h[10]=h[2],h[6]=g,h[2]=L,g=h[15],L=h[11],C=h[7],h[15]=h[3],h[11]=g,h[7]=L,h[3]=C;for(let l=0;l<16;++l)h[l]=this._inv_s[h[l]];for(let l=0,r=16*M;l<16;++l,++r)h[l]^=B[r];for(let l=0;l<16;l+=4){const f=this._mix[h[l+1]],c=this._mix[h[l+2]],u=this._mix[h[l+3]];g=this._mix[h[l]]^f>>>8^f<<24^c>>>16^c<<16^u>>>24^u<<8,h[l]=g>>>24&255,h[l+1]=g>>16&255,h[l+2]=g>>8&255,h[l+3]=255&g}}g=h[13],h[13]=h[9],h[9]=h[5],h[5]=h[1],h[1]=g,g=h[14],L=h[10],h[14]=h[6],h[10]=h[2],h[6]=g,h[2]=L,g=h[15],L=h[11],C=h[7],h[15]=h[3],h[11]=g,h[7]=L,h[3]=C;for(let M=0;M<16;++M)h[M]=this._inv_s[h[M]],h[M]^=B[M];return h}_encrypt(d,B){const g=this._s;let L,C,h;const M=new Uint8Array(16);M.set(d);for(let l=0;l<16;++l)M[l]^=B[l];for(let l=1;l<this._cyclesOfRepetition;l++){for(let r=0;r<16;++r)M[r]=g[M[r]];h=M[1],M[1]=M[5],M[5]=M[9],M[9]=M[13],M[13]=h,h=M[2],C=M[6],M[2]=M[10],M[6]=M[14],M[10]=h,M[14]=C,h=M[3],C=M[7],L=M[11],M[3]=M[15],M[7]=h,M[11]=C,M[15]=L;for(let r=0;r<16;r+=4){const f=M[r+0],c=M[r+1],u=M[r+2],I=M[r+3];L=f^c^u^I,M[r+0]^=L^this._mixCol[f^c],M[r+1]^=L^this._mixCol[c^u],M[r+2]^=L^this._mixCol[u^I],M[r+3]^=L^this._mixCol[I^f]}for(let r=0,f=16*l;r<16;++r,++f)M[r]^=B[f]}for(let l=0;l<16;++l)M[l]=g[M[l]];h=M[1],M[1]=M[5],M[5]=M[9],M[9]=M[13],M[13]=h,h=M[2],C=M[6],M[2]=M[10],M[6]=M[14],M[10]=h,M[14]=C,h=M[3],C=M[7],L=M[11],M[3]=M[15],M[7]=h,M[11]=C,M[15]=L;for(let l=0,r=this._keySize;l<16;++l,++r)M[l]^=B[r];return M}_decryptBlock2(d,B){const g=d.length;let L=this.buffer,C=this.bufferPosition;const h=[];let M=this.iv;for(let f=0;f<g;++f){if(L[C]=d[f],++C,C<16)continue;const c=this._decrypt(L,this._key);for(let u=0;u<16;++u)c[u]^=M[u];M=L,h.push(c),L=new Uint8Array(16),C=0}if(this.buffer=L,this.bufferLength=C,this.iv=M,0===h.length)return new Uint8Array(0);let l=16*h.length;if(B){const f=h.at(-1);let c=f[15];if(c<=16){for(let u=15,I=16-c;u>=I;--u)if(f[u]!==c){c=0;break}l-=c,h[h.length-1]=f.subarray(0,16-c)}}const r=new Uint8Array(l);for(let f=0,c=0,u=h.length;f<u;++f,c+=16)r.set(h[f],c);return r}decryptBlock(d,B,g=null){const L=d.length,C=this.buffer;let h=this.bufferPosition;if(g)this.iv=g;else{for(let M=0;h<16&&M<L;++M,++h)C[h]=d[M];if(h<16)return this.bufferLength=h,new Uint8Array(0);this.iv=C,d=d.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(d,B)}encrypt(d,B){const g=d.length;let L=this.buffer,C=this.bufferPosition;const h=[];B||(B=new Uint8Array(16));for(let r=0;r<g;++r){if(L[C]=d[r],++C,C<16)continue;for(let c=0;c<16;++c)L[c]^=B[c];const f=this._encrypt(L,this._key);B=f,h.push(f),L=new Uint8Array(16),C=0}if(this.buffer=L,this.bufferLength=C,this.iv=B,0===h.length)return new Uint8Array(0);const l=new Uint8Array(16*h.length);for(let r=0,f=0,c=h.length;r<c;++r,f+=16)l.set(h[r],f);return l}}class p extends s{constructor(d){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(d)}_expandKey(d){const g=this._s,L=this._rcon,C=new Uint8Array(176);C.set(d);for(let h=16,M=1;h<176;++M){let l=C[h-3],r=C[h-2],f=C[h-1],c=C[h-4];l=g[l],r=g[r],f=g[f],c=g[c],l^=L[M];for(let u=0;u<4;++u)C[h]=l^=C[h-16],h++,C[h]=r^=C[h-16],h++,C[h]=f^=C[h-16],h++,C[h]=c^=C[h-16],h++}return C}}E.AES128Cipher=p;class i extends s{constructor(d){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(d)}_expandKey(d){const g=this._s,L=new Uint8Array(240);L.set(d);let h,M,l,r,C=1;for(let f=32,c=1;f<240;++c){f%32==16?(h=g[h],M=g[M],l=g[l],r=g[r]):f%32==0&&(h=L[f-3],M=L[f-2],l=L[f-1],r=L[f-4],h=g[h],M=g[M],l=g[l],r=g[r],h^=C,(C<<=1)>=256&&(C=255&(27^C)));for(let u=0;u<4;++u)L[f]=h^=L[f-32],f++,L[f]=M^=L[f-32],f++,L[f]=l^=L[f-32],f++,L[f]=r^=L[f-32],f++}return L}}E.AES256Cipher=i;class D{checkOwnerPassword(d,B,g,L){const C=new Uint8Array(d.length+56);C.set(d,0),C.set(B,d.length),C.set(g,d.length+B.length);const h=F(C,0,C.length);return(0,n.isArrayEqual)(h,L)}checkUserPassword(d,B,g){const L=new Uint8Array(d.length+8);L.set(d,0),L.set(B,d.length);const C=F(L,0,L.length);return(0,n.isArrayEqual)(C,g)}getOwnerKey(d,B,g,L){const C=new Uint8Array(d.length+56);C.set(d,0),C.set(B,d.length),C.set(g,d.length+B.length);const h=F(C,0,C.length);return new i(h).decryptBlock(L,!1,new Uint8Array(16))}getUserKey(d,B,g){const L=new Uint8Array(d.length+8);L.set(d,0),L.set(B,d.length);const C=F(L,0,L.length);return new i(C).decryptBlock(g,!1,new Uint8Array(16))}}E.PDF17=D;class b{_hash(d,B,g){let L=F(B,0,B.length).subarray(0,32),C=[0],h=0;for(;h<64||C.at(-1)>h-32;){const M=d.length+L.length+g.length,l=new Uint8Array(M);let r=0;l.set(d,r),r+=d.length,l.set(L,r),r+=L.length,l.set(g,r);const f=new Uint8Array(64*M);for(let I=0,A=0;I<64;I++,A+=M)f.set(l,A);C=new p(L.subarray(0,16)).encrypt(f,L.subarray(16,32));const u=C.slice(0,16).reduce((I,A)=>I+A,0)%3;0===u?L=F(C,0,C.length):1===u?L=y(C,0,C.length):2===u&&(L=m(C,0,C.length)),h++}return L.subarray(0,32)}checkOwnerPassword(d,B,g,L){const C=new Uint8Array(d.length+56);C.set(d,0),C.set(B,d.length),C.set(g,d.length+B.length);const h=this._hash(d,C,g);return(0,n.isArrayEqual)(h,L)}checkUserPassword(d,B,g){const L=new Uint8Array(d.length+8);L.set(d,0),L.set(B,d.length);const C=this._hash(d,L,[]);return(0,n.isArrayEqual)(C,g)}getOwnerKey(d,B,g,L){const C=new Uint8Array(d.length+56);C.set(d,0),C.set(B,d.length),C.set(g,d.length+B.length);const h=this._hash(d,C,g);return new i(h).decryptBlock(L,!1,new Uint8Array(16))}getUserKey(d,B,g){const L=new Uint8Array(d.length+8);L.set(d,0),L.set(B,d.length);const C=this._hash(d,L,[]);return new i(C).decryptBlock(g,!1,new Uint8Array(16))}}E.PDF20=b;class O{constructor(d,B){this.StringCipherConstructor=d,this.StreamCipherConstructor=B}createStream(d,B){const g=new this.StreamCipherConstructor;return new x.DecryptStream(d,B,function(C,h){return g.decryptBlock(C,h)})}decryptString(d){const B=new this.StringCipherConstructor;let g=(0,n.stringToBytes)(d);return g=B.decryptBlock(g,!0),(0,n.bytesToString)(g)}encryptString(d){const B=new this.StringCipherConstructor;if(B instanceof s){const C=16-d.length%16;d+=String.fromCharCode(C).repeat(C);const h=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(h);else for(let r=0;r<16;r++)h[r]=Math.floor(256*Math.random());let M=(0,n.stringToBytes)(d);M=B.encrypt(M,h);const l=new Uint8Array(16+M.length);return l.set(h),l.set(M,16),(0,n.bytesToString)(l)}let g=(0,n.stringToBytes)(d);return g=B.encrypt(g),(0,n.bytesToString)(g)}}class v{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(d,B,g,L,C,h,M,l,r,f,c,u){if(B){const A=Math.min(127,B.length);B=B.subarray(0,A)}else B=[];const I=6===d?new b:new D;return I.checkUserPassword(B,l,M)?I.getUserKey(B,r,c):B.length&&I.checkOwnerPassword(B,L,h,g)?I.getOwnerKey(B,C,h,f):null}#n(d,B,g,L,C,h,M,l){const f=new Uint8Array(40+g.length+d.length);let u,I,c=0;if(B)for(I=Math.min(32,B.length);c<I;++c)f[c]=B[c];for(u=0;c<32;)f[c++]=v.#e[u++];for(u=0,I=g.length;u<I;++u)f[c++]=g[u];for(f[c++]=255&C,f[c++]=C>>8&255,f[c++]=C>>16&255,f[c++]=C>>>24&255,u=0,I=d.length;u<I;++u)f[c++]=d[u];h>=4&&!l&&(f[c++]=255,f[c++]=255,f[c++]=255,f[c++]=255);let A=t(f,0,c);const P=M>>3;if(h>=3)for(u=0;u<50;++u)A=t(A,0,P);const $=A.subarray(0,P);let _,w;if(h>=3){for(c=0;c<32;++c)f[c]=v.#e[c];for(u=0,I=d.length;u<I;++u)f[c++]=d[u];_=new e($),w=_.encryptBlock(t(f,0,c)),I=$.length;const T=new Uint8Array(I);for(u=1;u<=19;++u){for(let N=0;N<I;++N)T[N]=$[N]^u;_=new e(T),w=_.encryptBlock(w)}for(u=0,I=w.length;u<I;++u)if(L[u]!==w[u])return null}else for(_=new e($),w=_.encryptBlock(v.#e),u=0,I=w.length;u<I;++u)if(L[u]!==w[u])return null;return $}#i(d,B,g,L){const C=new Uint8Array(32);let h=0;const M=Math.min(32,d.length);for(;h<M;++h)C[h]=d[h];let l=0;for(;h<32;)C[h++]=v.#e[l++];let r=t(C,0,h);const f=L>>3;if(g>=3)for(l=0;l<50;++l)r=t(r,0,r.length);let c,u;if(g>=3){u=B;const I=new Uint8Array(f);for(l=19;l>=0;l--){for(let A=0;A<f;++A)I[A]=r[A]^l;c=new e(I),u=c.encryptBlock(u)}}else c=new e(r.subarray(0,f)),u=c.encryptBlock(B);return u}#o(d,B,g,L=!1){const C=new Uint8Array(g.length+9),h=g.length;let M;for(M=0;M<h;++M)C[M]=g[M];return C[M++]=255&d,C[M++]=d>>8&255,C[M++]=d>>16&255,C[M++]=255&B,C[M++]=B>>8&255,L&&(C[M++]=115,C[M++]=65,C[M++]=108,C[M++]=84),t(C,0,M).subarray(0,Math.min(g.length+5,16))}#r(d,B,g,L,C){if(!(B instanceof j.Name))throw new n.FormatError("Invalid crypt filter name.");const h=this,l=d.get(B.name)?.get("CFM");if(!l||"None"===l.name)return function(){return new k};if("V2"===l.name)return function(){return new e(h.#o(g,L,C,!1))};if("AESV2"===l.name)return function(){return new p(h.#o(g,L,C,!0))};if("AESV3"===l.name)return function(){return new i(C)};throw new n.FormatError("Unknown crypto method")}constructor(d,B,g){const L=d.get("Filter");if(!(0,j.isName)(L,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=L.name,this.dict=d;const C=d.get("V");if(!Number.isInteger(C)||1!==C&&2!==C&&4!==C&&5!==C)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=C;let h=d.get("Length");if(!h)if(C<=3)h=40;else{const _=d.get("CF"),w=d.get("StmF");_ instanceof j.Dict&&w instanceof j.Name&&(_.suppressEncryption=!0,h=_.get(w.name)?.get("Length")||128,h<40&&(h<<=3))}if(!Number.isInteger(h)||h<40||h%8!=0)throw new n.FormatError("invalid key length");const M=(0,n.stringToBytes)(d.get("O")),l=(0,n.stringToBytes)(d.get("U")),r=M.subarray(0,32),f=l.subarray(0,32),c=d.get("P"),u=d.get("R"),I=(4===C||5===C)&&!1!==d.get("EncryptMetadata");this.encryptMetadata=I;const A=(0,n.stringToBytes)(B);let P,$;if(g){if(6===u)try{g=(0,n.utf8StringToString)(g)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}P=(0,n.stringToBytes)(g)}if(5!==C)$=this.#n(A,P,r,f,c,u,h,I);else{const _=M.subarray(32,40),w=M.subarray(40,48),T=l.subarray(0,48),N=l.subarray(32,40),H=l.subarray(40,48),z=(0,n.stringToBytes)(d.get("OE")),U=(0,n.stringToBytes)(d.get("UE")),q=(0,n.stringToBytes)(d.get("Perms"));$=this.#t(u,P,r,_,w,T,f,N,H,z,U,q)}if(!$&&!g)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!$&&g){const _=this.#i(P,r,u,h);$=this.#n(A,_,r,f,c,u,h,I)}if(!$)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=$,C>=4){const _=d.get("CF");_ instanceof j.Dict&&(_.suppressEncryption=!0),this.cf=_,this.stmf=d.get("StmF")||j.Name.get("Identity"),this.strf=d.get("StrF")||j.Name.get("Identity"),this.eff=d.get("EFF")||this.stmf}}createCipherTransform(d,B){if(4===this.algorithm||5===this.algorithm)return new O(this.#r(this.cf,this.strf,d,B,this.encryptionKey),this.#r(this.cf,this.stmf,d,B,this.encryptionKey));const g=this.#o(d,B,this.encryptionKey,!1),L=function(){return new e(g)};return new O(L,L)}}E.CipherTransformFactory=v},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DecryptStream=void 0;var n=V(18);E.DecryptStream=class x extends n.DecodeStream{constructor(t,a,F){super(a),this.str=t,this.dict=t.dict,this.decrypt=F,this.nextChunk=null,this.initialized=!1}readBlock(){let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(512),this.initialized=!0),!t||0===t.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(512),t=(0,this.decrypt)(t,!(this.nextChunk?.length>0));const m=this.bufferLength,y=m+t.length;this.ensureBuffer(y).set(t,m),this.bufferLength=y}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ObjectLoader=void 0;var n=V(4),j=V(5),x=V(3),e=V(2);function t(m){return m instanceof n.Ref||m instanceof n.Dict||m instanceof j.BaseStream||Array.isArray(m)}function a(m,y){if(m instanceof n.Dict)m=m.getRawValues();else if(m instanceof j.BaseStream)m=m.dict.getRawValues();else if(!Array.isArray(m))return;for(const k of m)t(k)&&y.push(k)}E.ObjectLoader=class F{constructor(y,k,s){this.dict=y,this.keys=k,this.xref=s,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:y,dict:k}=this;this.refSet=new n.RefSet;const s=[];for(const p of y){const i=k.getRaw(p);void 0!==i&&s.push(i)}return this._walk(s)}async _walk(y){const k=[],s=[];for(;y.length;){let p=y.pop();if(p instanceof n.Ref){if(this.refSet.has(p))continue;try{this.refSet.put(p),p=this.xref.fetch(p)}catch(i){if(!(i instanceof x.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:D}=this.xref.stream;return D.requestAllChunks()}k.push(p),s.push({begin:i.begin,end:i.end})}}if(p instanceof j.BaseStream){const i=p.getBaseStreams();if(i){let D=!1;for(const b of i)b.isDataLoaded||(D=!0,s.push({begin:b.start,end:b.end}));D&&k.push(p)}}a(p,y)}if(s.length){await this.xref.stream.manager.requestRanges(s);for(const p of k)p instanceof n.Ref&&this.refSet.remove(p);return this._walk(k)}this.refSet=null}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XFAFactory=void 0;var n=V(78),j=V(79),x=V(89),e=V(85),t=V(84),a=V(2),F=V(90),m=V(100);class y{constructor(s){try{this.root=(new F.XFAParser).parse(y._createDocument(s));const p=new j.Binder(this.root);this.form=p.bind(),this.dataHandler=new x.DataHandler(this.root,p.getData()),this.form[n.$globalData].template=this.form}catch(p){(0,a.warn)(`XFA - an error occurred during parsing and binding: ${p}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const s=this.form[n.$toPages]();return new Promise((p,i)=>{const D=()=>{try{const b=s.next();b.done?p(b.value):setTimeout(D,0)}catch(b){i(b)}};setTimeout(D,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(s=>{const{width:p,height:i}=s.attributes.style;return[0,0,parseInt(p),parseInt(i)]})}catch(s){(0,a.warn)(`XFA - an error occurred during layout: ${s}`)}}getBoundingBox(s){return this.dims[s]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(s){this.form[n.$globalData].images=s}setFonts(s){this.form[n.$globalData].fontFinder=new e.FontFinder(s);const p=[];for(let i of this.form[n.$globalData].usedTypefaces)i=(0,t.stripQuotes)(i),this.form[n.$globalData].fontFinder.find(i)||p.push(i);return p.length>0?p:null}appendFonts(s,p){this.form[n.$globalData].fontFinder.add(s,p)}async getPages(){this.pages||await this._createPages();const s=this.pages;return this.pages=null,s}serializeData(s){return this.dataHandler.serialize(s)}static _createDocument(s){return s["/xdp:xdp"]?Object.values(s).join(""):s["xdp:xdp"]}static getRichTextAsHtml(s){if(!s||"string"!=typeof s)return null;try{let p=new F.XFAParser(m.XhtmlNamespace,!0).parse(s);if(!["body","xhtml"].includes(p[n.$nodeName])){const O=m.XhtmlNamespace.body({});O[n.$appendChild](p),p=O}const i=p[n.$toHTML]();if(!i.success)return null;const{html:D}=i,{attributes:b}=D;return b&&(b.class&&(b.class=b.class.filter(O=>!O.startsWith("xfa"))),b.dir="auto"),{html:D,str:p[n.$text]()}}catch(p){(0,a.warn)(`XFA - an error occurred during parsing of rich text: ${p}`)}return null}}E.XFAFactory=y},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.$uid=E.$toStyle=E.$toString=E.$toPages=E.$toHTML=E.$text=E.$tabIndex=E.$setValue=E.$setSetAttributes=E.$setId=E.$searchNode=E.$root=E.$resolvePrototypes=E.$removeChild=E.$pushPara=E.$pushGlyphs=E.$popPara=E.$onText=E.$onChildCheck=E.$onChild=E.$nsAttributes=E.$nodeName=E.$namespaceId=E.$lastAttribute=E.$isUsable=E.$isTransparent=E.$isThereMoreWidth=E.$isSplittable=E.$isNsAgnostic=E.$isDescendent=E.$isDataValue=E.$isCDATAXml=E.$isBindable=E.$insertAt=E.$indexOf=E.$ids=E.$hasSettableValue=E.$globalData=E.$getTemplateRoot=E.$getSubformParent=E.$getRealChildrenByNameIt=E.$getParent=E.$getNextPage=E.$getExtra=E.$getDataValue=E.$getContainedChildren=E.$getChildrenByNameIt=E.$getChildrenByName=E.$getChildrenByClass=E.$getChildren=E.$getAvailableSpace=E.$getAttributes=E.$getAttributeIt=E.$flushHTML=E.$finalize=E.$extra=E.$dump=E.$data=E.$content=E.$consumed=E.$clone=E.$cleanup=E.$cleanPage=E.$clean=E.$childrenToHTML=E.$appendChild=E.$addHTML=E.$acceptWhitespace=void 0;const V=Symbol();E.$acceptWhitespace=V;const n=Symbol();E.$addHTML=n;const j=Symbol();E.$appendChild=j;const x=Symbol();E.$childrenToHTML=x;const e=Symbol();E.$clean=e;const t=Symbol();E.$cleanPage=t;const a=Symbol();E.$cleanup=a;const F=Symbol();E.$clone=F;const m=Symbol();E.$consumed=m;const y=Symbol("content");E.$content=y;const k=Symbol("data");E.$data=k;const s=Symbol();E.$dump=s;const p=Symbol("extra");E.$extra=p;const i=Symbol();E.$finalize=i;const D=Symbol();E.$flushHTML=D;const b=Symbol();E.$getAttributeIt=b;const O=Symbol();E.$getAttributes=O;const v=Symbol();E.$getAvailableSpace=v;const S=Symbol();E.$getChildrenByClass=S;const d=Symbol();E.$getChildrenByName=d;const B=Symbol();E.$getChildrenByNameIt=B;const g=Symbol();E.$getDataValue=g;const L=Symbol();E.$getExtra=L;const C=Symbol();E.$getRealChildrenByNameIt=C;const h=Symbol();E.$getChildren=h;const M=Symbol();E.$getContainedChildren=M;const l=Symbol();E.$getNextPage=l;const r=Symbol();E.$getSubformParent=r;const f=Symbol();E.$getParent=f;const c=Symbol();E.$getTemplateRoot=c;const u=Symbol();E.$globalData=u;const I=Symbol();E.$hasSettableValue=I;const A=Symbol();E.$ids=A;const P=Symbol();E.$indexOf=P;const $=Symbol();E.$insertAt=$;const _=Symbol();E.$isCDATAXml=_;const w=Symbol();E.$isBindable=w;const T=Symbol();E.$isDataValue=T;const N=Symbol();E.$isDescendent=N;const H=Symbol();E.$isNsAgnostic=H;const z=Symbol();E.$isSplittable=z;const U=Symbol();E.$isThereMoreWidth=U;const q=Symbol();E.$isTransparent=q;const J=Symbol();E.$isUsable=J;const oe=Symbol();E.$lastAttribute=oe;const ne=Symbol("namespaceId");E.$namespaceId=ne;const Q=Symbol("nodeName");E.$nodeName=Q;const R=Symbol();E.$nsAttributes=R;const X=Symbol();E.$onChild=X;const G=Symbol();E.$onChildCheck=G;const Y=Symbol();E.$onText=Y;const K=Symbol();E.$pushGlyphs=K;const Z=Symbol();E.$popPara=Z;const ae=Symbol();E.$pushPara=ae;const ie=Symbol();E.$removeChild=ie;const te=Symbol("root");E.$root=te;const re=Symbol();E.$resolvePrototypes=re;const ee=Symbol();E.$searchNode=ee;const le=Symbol();E.$setId=le;const ue=Symbol();E.$setSetAttributes=ue;const fe=Symbol();E.$setValue=fe;const Se=Symbol();E.$tabIndex=Se;const Ce=Symbol();E.$text=Ce;const ve=Symbol();E.$toPages=ve;const me=Symbol();E.$toHTML=me;const de=Symbol();E.$toString=de;const ge=Symbol();E.$toStyle=ge;const Ae=Symbol("uid");E.$uid=Ae},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Binder=void 0;var n=V(78),j=V(80),x=V(88),e=V(87),t=V(81),a=V(2);const F=t.NamespaceIds.datasets.id;function m(k){const s=new j.Text({});return s[n.$content]=k,s}E.Binder=class y{constructor(s){this.root=s,this.datasets=s.datasets,this.data=s.datasets?.data||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=0===this.data[n.$getChildren]().length,this.root.form=this.form=s.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(s,p,i){if(s[n.$data]=p,s[n.$hasSettableValue]())if(p[n.$isDataValue]()){const D=p[n.$getDataValue]();s[n.$setValue](m(D))}else if(s instanceof j.Field&&"multiSelect"===s.ui?.choiceList?.open){const D=p[n.$getChildren]().map(b=>b[n.$content].trim()).join("\n");s[n.$setValue](m(D))}else this._isConsumeData()&&(0,a.warn)("XFA - Nodes haven't the same type.");else!p[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(s,p):(0,a.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(s,p,i,D){if(!s)return null;let b,O;for(let v=0;v<3;v++){for(b=i[n.$getRealChildrenByNameIt](s,!1,!0);O=b.next().value,O;)if(p===O[n.$isDataValue]())return O;if(i[n.$namespaceId]===t.NamespaceIds.datasets.id&&"data"===i[n.$nodeName])break;i=i[n.$getParent]()}return D?(b=this.data[n.$getRealChildrenByNameIt](s,!0,!1),O=b.next().value,O||(b=this.data[n.$getAttributeIt](s,!0),O=b.next().value,O?.[n.$isDataValue]())?O:null):null}_setProperties(s,p){if(s.hasOwnProperty("setProperty"))for(const{ref:i,target:D,connection:b}of s.setProperty.children){if(b||!i)continue;const O=(0,x.searchNode)(this.root,p,i,!1,!1);if(!O){(0,a.warn)(`XFA - Invalid reference: ${i}.`);continue}const[v]=O;if(!v[n.$isDescendent](this.data)){(0,a.warn)("XFA - Invalid node: must be a data node.");continue}const S=(0,x.searchNode)(this.root,s,D,!1,!1);if(!S){(0,a.warn)(`XFA - Invalid target: ${D}.`);continue}const[d]=S;if(!d[n.$isDescendent](s)){(0,a.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const B=d[n.$getParent]();if(d instanceof j.SetProperty||B instanceof j.SetProperty){(0,a.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(d instanceof j.BindItems||B instanceof j.BindItems){(0,a.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const g=v[n.$text](),L=d[n.$nodeName];if(d instanceof e.XFAAttribute){const C=Object.create(null);C[L]=g;const h=Reflect.construct(Object.getPrototypeOf(B).constructor,[C]);B[L]=h[L]}else d.hasOwnProperty(n.$content)?(d[n.$data]=v,d[n.$content]=g,d[n.$finalize]()):(0,a.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(s,p){if(!s.hasOwnProperty("items")||!s.hasOwnProperty("bindItems")||s.bindItems.isEmpty())return;for(const b of s.items.children)s[n.$removeChild](b);s.items.clear();const i=new j.Items({}),D=new j.Items({});s[n.$appendChild](i),s.items.push(i),s[n.$appendChild](D),s.items.push(D);for(const{ref:b,labelRef:O,valueRef:v,connection:S}of s.bindItems.children){if(S||!b)continue;const d=(0,x.searchNode)(this.root,p,b,!1,!1);if(d)for(const B of d){if(!B[n.$isDescendent](this.datasets)){(0,a.warn)(`XFA - Invalid ref (${b}): must be a datasets child.`);continue}const g=(0,x.searchNode)(this.root,B,O,!0,!1);if(!g){(0,a.warn)(`XFA - Invalid label: ${O}.`);continue}const[L]=g;if(!L[n.$isDescendent](this.datasets)){(0,a.warn)("XFA - Invalid label: must be a datasets child.");continue}const C=(0,x.searchNode)(this.root,B,v,!0,!1);if(!C){(0,a.warn)(`XFA - Invalid value: ${v}.`);continue}const[h]=C;if(!h[n.$isDescendent](this.datasets)){(0,a.warn)("XFA - Invalid value: must be a datasets child.");continue}const M=m(L[n.$text]()),l=m(h[n.$text]());i[n.$appendChild](M),i.text.push(M),D[n.$appendChild](l),D.text.push(l)}else(0,a.warn)(`XFA - Invalid reference: ${b}.`)}}_bindOccurrences(s,p,i){let D;if(p.length>1&&(D=s[n.$clone](),D[n.$removeChild](D.occur),D.occur=null),this._bindValue(s,p[0],i),this._setProperties(s,p[0]),this._bindItems(s,p[0]),1===p.length)return;const b=s[n.$getParent](),O=s[n.$nodeName],v=b[n.$indexOf](s);for(let S=1,d=p.length;S<d;S++){const B=p[S],g=D[n.$clone]();b[O].push(g),b[n.$insertAt](v+S,g),this._bindValue(g,B,i),this._setProperties(g,B),this._bindItems(g,B)}}_createOccurrences(s){if(!this.emptyMerge)return;const{occur:p}=s;if(!p||p.initial<=1)return;const i=s[n.$getParent](),D=s[n.$nodeName];if(!(i[D]instanceof e.XFAObjectArray))return;let b;b=s.name?i[D].children.filter(S=>S.name===s.name).length:i[D].children.length;const O=i[n.$indexOf](s)+1,v=p.initial-b;if(v){const S=s[n.$clone]();S[n.$removeChild](S.occur),S.occur=null,i[D].push(S),i[n.$insertAt](O,S);for(let d=1;d<v;d++){const B=S[n.$clone]();i[D].push(B),i[n.$insertAt](O+d,B)}}}_getOccurInfo(s){const{name:p,occur:i}=s;return i&&p?[i.min,-1===i.max?1/0:i.max]:[1,1]}_setAndBind(s,p){this._setProperties(s,p),this._bindItems(s,p),this._bindElement(s,p)}_bindElement(s,p){const i=[];this._createOccurrences(s);for(const D of s[n.$getChildren]()){if(D[n.$data])continue;if(void 0===this._mergeMode&&"subform"===D[n.$nodeName]){this._mergeMode="consumeData"===D.mergeMode;const g=p[n.$getChildren]();if(g.length>0)this._bindOccurrences(D,[g[0]],null);else if(this.emptyMerge){const C=D[n.$data]=new e.XmlObject(p[n.$namespaceId]===F?-1:p[n.$namespaceId],D.name||"root");p[n.$appendChild](C),this._bindElement(D,C)}continue}if(!D[n.$isBindable]())continue;let b=!1,O=null,v=null,S=null;if(D.bind){switch(D.bind.match){case"none":this._setAndBind(D,p);continue;case"global":b=!0;break;case"dataRef":if(!D.bind.ref){(0,a.warn)(`XFA - ref is empty in node ${D[n.$nodeName]}.`),this._setAndBind(D,p);continue}v=D.bind.ref}D.bind.picture&&(O=D.bind.picture[n.$content])}const[d,B]=this._getOccurInfo(D);if(v){if(S=(0,x.searchNode)(this.root,p,v,!0,!1),null===S){if(S=(0,x.createDataNode)(this.data,p,v),!S)continue;this._isConsumeData()&&(S[n.$consumed]=!0),this._setAndBind(D,S);continue}this._isConsumeData()&&(S=S.filter(g=>!g[n.$consumed])),S.length>B?S=S.slice(0,B):0===S.length&&(S=null),S&&this._isConsumeData()&&S.forEach(g=>{g[n.$consumed]=!0})}else{if(!D.name){this._setAndBind(D,p);continue}if(this._isConsumeData()){const g=[];for(;g.length<B;){const L=this._findDataByNameToConsume(D.name,D[n.$hasSettableValue](),p,b);if(!L)break;L[n.$consumed]=!0,g.push(L)}S=g.length>0?g:null}else{if(S=p[n.$getRealChildrenByNameIt](D.name,!1,this.emptyMerge).next().value,!S){if(0===d){i.push(D);continue}S=D[n.$data]=new e.XmlObject(p[n.$namespaceId]===F?-1:p[n.$namespaceId],D.name),this.emptyMerge&&(S[n.$consumed]=!0),p[n.$appendChild](S),this._setAndBind(D,S);continue}this.emptyMerge&&(S[n.$consumed]=!0),S=[S]}}S?this._bindOccurrences(D,S,O):d>0?this._setAndBind(D,p):i.push(D)}i.forEach(D=>D[n.$getParent]()[n.$removeChild](D))}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Value=E.Text=E.TemplateNamespace=E.Template=E.SetProperty=E.Items=E.Field=E.BindItems=void 0;var n=V(78),j=V(81),x=V(82),e=V(83),t=V(87),a=V(84),F=V(2),m=V(85),y=V(3),k=V(88);const s=j.NamespaceIds.template.id,p="http://www.w3.org/2000/svg",O=/^H(\d+)$/,v=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),S=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function d(Te){if(!Te||!Te.border)return{w:0,h:0};const o=Te.border[n.$getExtra]();return o?{w:o.widths[0]+o.widths[2]+o.insets[0]+o.insets[2],h:o.widths[1]+o.widths[3]+o.insets[1]+o.insets[3]}:{w:0,h:0}}function B(Te){return Te.margin&&(Te.margin.topInset||Te.margin.rightInset||Te.margin.bottomInset||Te.margin.leftInset)}function g(Te,o){if(!Te.value){const W=new Ht({});Te[n.$appendChild](W),Te.value=W}Te.value[n.$setValue](o)}function*L(Te){for(const o of Te[n.$getChildren]())o instanceof Gt?yield*o[n.$getContainedChildren]():yield o}function C(Te){return"error"===Te.validate?.nullTest}function h(Te){for(;Te;){if(!Te.traversal)return void(Te[n.$tabIndex]=Te[n.$getParent]()[n.$tabIndex]);if(Te[n.$tabIndex])return;let o=null;for(const Ee of Te.traversal[n.$getChildren]())if("next"===Ee.operation){o=Ee;break}if(!o||!o.ref)return void(Te[n.$tabIndex]=Te[n.$getParent]()[n.$tabIndex]);const W=Te[n.$getTemplateRoot]();Te[n.$tabIndex]=++W[n.$tabIndex];const Fe=W[n.$searchNode](o.ref,Te);if(!Fe)return;Te=Fe[0]}}function M(Te,o){const W=Te.assist;if(W){const Fe=W[n.$toHTML]();Fe&&(o.title=Fe);const Le=W.role.match(O);if(Le){const et=Le[1];o.role="heading",o["aria-level"]=et}}if("table"===Te.layout)o.role="table";else if("row"===Te.layout)o.role="row";else{const Fe=Te[n.$getParent]();"row"===Fe.layout&&(o.role="TH"===Fe.assist?.role?"columnheader":"cell")}}function l(Te){if(!Te.assist)return null;const o=Te.assist;return o.speak&&""!==o.speak[n.$content]?o.speak[n.$content]:o.toolTip?o.toolTip[n.$content]:null}function r(Te){return a.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Te}]})}function f(Te){const o=Te[n.$getTemplateRoot]();null===o[n.$extra].firstUnsplittable&&(o[n.$extra].firstUnsplittable=Te,o[n.$extra].noLayoutFailure=!0)}function c(Te){const o=Te[n.$getTemplateRoot]();o[n.$extra].firstUnsplittable===Te&&(o[n.$extra].noLayoutFailure=!1)}function u(Te){if(Te[n.$extra]||(Te[n.$extra]=Object.create(null),"auto"===Te.targetType))return!1;const o=Te[n.$getTemplateRoot]();let W=null;if(Te.target){if(W=o[n.$searchNode](Te.target,Te[n.$getParent]()),!W)return!1;W=W[0]}const{currentPageArea:Fe,currentContentArea:Ee}=o[n.$extra];if("pageArea"===Te.targetType)return W instanceof We||(W=null),Te.startNew?(Te[n.$extra].target=W||Fe,!0):!(!W||W===Fe||(Te[n.$extra].target=W,0));W instanceof te||(W=null);const Le=W&&W[n.$getParent]();let tt,et=Le;if(Te.startNew)if(W){const st=Le.contentArea.children,bt=st.indexOf(Ee),kt=st.indexOf(W);-1!==bt&&bt<kt&&(et=null),tt=kt-1}else tt=Fe.contentArea.children.indexOf(Ee);else{if(!W||W===Ee)return!1;tt=Le.contentArea.children.indexOf(W)-1,et=Le===Fe?null:Le}return Te[n.$extra].target=et,Te[n.$extra].index=tt,!0}function I(Te,o,W){const Fe=Te[n.$getTemplateRoot](),Ee=Fe[n.$extra].noLayoutFailure,Le=o[n.$getSubformParent];o[n.$getSubformParent]=()=>Te,Fe[n.$extra].noLayoutFailure=!0;const tt=o[n.$toHTML](W);Te[n.$addHTML](tt.html,tt.bbox),Fe[n.$extra].noLayoutFailure=Ee,o[n.$getSubformParent]=Le}class A extends t.StringObject{constructor(o){super(s,"appearanceFilter"),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||""}}class P extends t.XFAObject{constructor(o){super(s,"arc",!0),this.circular=(0,a.getInteger)({data:o.circular,defaultValue:0,validate:W=>1===W}),this.hand=(0,a.getStringOption)(o.hand,["even","left","right"]),this.id=o.id||"",this.startAngle=(0,a.getFloat)({data:o.startAngle,defaultValue:0,validate:W=>!0}),this.sweepAngle=(0,a.getFloat)({data:o.sweepAngle,defaultValue:360,validate:W=>!0}),this.use=o.use||"",this.usehref=o.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){const o=this.edge||new ge({}),W=o[n.$toStyle](),Fe=Object.create(null);let Ee;"visible"===this.fill?.presence?Object.assign(Fe,this.fill[n.$toStyle]()):Fe.fill="transparent",Fe.strokeWidth=(0,e.measureToString)("visible"===o.presence?o.thickness:0),Fe.stroke=W.color;const Le={xmlns:p,style:{width:"100%",height:"100%",overflow:"visible"}};if(360===this.sweepAngle)Ee={name:"ellipse",attributes:{xmlns:p,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Fe}};else{const st=this.startAngle*Math.PI/180,bt=this.sweepAngle*Math.PI/180,kt=this.sweepAngle>180?1:0,[It,Et,Mt,Ot]=[50*(1+Math.cos(st)),50*(1-Math.sin(st)),50*(1+Math.cos(st+bt)),50*(1-Math.sin(st+bt))];Ee={name:"path",attributes:{xmlns:p,d:`M ${It} ${Et} A 50 50 0 ${kt} 0 ${Mt} ${Ot}`,vectorEffect:"non-scaling-stroke",style:Fe}},Object.assign(Le,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const tt={name:"svg",children:[Ee],attributes:Le};return B(this[n.$getParent]()[n.$getParent]())?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[tt]}):(tt.attributes.style.position="absolute",a.HTMLResult.success(tt))}}class $ extends t.XFAObject{constructor(o){super(s,"area",!0),this.colSpan=(0,a.getInteger)({data:o.colSpan,defaultValue:1,validate:W=>W>=1||-1===W}),this.id=o.id||"",this.name=o.name||"",this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*L(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](o,W){const[Fe,Ee,Le,tt]=W;this[n.$extra].width=Math.max(this[n.$extra].width,Fe+Le),this[n.$extra].height=Math.max(this[n.$extra].height,Ee+tt),this[n.$extra].children.push(o)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](o){const W=(0,e.toStyle)(this,"position"),Fe={style:W,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&Fe.class.push("xfaPrintOnly"),this.name&&(Fe.xfaName=this.name);const Ee=[];this[n.$extra]={children:Ee,width:0,height:0,availableSpace:o};const Le=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Le.success)return Le.isBreak()?Le:(delete this[n.$extra],a.HTMLResult.FAILURE);W.width=(0,e.measureToString)(this[n.$extra].width),W.height=(0,e.measureToString)(this[n.$extra].height);const tt={name:"div",attributes:Fe,children:Ee},et=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],a.HTMLResult.success(tt,et)}}class _ extends t.XFAObject{constructor(o){super(s,"assist",!0),this.id=o.id||"",this.role=o.role||"",this.use=o.use||"",this.usehref=o.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){return this.toolTip?.[n.$content]||null}}class w extends t.XFAObject{constructor(o){super(s,"barcode",!0),this.charEncoding=(0,a.getKeyword)({data:o.charEncoding?o.charEncoding.toLowerCase():"",defaultValue:"",validate:W=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(W)||W.match(/iso-8859-\d{2}/)}),this.checksum=(0,a.getStringOption)(o.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,a.getInteger)({data:o.dataColumnCount,defaultValue:-1,validate:W=>W>=0}),this.dataLength=(0,a.getInteger)({data:o.dataLength,defaultValue:-1,validate:W=>W>=0}),this.dataPrep=(0,a.getStringOption)(o.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,a.getInteger)({data:o.dataRowCount,defaultValue:-1,validate:W=>W>=0}),this.endChar=o.endChar||"",this.errorCorrectionLevel=(0,a.getInteger)({data:o.errorCorrectionLevel,defaultValue:-1,validate:W=>W>=0&&W<=8}),this.id=o.id||"",this.moduleHeight=(0,a.getMeasurement)(o.moduleHeight,"5mm"),this.moduleWidth=(0,a.getMeasurement)(o.moduleWidth,"0.25mm"),this.printCheckDigit=(0,a.getInteger)({data:o.printCheckDigit,defaultValue:0,validate:W=>1===W}),this.rowColumnRatio=(0,a.getRatio)(o.rowColumnRatio),this.startChar=o.startChar||"",this.textLocation=(0,a.getStringOption)(o.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,a.getInteger)({data:o.truncate,defaultValue:0,validate:W=>1===W}),this.type=(0,a.getStringOption)(o.type?o.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,a.getStringOption)(o.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=o.use||"",this.usehref=o.usehref||"",this.wideNarrowRatio=(0,a.getRatio)(o.wideNarrowRatio),this.encrypt=null,this.extras=null}}class T extends t.XFAObject{constructor(o){super(s,"bind",!0),this.match=(0,a.getStringOption)(o.match,["once","dataRef","global","none"]),this.ref=o.ref||"",this.picture=null}}class N extends t.XFAObject{constructor(o){super(s,"bindItems"),this.connection=o.connection||"",this.labelRef=o.labelRef||"",this.ref=o.ref||"",this.valueRef=o.valueRef||""}}E.BindItems=N;class H extends t.XFAObject{constructor(o){super(s,"bookend"),this.id=o.id||"",this.leader=o.leader||"",this.trailer=o.trailer||"",this.use=o.use||"",this.usehref=o.usehref||""}}class z extends t.Option01{constructor(o){super(s,"boolean"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$toHTML](o){return r(1===this[n.$content]?"1":"0")}}class U extends t.XFAObject{constructor(o){super(s,"border",!0),this.break=(0,a.getStringOption)(o.break,["close","open"]),this.hand=(0,a.getStringOption)(o.hand,["even","left","right"]),this.id=o.id||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const o=this.edge.children.slice();if(o.length<4){const Ee=o.at(-1)||new ge({});for(let Le=o.length;Le<4;Le++)o.push(Ee)}const W=o.map(Ee=>Ee.thickness),Fe=[0,0,0,0];this.margin&&(Fe[0]=this.margin.topInset,Fe[1]=this.margin.rightInset,Fe[2]=this.margin.bottomInset,Fe[3]=this.margin.leftInset),this[n.$extra]={widths:W,insets:Fe,edges:o}}return this[n.$extra]}[n.$toStyle](){const{edges:o}=this[n.$getExtra](),W=o.map(Ee=>{const Le=Ee[n.$toStyle]();return Le.color||="#000000",Le}),Fe=Object.create(null);if(this.margin&&Object.assign(Fe,this.margin[n.$toStyle]()),"visible"===this.fill?.presence&&Object.assign(Fe,this.fill[n.$toStyle]()),this.corner.children.some(Ee=>0!==Ee.radius)){const Ee=this.corner.children.map(Le=>Le[n.$toStyle]());if(2===Ee.length||3===Ee.length){const Le=Ee.at(-1);for(let tt=Ee.length;tt<4;tt++)Ee.push(Le)}Fe.borderRadius=Ee.map(Le=>Le.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Fe.borderStyle="";break;case"inactive":Fe.borderStyle="none";break;default:Fe.borderStyle=W.map(Ee=>Ee.style).join(" ")}return Fe.borderWidth=W.map(Ee=>Ee.width).join(" "),Fe.borderColor=W.map(Ee=>Ee.color).join(" "),Fe}}class q extends t.XFAObject{constructor(o){super(s,"break",!0),this.after=(0,a.getStringOption)(o.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=o.afterTarget||"",this.before=(0,a.getStringOption)(o.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=o.beforeTarget||"",this.bookendLeader=o.bookendLeader||"",this.bookendTrailer=o.bookendTrailer||"",this.id=o.id||"",this.overflowLeader=o.overflowLeader||"",this.overflowTarget=o.overflowTarget||"",this.overflowTrailer=o.overflowTrailer||"",this.startNew=(0,a.getInteger)({data:o.startNew,defaultValue:0,validate:W=>1===W}),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}}class J extends t.XFAObject{constructor(o){super(s,"breakAfter",!0),this.id=o.id||"",this.leader=o.leader||"",this.startNew=(0,a.getInteger)({data:o.startNew,defaultValue:0,validate:W=>1===W}),this.target=o.target||"",this.targetType=(0,a.getStringOption)(o.targetType,["auto","contentArea","pageArea"]),this.trailer=o.trailer||"",this.use=o.use||"",this.usehref=o.usehref||"",this.script=null}}class oe extends t.XFAObject{constructor(o){super(s,"breakBefore",!0),this.id=o.id||"",this.leader=o.leader||"",this.startNew=(0,a.getInteger)({data:o.startNew,defaultValue:0,validate:W=>1===W}),this.target=o.target||"",this.targetType=(0,a.getStringOption)(o.targetType,["auto","contentArea","pageArea"]),this.trailer=o.trailer||"",this.use=o.use||"",this.usehref=o.usehref||"",this.script=null}[n.$toHTML](o){return this[n.$extra]={},a.HTMLResult.FAILURE}}class ne extends t.XFAObject{constructor(o){super(s,"button",!0),this.highlight=(0,a.getStringOption)(o.highlight,["inverted","none","outline","push"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}[n.$toHTML](o){const Fe=this[n.$getParent]()[n.$getParent](),Ee={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const Le of Fe.event.children){if("click"!==Le.activity||!Le.script)continue;const tt=(0,y.recoverJsURL)(Le.script[n.$content]);if(!tt)continue;const et=(0,e.fixURL)(tt.url);et&&Ee.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:et,newWindow:tt.newWindow,class:["xfaLink"],style:{}},children:[]})}return a.HTMLResult.success(Ee)}}class Q extends t.XFAObject{constructor(o){super(s,"calculate",!0),this.id=o.id||"",this.override=(0,a.getStringOption)(o.override,["disabled","error","ignore","warning"]),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.message=null,this.script=null}}class R extends t.XFAObject{constructor(o){super(s,"caption",!0),this.id=o.id||"",this.placement=(0,a.getStringOption)(o.placement,["left","bottom","inline","right","top"]),this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,a.getMeasurement)(o.reserve)),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](o){g(this,o)}[n.$getExtra](o){if(!this[n.$extra]){let{width:W,height:Fe}=o;switch(this.placement){case"left":case"right":case"inline":W=this.reserve<=0?W:this.reserve;break;case"top":case"bottom":Fe=this.reserve<=0?Fe:this.reserve}this[n.$extra]=(0,e.layoutNode)(this,{width:W,height:Fe})}return this[n.$extra]}[n.$toHTML](o){if(!this.value)return a.HTMLResult.EMPTY;this[n.$pushPara]();const W=this.value[n.$toHTML](o).html;if(!W)return this[n.$popPara](),a.HTMLResult.EMPTY;const Fe=this.reserve;if(this.reserve<=0){const{w:tt,h:et}=this[n.$getExtra](o);switch(this.placement){case"left":case"right":case"inline":this.reserve=tt;break;case"top":case"bottom":this.reserve=et}}const Ee=[];Ee.push("string"==typeof W?{name:"#text",value:W}:W);const Le=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Le.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Le.height=(0,e.measureToString)(this.reserve))}return(0,e.setPara)(this,null,W),this[n.$popPara](),this.reserve=Fe,a.HTMLResult.success({name:"div",attributes:{style:Le,class:["xfaCaption"]},children:Ee})}}class X extends t.StringObject{constructor(o){super(s,"certificate"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}}class G extends t.XFAObject{constructor(o){super(s,"certificates",!0),this.credentialServerPolicy=(0,a.getStringOption)(o.credentialServerPolicy,["optional","required"]),this.id=o.id||"",this.url=o.url||"",this.urlPolicy=o.urlPolicy||"",this.use=o.use||"",this.usehref=o.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class Y extends t.XFAObject{constructor(o){super(s,"checkButton",!0),this.id=o.id||"",this.mark=(0,a.getStringOption)(o.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,a.getStringOption)(o.shape,["square","round"]),this.size=(0,a.getMeasurement)(o.size,"10pt"),this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](o){const W=(0,e.toStyle)("margin"),Fe=(0,e.measureToString)(this.size);let Ee,Le,tt;W.width=W.height=Fe;const et=this[n.$getParent]()[n.$getParent](),st=et.items.children.length&&et.items.children[0][n.$toHTML]().html||[],bt={on:(void 0!==st[0]?st[0]:"on").toString(),off:(void 0!==st[1]?st[1]:"off").toString()},It=(et.value?.[n.$text]()||"off")===bt.on||void 0,Et=et[n.$getSubformParent]();let Ot;Et instanceof Oe?(tt=Et[n.$uid],Ee="radio",Le="xfaRadio",Ot=Et[n.$data]?.[n.$uid]||Et[n.$uid]):(Ee="checkbox",Le="xfaCheckbox",Ot=et[n.$data]?.[n.$uid]||et[n.$uid]);const At={name:"input",attributes:{class:[Le],style:W,fieldId:et[n.$uid],dataId:Ot,type:Ee,checked:It,xfaOn:bt.on,xfaOff:bt.off,"aria-label":l(et),"aria-required":!1}};return tt&&(At.attributes.name=tt),C(et)&&(At.attributes["aria-required"]=!0,At.attributes.required=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[At]})}}class K extends t.XFAObject{constructor(o){super(s,"choiceList",!0),this.commitOn=(0,a.getStringOption)(o.commitOn,["select","exit"]),this.id=o.id||"",this.open=(0,a.getStringOption)(o.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,a.getInteger)({data:o.textEntry,defaultValue:0,validate:W=>1===W}),this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](o){const W=(0,e.toStyle)(this,"border","margin"),Ee=this[n.$getParent]()[n.$getParent](),tt={fontSize:`calc(${Ee.font?.size||10}px * var(--scale-factor))`},et=[];if(Ee.items.children.length>0){const bt=Ee.items;let kt=0,It=0;2===bt.children.length&&(kt=bt.children[0].save,It=1-kt);const Et=bt.children[kt][n.$toHTML]().html,Mt=bt.children[It][n.$toHTML]().html;let Ot=!1;const At=Ee.value?.[n.$text]()||"";for(let Dt=0,yt=Et.length;Dt<yt;Dt++){const Ft={name:"option",attributes:{value:Mt[Dt]||Et[Dt],style:tt},value:Et[Dt]};Mt[Dt]===At&&(Ft.attributes.selected=Ot=!0),et.push(Ft)}Ot||et.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const st={class:["xfaSelect"],fieldId:Ee[n.$uid],dataId:Ee[n.$data]?.[n.$uid]||Ee[n.$uid],style:W,"aria-label":l(Ee),"aria-required":!1};return C(Ee)&&(st["aria-required"]=!0,st.required=!0),"multiSelect"===this.open&&(st.multiple=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:et,attributes:st}]})}}class Z extends t.XFAObject{constructor(o){super(s,"color",!0),this.cSpace=(0,a.getStringOption)(o.cSpace,["SRGB"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.value=o.value?(0,a.getColor)(o.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?F.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class ae extends t.XFAObject{constructor(o){super(s,"comb"),this.id=o.id||"",this.numberOfCells=(0,a.getInteger)({data:o.numberOfCells,defaultValue:0,validate:W=>W>=0}),this.use=o.use||"",this.usehref=o.usehref||""}}class ie extends t.XFAObject{constructor(o){super(s,"connect",!0),this.connection=o.connection||"",this.id=o.id||"",this.ref=o.ref||"",this.usage=(0,a.getStringOption)(o.usage,["exportAndImport","exportOnly","importOnly"]),this.use=o.use||"",this.usehref=o.usehref||"",this.picture=null}}class te extends t.XFAObject{constructor(o){super(s,"contentArea",!0),this.h=(0,a.getMeasurement)(o.h),this.id=o.id||"",this.name=o.name||"",this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.w=(0,a.getMeasurement)(o.w),this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](o){const Ee={left:(0,e.measureToString)(this.x),top:(0,e.measureToString)(this.y),width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Le=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Le.push("xfaPrintOnly"),a.HTMLResult.success({name:"div",children:[],attributes:{style:Ee,class:Le,id:this[n.$uid]}})}}class re extends t.XFAObject{constructor(o){super(s,"corner",!0),this.id=o.id||"",this.inverted=(0,a.getInteger)({data:o.inverted,defaultValue:0,validate:W=>1===W}),this.join=(0,a.getStringOption)(o.join,["square","round"]),this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,a.getMeasurement)(o.radius),this.stroke=(0,a.getStringOption)(o.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,a.getMeasurement)(o.thickness,"0.5pt"),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const o=(0,e.toStyle)(this,"visibility");return o.radius=(0,e.measureToString)("square"===this.join?0:this.radius),o}}class ee extends t.ContentObject{constructor(o){super(s,"date"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=this[n.$content].trim();this[n.$content]=o?new Date(o):null}[n.$toHTML](o){return r(this[n.$content]?this[n.$content].toString():"")}}class le extends t.ContentObject{constructor(o){super(s,"dateTime"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=this[n.$content].trim();this[n.$content]=o?new Date(o):null}[n.$toHTML](o){return r(this[n.$content]?this[n.$content].toString():"")}}class ue extends t.XFAObject{constructor(o){super(s,"dateTimeEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(o.hScrollPolicy,["auto","off","on"]),this.id=o.id||"",this.picker=(0,a.getStringOption)(o.picker,["host","none"]),this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](o){const W=(0,e.toStyle)(this,"border","font","margin"),Fe=this[n.$getParent]()[n.$getParent](),Ee={name:"input",attributes:{type:"text",fieldId:Fe[n.$uid],dataId:Fe[n.$data]?.[n.$uid]||Fe[n.$uid],class:["xfaTextfield"],style:W,"aria-label":l(Fe),"aria-required":!1}};return C(Fe)&&(Ee.attributes["aria-required"]=!0,Ee.attributes.required=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ee]})}}class fe extends t.ContentObject{constructor(o){super(s,"decimal"),this.fracDigits=(0,a.getInteger)({data:o.fracDigits,defaultValue:2,validate:W=>!0}),this.id=o.id||"",this.leadDigits=(0,a.getInteger)({data:o.leadDigits,defaultValue:-1,validate:W=>!0}),this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(o)?null:o}[n.$toHTML](o){return r(null!==this[n.$content]?this[n.$content].toString():"")}}class Se extends t.XFAObject{constructor(o){super(s,"defaultUi",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}}class Ce extends t.XFAObject{constructor(o){super(s,"desc",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ve extends t.OptionObject{constructor(o){super(s,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||""}}class me extends t.XFAObject{constructor(o){super(s,"digestMethods",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.digestMethod=new t.XFAObjectArray}}class de extends t.XFAObject{constructor(o){super(s,"draw",!0),this.anchorType=(0,a.getStringOption)(o.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:o.colSpan,defaultValue:1,validate:W=>W>=1||-1===W}),this.h=o.h?(0,a.getMeasurement)(o.h):"",this.hAlign=(0,a.getStringOption)(o.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=o.id||"",this.locale=o.locale||"",this.maxH=(0,a.getMeasurement)(o.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(o.maxW,"0pt"),this.minH=(0,a.getMeasurement)(o.minH,"0pt"),this.minW=(0,a.getMeasurement)(o.minW,"0pt"),this.name=o.name||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(o.relevant),this.rotate=(0,a.getInteger)({data:o.rotate,defaultValue:0,validate:W=>W%90==0}),this.use=o.use||"",this.usehref=o.usehref||"",this.w=o.w?(0,a.getMeasurement)(o.w):"",this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[n.$setValue](o){g(this,o)}[n.$toHTML](o){if(h(this),"hidden"===this.presence||"inactive"===this.presence)return a.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const W=this.w,Fe=this.h,{w:Ee,h:Le,isBroken:tt}=(0,e.layoutNode)(this,o);if(Ee&&""===this.w){if(tt&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),a.HTMLResult.FAILURE;this.w=Ee}if(Le&&""===this.h&&(this.h=Le),f(this),!(0,x.checkDimensions)(this,o))return this.w=W,this.h=Fe,this[n.$popPara](),a.HTMLResult.FAILURE;c(this);const et=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,et),et.margin&&(et.padding=et.margin,delete et.margin);const st=["xfaDraw"];this.font&&st.push("xfaFont"),(0,e.isPrintOnly)(this)&&st.push("xfaPrintOnly");const bt={style:et,id:this[n.$uid],class:st};this.name&&(bt.xfaName=this.name);const kt={name:"div",attributes:bt,children:[]};M(this,bt);const It=(0,e.computeBbox)(this,kt,o),Et=this.value?this.value[n.$toHTML](o).html:null;return null===Et?(this.w=W,this.h=Fe,this[n.$popPara](),a.HTMLResult.success((0,e.createWrapper)(this,kt),It)):(kt.children.push(Et),(0,e.setPara)(this,et,Et),this.w=W,this.h=Fe,this[n.$popPara](),a.HTMLResult.success((0,e.createWrapper)(this,kt),It))}}class ge extends t.XFAObject{constructor(o){super(s,"edge",!0),this.cap=(0,a.getStringOption)(o.cap,["square","butt","round"]),this.id=o.id||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,a.getStringOption)(o.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,a.getMeasurement)(o.thickness,"0.5pt"),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const o=(0,e.toStyle)(this,"visibility");if(Object.assign(o,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),"visible"!==this.presence)o.style="none";else switch(this.stroke){case"solid":o.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":o.style="dashed";break;case"dotted":o.style="dotted";break;case"embossed":o.style="ridge";break;case"etched":o.style="groove";break;case"lowered":o.style="inset";break;case"raised":o.style="outset"}return o}}class Ae extends t.OptionObject{constructor(o){super(s,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||""}}class be extends t.XFAObject{constructor(o){super(s,"encodings",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.encoding=new t.XFAObjectArray}}class pe extends t.XFAObject{constructor(o){super(s,"encrypt",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.certificate=null}}class xe extends t.XFAObject{constructor(o){super(s,"encryptData",!0),this.id=o.id||"",this.operation=(0,a.getStringOption)(o.operation,["encrypt","decrypt"]),this.target=o.target||"",this.use=o.use||"",this.usehref=o.usehref||"",this.filter=null,this.manifest=null}}class we extends t.XFAObject{constructor(o){super(s,"encryption",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.certificate=new t.XFAObjectArray}}class Ne extends t.OptionObject{constructor(o){super(s,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||""}}class He extends t.XFAObject{constructor(o){super(s,"encryptionMethods",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class $e extends t.XFAObject{constructor(o){super(s,"event",!0),this.activity=(0,a.getStringOption)(o.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=o.id||"",this.listen=(0,a.getStringOption)(o.listen,["refOnly","refAndDescendents"]),this.name=o.name||"",this.ref=o.ref||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class qe extends t.ContentObject{constructor(o){super(s,"exData"),this.contentType=o.contentType||"",this.href=o.href||"",this.id=o.id||"",this.maxLength=(0,a.getInteger)({data:o.maxLength,defaultValue:-1,validate:W=>W>=-1}),this.name=o.name||"",this.rid=o.rid||"",this.transferEncoding=(0,a.getStringOption)(o.transferEncoding,["none","base64","package"]),this.use=o.use||"",this.usehref=o.usehref||""}[n.$isCDATAXml](){return"text/html"===this.contentType}[n.$onChild](o){return("text/html"===this.contentType&&o[n.$namespaceId]===j.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[n.$content]=o,!0)}[n.$toHTML](o){return"text/html"===this.contentType&&this[n.$content]?this[n.$content][n.$toHTML](o):a.HTMLResult.EMPTY}}class Ke extends t.XFAObject{constructor(o){super(s,"exObject",!0),this.archive=o.archive||"",this.classId=o.classId||"",this.codeBase=o.codeBase||"",this.codeType=o.codeType||"",this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Oe extends t.XFAObject{constructor(o){super(s,"exclGroup",!0),this.access=(0,a.getStringOption)(o.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=o.accessKey||"",this.anchorType=(0,a.getStringOption)(o.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:o.colSpan,defaultValue:1,validate:W=>W>=1||-1===W}),this.h=o.h?(0,a.getMeasurement)(o.h):"",this.hAlign=(0,a.getStringOption)(o.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=o.id||"",this.layout=(0,a.getStringOption)(o.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,a.getMeasurement)(o.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(o.maxW,"0pt"),this.minH=(0,a.getMeasurement)(o.minH,"0pt"),this.minW=(0,a.getMeasurement)(o.minW,"0pt"),this.name=o.name||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.w=o.w?(0,a.getMeasurement)(o.w):"",this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](o){for(const W of this.field.children){if(!W.value){const Fe=new Ht({});W[n.$appendChild](Fe),W.value=Fe}W.value[n.$setValue](o)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[n.$extra].attempt&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){const o=this[n.$getSubformParent]();return!!o[n.$isSplittable]()&&(void 0!==this[n.$extra]._isSplittable?this[n.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):!(o.layout?.endsWith("-tb")&&0!==o[n.$extra].numberInLine||(this[n.$extra]._isSplittable=!0,0)))}[n.$flushHTML](){return(0,x.flushHTML)(this)}[n.$addHTML](o,W){(0,x.addHTML)(this,o,W)}[n.$getAvailableSpace](){return(0,x.getAvailableSpace)(this)}[n.$toHTML](o){if(h(this),"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return a.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const W=[],Fe={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Fe.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:W,attributes:Fe,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,o.width),height:Math.min(this.h||1/0,o.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Ee=this[n.$isSplittable]();if(Ee||f(this),!(0,x.checkDimensions)(this,o))return a.HTMLResult.FAILURE;const Le=new Set(["field"]);if(this.layout.includes("row")){const yt=this[n.$getSubformParent]().columnWidths;Array.isArray(yt)&&yt.length>0&&(this[n.$extra].columnWidths=yt,this[n.$extra].currentColumn=0)}const tt=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),et=["xfaExclgroup"],st=(0,e.layoutClass)(this);st&&et.push(st),(0,e.isPrintOnly)(this)&&et.push("xfaPrintOnly"),Fe.style=tt,Fe.class=et,this.name&&(Fe.xfaName=this.name),this[n.$pushPara]();const bt="lr-tb"===this.layout||"rl-tb"===this.layout,kt=bt?2:1;for(;this[n.$extra].attempt<kt;this[n.$extra].attempt++){bt&&1===this[n.$extra].attempt&&(this[n.$extra].numberInLine=0);const yt=this[n.$childrenToHTML]({filter:Le,include:!0});if(yt.success)break;if(yt.isBreak())return this[n.$popPara](),yt;if(bt&&0===this[n.$extra].attempt&&0===this[n.$extra].numberInLine&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=kt;break}}if(this[n.$popPara](),Ee||c(this),this[n.$extra].attempt===kt)return Ee||delete this[n.$extra],a.HTMLResult.FAILURE;let It=0,Et=0;this.margin&&(It=this.margin.leftInset+this.margin.rightInset,Et=this.margin.topInset+this.margin.bottomInset);const Mt=Math.max(this[n.$extra].width+It,this.w||0),Ot=Math.max(this[n.$extra].height+Et,this.h||0),At=[this.x,this.y,Mt,Ot];""===this.w&&(tt.width=(0,e.measureToString)(Mt)),""===this.h&&(tt.height=(0,e.measureToString)(Ot));const Dt={name:"div",attributes:Fe,children:W};return M(this,Fe),delete this[n.$extra],a.HTMLResult.success((0,e.createWrapper)(this,Dt),At)}}class Pe extends t.XFAObject{constructor(o){super(s,"execute"),this.connection=o.connection||"",this.executeType=(0,a.getStringOption)(o.executeType,["import","remerge"]),this.id=o.id||"",this.runAt=(0,a.getStringOption)(o.runAt,["client","both","server"]),this.use=o.use||"",this.usehref=o.usehref||""}}class ze extends t.XFAObject{constructor(o){super(s,"extras",!0),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ze extends t.XFAObject{constructor(o){super(s,"field",!0),this.access=(0,a.getStringOption)(o.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=o.accessKey||"",this.anchorType=(0,a.getStringOption)(o.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:o.colSpan,defaultValue:1,validate:W=>W>=1||-1===W}),this.h=o.h?(0,a.getMeasurement)(o.h):"",this.hAlign=(0,a.getStringOption)(o.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=o.id||"",this.locale=o.locale||"",this.maxH=(0,a.getMeasurement)(o.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(o.maxW,"0pt"),this.minH=(0,a.getMeasurement)(o.minH,"0pt"),this.minW=(0,a.getMeasurement)(o.minW,"0pt"),this.name=o.name||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(o.relevant),this.rotate=(0,a.getInteger)({data:o.rotate,defaultValue:0,validate:W=>W%90==0}),this.use=o.use||"",this.usehref=o.usehref||"",this.w=o.w?(0,a.getMeasurement)(o.w):"",this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](o){g(this,o)}[n.$toHTML](o){if(h(this),!this.ui){let yt;switch(this.ui=new qt({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui),this.items.children.length){case 0:yt=new Zt({}),this.ui.textEdit=yt;break;case 1:yt=new Y({}),this.ui.checkButton=yt;break;case 2:yt=new K({}),this.ui.choiceList=yt}this.ui[n.$appendChild](yt)}if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return a.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const W=this.caption?this.caption[n.$toHTML](o).html:null,Fe=this.w,Ee=this.h;let Le=0,tt=0;this.margin&&(Le=this.margin.leftInset+this.margin.rightInset,tt=this.margin.topInset+this.margin.bottomInset);let et=null;if(""===this.w||""===this.h){let yt=null,Ft=null,Bt=0,vt=0;if(this.ui.checkButton)Bt=vt=this.ui.checkButton.size;else{const{w:jt,h:$t}=(0,e.layoutNode)(this,o);null!==jt?(Bt=jt,vt=$t):vt=(0,m.getMetrics)(this.font,!0).lineNoGap}if(et=d(this.ui[n.$getExtra]()),Bt+=et.w,vt+=et.h,this.caption){const{w:jt,h:$t,isBroken:Lt}=this.caption[n.$getExtra](o);if(Lt&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),a.HTMLResult.FAILURE;switch(yt=jt,Ft=$t,this.caption.placement){case"left":case"right":case"inline":yt+=Bt;break;case"top":case"bottom":Ft+=vt}}else yt=Bt,Ft=vt;yt&&""===this.w&&(yt+=Le,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<yt?yt:this.minW)),Ft&&""===this.h&&(Ft+=tt,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Ft?Ft:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),f(this),!(0,x.checkDimensions)(this,o))return this.w=Fe,this.h=Ee,this[n.$popPara](),a.HTMLResult.FAILURE;c(this);const st=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,st);const bt=["xfaField"];this.font&&bt.push("xfaFont"),(0,e.isPrintOnly)(this)&&bt.push("xfaPrintOnly");const kt={style:st,id:this[n.$uid],class:bt};st.margin&&(st.padding=st.margin,delete st.margin),(0,e.setAccess)(this,bt),this.name&&(kt.xfaName=this.name);const It=[],Et={name:"div",attributes:kt,children:It};M(this,kt);const Mt=this.border?this.border[n.$toStyle]():null,Ot=(0,e.computeBbox)(this,Et,o),At=this.ui[n.$toHTML]().html;if(!At)return Object.assign(st,Mt),a.HTMLResult.success((0,e.createWrapper)(this,Et),Ot);this[n.$tabIndex]&&(At.children?.[0]?At.children[0].attributes.tabindex=this[n.$tabIndex]:At.attributes.tabindex=this[n.$tabIndex]),At.attributes.style||(At.attributes.style=Object.create(null));let Dt=null;if(this.ui.button?(1===At.children.length&&([Dt]=At.children.splice(0,1)),Object.assign(At.attributes.style,Mt)):Object.assign(st,Mt),It.push(At),this.value)if(this.ui.imageEdit)At.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let yt="";if(this.value.exData)yt=this.value.exData[n.$text]();else if(this.value.text)yt=this.value.text[n.$getExtra]();else{const Ft=this.value[n.$toHTML]().html;null!==Ft&&(yt=Ft.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(At.children[0].attributes.maxLength=this.value.text.maxChars),yt&&(this.ui.numericEdit&&(yt=parseFloat(yt),yt=isNaN(yt)?"":yt.toString()),"textarea"===At.children[0].name?At.children[0].attributes.textContent=yt:At.children[0].attributes.value=yt)}if(!this.ui.imageEdit&&At.children?.[0]&&this.h){et=et||d(this.ui[n.$getExtra]());let yt=0;this.caption&&["top","bottom"].includes(this.caption.placement)?(yt=this.caption.reserve,yt<=0&&(yt=this.caption[n.$getExtra](o).h),At.children[0].attributes.style.height=(0,e.measureToString)(this.h-yt-tt-et.h)):At.children[0].attributes.style.height="100%"}if(Dt&&At.children.push(Dt),!W)return At.attributes.class&&At.attributes.class.push("xfaLeft"),this.w=Fe,this.h=Ee,a.HTMLResult.success((0,e.createWrapper)(this,Et),Ot);if(this.ui.button)return st.padding&&delete st.padding,"div"===W.name&&(W.name="span"),At.children.push(W),a.HTMLResult.success(Et,Ot);switch(this.ui.checkButton&&(W.attributes.class[0]="xfaCaptionForCheckButton"),At.attributes.class||(At.attributes.class=[]),At.children.splice(0,0,W),this.caption.placement){case"left":case"inline":At.attributes.class.push("xfaLeft");break;case"right":At.attributes.class.push("xfaRight");break;case"top":At.attributes.class.push("xfaTop");break;case"bottom":At.attributes.class.push("xfaBottom")}return this.w=Fe,this.h=Ee,a.HTMLResult.success((0,e.createWrapper)(this,Et),Ot)}}E.Field=Ze;class Be extends t.XFAObject{constructor(o){super(s,"fill",!0),this.id=o.id||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){const o=this[n.$getParent](),Fe=o[n.$getParent]()[n.$getParent](),Ee=Object.create(null);let Le="color",tt=Le;o instanceof U&&(Le="background-color",tt="background",Fe instanceof qt&&(Ee.backgroundColor="white")),(o instanceof Nt||o instanceof P)&&(Le=tt="fill",Ee.fill="white");for(const et of Object.getOwnPropertyNames(this)){if("extras"===et||"color"===et)continue;const st=this[et];if(!(st instanceof t.XFAObject))continue;const bt=st[n.$toStyle](this.color);return bt&&(Ee[bt.startsWith("#")?Le:tt]=bt),Ee}if(this.color?.value){const et=this.color[n.$toStyle]();Ee[et.startsWith("#")?Le:tt]=et}return Ee}}class Je extends t.XFAObject{constructor(o){super(s,"filter",!0),this.addRevocationInfo=(0,a.getStringOption)(o.addRevocationInfo,["","required","optional","none"]),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||"",this.version=(0,a.getInteger)({data:this.version,defaultValue:5,validate:W=>W>=1&&W<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Ye extends t.ContentObject{constructor(o){super(s,"float"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(o)?null:o}[n.$toHTML](o){return r(null!==this[n.$content]?this[n.$content].toString():"")}}class Qe extends t.XFAObject{constructor(o){super(s,"font",!0),this.baselineShift=(0,a.getMeasurement)(o.baselineShift),this.fontHorizontalScale=(0,a.getFloat)({data:o.fontHorizontalScale,defaultValue:100,validate:W=>W>=0}),this.fontVerticalScale=(0,a.getFloat)({data:o.fontVerticalScale,defaultValue:100,validate:W=>W>=0}),this.id=o.id||"",this.kerningMode=(0,a.getStringOption)(o.kerningMode,["none","pair"]),this.letterSpacing=(0,a.getMeasurement)(o.letterSpacing,"0"),this.lineThrough=(0,a.getInteger)({data:o.lineThrough,defaultValue:0,validate:W=>1===W||2===W}),this.lineThroughPeriod=(0,a.getStringOption)(o.lineThroughPeriod,["all","word"]),this.overline=(0,a.getInteger)({data:o.overline,defaultValue:0,validate:W=>1===W||2===W}),this.overlinePeriod=(0,a.getStringOption)(o.overlinePeriod,["all","word"]),this.posture=(0,a.getStringOption)(o.posture,["normal","italic"]),this.size=(0,a.getMeasurement)(o.size,"10pt"),this.typeface=o.typeface||"Courier",this.underline=(0,a.getInteger)({data:o.underline,defaultValue:0,validate:W=>1===W||2===W}),this.underlinePeriod=(0,a.getStringOption)(o.underlinePeriod,["all","word"]),this.use=o.use||"",this.usehref=o.usehref||"",this.weight=(0,a.getStringOption)(o.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](o){super[n.$clean](o),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const o=(0,e.toStyle)(this,"fill"),W=o.color;return W&&("#000000"===W?delete o.color:W.startsWith("#")||(o.background=W,o.backgroundClip="text",o.color="transparent")),this.baselineShift&&(o.verticalAlign=(0,e.measureToString)(this.baselineShift)),o.fontKerning="none"===this.kerningMode?"none":"normal",o.letterSpacing=(0,e.measureToString)(this.letterSpacing),0!==this.lineThrough&&(o.textDecoration="line-through",2===this.lineThrough&&(o.textDecorationStyle="double")),0!==this.overline&&(o.textDecoration="overline",2===this.overline&&(o.textDecorationStyle="double")),o.fontStyle=this.posture,o.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,o),0!==this.underline&&(o.textDecoration="underline",2===this.underline&&(o.textDecorationStyle="double")),o.fontWeight=this.weight,o}}class lt extends t.XFAObject{constructor(o){super(s,"format",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.picture=null}}class Ue extends t.StringObject{constructor(o){super(s,"handler"),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||""}}class at extends t.XFAObject{constructor(o){super(s,"hyphenation"),this.excludeAllCaps=(0,a.getInteger)({data:o.excludeAllCaps,defaultValue:0,validate:W=>1===W}),this.excludeInitialCap=(0,a.getInteger)({data:o.excludeInitialCap,defaultValue:0,validate:W=>1===W}),this.hyphenate=(0,a.getInteger)({data:o.hyphenate,defaultValue:0,validate:W=>1===W}),this.id=o.id||"",this.pushCharacterCount=(0,a.getInteger)({data:o.pushCharacterCount,defaultValue:3,validate:W=>W>=0}),this.remainCharacterCount=(0,a.getInteger)({data:o.remainCharacterCount,defaultValue:3,validate:W=>W>=0}),this.use=o.use||"",this.usehref=o.usehref||"",this.wordCharacterCount=(0,a.getInteger)({data:o.wordCharacterCount,defaultValue:7,validate:W=>W>=0})}}class Xe extends t.StringObject{constructor(o){super(s,"image"),this.aspect=(0,a.getStringOption)(o.aspect,["fit","actual","height","none","width"]),this.contentType=o.contentType||"",this.href=o.href||"",this.id=o.id||"",this.name=o.name||"",this.transferEncoding=(0,a.getStringOption)(o.transferEncoding,["base64","none","package"]),this.use=o.use||"",this.usehref=o.usehref||""}[n.$toHTML](){if(this.contentType&&!v.has(this.contentType.toLowerCase()))return a.HTMLResult.EMPTY;let o=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!o&&(this.href||!this[n.$content])||(!o&&"base64"===this.transferEncoding&&(o=(0,F.stringToBytes)(atob(this[n.$content]))),!o))return a.HTMLResult.EMPTY;if(!this.contentType){for(const[Le,tt]of S)if(o.length>Le.length&&Le.every((et,st)=>et===o[st])){this.contentType=tt;break}if(!this.contentType)return a.HTMLResult.EMPTY}const W=new Blob([o],{type:this.contentType});let Fe;switch(this.aspect){case"fit":case"actual":break;case"height":Fe={height:"100%",objectFit:"fill"};break;case"none":Fe={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Fe={width:"100%",objectFit:"fill"}}const Ee=this[n.$getParent]();return a.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Fe,src:URL.createObjectURL(W),alt:Ee?l(Ee[n.$getParent]()):null}})}}class pt extends t.XFAObject{constructor(o){super(s,"imageEdit",!0),this.data=(0,a.getStringOption)(o.data,["link","embed"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](o){return"embed"===this.data?a.HTMLResult.success({name:"div",children:[],attributes:{}}):a.HTMLResult.EMPTY}}class St extends t.ContentObject{constructor(o){super(s,"integer"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(o)?null:o}[n.$toHTML](o){return r(null!==this[n.$content]?this[n.$content].toString():"")}}class Ct extends t.XFAObject{constructor(o){super(s,"issuers",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.certificate=new t.XFAObjectArray}}class dt extends t.XFAObject{constructor(o){super(s,"items",!0),this.id=o.id||"",this.name=o.name||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.ref=o.ref||"",this.save=(0,a.getInteger)({data:o.save,defaultValue:0,validate:W=>1===W}),this.use=o.use||"",this.usehref=o.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$toHTML](){const o=[];for(const W of this[n.$getChildren]())o.push(W[n.$text]());return a.HTMLResult.success(o)}}E.Items=dt;class _t extends t.XFAObject{constructor(o){super(s,"keep",!0),this.id=o.id||"";const W=["none","contentArea","pageArea"];this.intact=(0,a.getStringOption)(o.intact,W),this.next=(0,a.getStringOption)(o.next,W),this.previous=(0,a.getStringOption)(o.previous,W),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}}class _e extends t.XFAObject{constructor(o){super(s,"keyUsage");const W=["","yes","no"];this.crlSign=(0,a.getStringOption)(o.crlSign,W),this.dataEncipherment=(0,a.getStringOption)(o.dataEncipherment,W),this.decipherOnly=(0,a.getStringOption)(o.decipherOnly,W),this.digitalSignature=(0,a.getStringOption)(o.digitalSignature,W),this.encipherOnly=(0,a.getStringOption)(o.encipherOnly,W),this.id=o.id||"",this.keyAgreement=(0,a.getStringOption)(o.keyAgreement,W),this.keyCertSign=(0,a.getStringOption)(o.keyCertSign,W),this.keyEncipherment=(0,a.getStringOption)(o.keyEncipherment,W),this.nonRepudiation=(0,a.getStringOption)(o.nonRepudiation,W),this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||""}}class Ie extends t.XFAObject{constructor(o){super(s,"line",!0),this.hand=(0,a.getStringOption)(o.hand,["even","left","right"]),this.id=o.id||"",this.slope=(0,a.getStringOption)(o.slope,["\\","/"]),this.use=o.use||"",this.usehref=o.usehref||"",this.edge=null}[n.$toHTML](){const o=this[n.$getParent]()[n.$getParent](),W=this.edge||new ge({}),Fe=W[n.$toStyle](),Ee=Object.create(null),Le="visible"===W.presence?W.thickness:0;Ee.strokeWidth=(0,e.measureToString)(Le),Ee.stroke=Fe.color;let tt,et,st,bt,kt="100%",It="100%";o.w<=Le?([tt,et,st,bt]=["50%",0,"50%","100%"],kt=Ee.strokeWidth):o.h<=Le?([tt,et,st,bt]=[0,"50%","100%","50%"],It=Ee.strokeWidth):[tt,et,st,bt]="\\"===this.slope?[0,0,"100%","100%"]:[0,"100%","100%",0];const Mt={name:"svg",children:[{name:"line",attributes:{xmlns:p,x1:tt,y1:et,x2:st,y2:bt,style:Ee}}],attributes:{xmlns:p,width:kt,height:It,style:{overflow:"visible"}}};return B(o)?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Mt]}):(Mt.attributes.style.position="absolute",a.HTMLResult.success(Mt))}}class De extends t.XFAObject{constructor(o){super(s,"linear",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["toRight","toBottom","toLeft","toTop"]),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](o){return o=o?o[n.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${o}, ${this.color?this.color[n.$toStyle]():"#000000"})`}}class Re extends t.ContentObject{constructor(o){super(s,"lockDocument"),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){this[n.$content]=(0,a.getStringOption)(this[n.$content],["auto","0","1"])}}class je extends t.XFAObject{constructor(o){super(s,"manifest",!0),this.action=(0,a.getStringOption)(o.action,["include","all","exclude"]),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class it extends t.XFAObject{constructor(o){super(s,"margin",!0),this.bottomInset=(0,a.getMeasurement)(o.bottomInset,"0"),this.id=o.id||"",this.leftInset=(0,a.getMeasurement)(o.leftInset,"0"),this.rightInset=(0,a.getMeasurement)(o.rightInset,"0"),this.topInset=(0,a.getMeasurement)(o.topInset,"0"),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class Ge extends t.XFAObject{constructor(o){super(s,"mdp"),this.id=o.id||"",this.permissions=(0,a.getInteger)({data:o.permissions,defaultValue:2,validate:W=>1===W||3===W}),this.signatureType=(0,a.getStringOption)(o.signatureType,["filler","author"]),this.use=o.use||"",this.usehref=o.usehref||""}}class Me extends t.XFAObject{constructor(o){super(s,"medium"),this.id=o.id||"",this.imagingBBox=(0,a.getBBox)(o.imagingBBox),this.long=(0,a.getMeasurement)(o.long),this.orientation=(0,a.getStringOption)(o.orientation,["portrait","landscape"]),this.short=(0,a.getMeasurement)(o.short),this.stock=o.stock||"",this.trayIn=(0,a.getStringOption)(o.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,a.getStringOption)(o.trayOut,["auto","delegate"]),this.use=o.use||"",this.usehref=o.usehref||""}}class ot extends t.XFAObject{constructor(o){super(s,"message",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.text=new t.XFAObjectArray}}class nt extends t.XFAObject{constructor(o){super(s,"numericEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(o.hScrollPolicy,["auto","off","on"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](o){const W=(0,e.toStyle)(this,"border","font","margin"),Fe=this[n.$getParent]()[n.$getParent](),Ee={name:"input",attributes:{type:"text",fieldId:Fe[n.$uid],dataId:Fe[n.$data]?.[n.$uid]||Fe[n.$uid],class:["xfaTextfield"],style:W,"aria-label":l(Fe),"aria-required":!1}};return C(Fe)&&(Ee.attributes["aria-required"]=!0,Ee.attributes.required=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ee]})}}class xt extends t.XFAObject{constructor(o){super(s,"occur",!0),this.id=o.id||"",this.initial=""!==o.initial?(0,a.getInteger)({data:o.initial,defaultValue:"",validate:W=>!0}):"",this.max=""!==o.max?(0,a.getInteger)({data:o.max,defaultValue:1,validate:W=>!0}):"",this.min=""!==o.min?(0,a.getInteger)({data:o.min,defaultValue:1,validate:W=>!0}):"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}[n.$clean](){const o=this[n.$getParent](),W=this.min;""===this.min&&(this.min=o instanceof We||o instanceof rt?0:1),""===this.max&&(this.max=""===W?o instanceof We||o instanceof rt?-1:1:this.min),-1!==this.max&&this.max<this.min&&(this.max=this.min),""===this.initial&&(this.initial=o instanceof Wt?1:this.min)}}class ct extends t.StringObject{constructor(o){super(s,"oid"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}}class ht extends t.XFAObject{constructor(o){super(s,"oids",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.oid=new t.XFAObjectArray}}class mt extends t.XFAObject{constructor(o){super(s,"overflow"),this.id=o.id||"",this.leader=o.leader||"",this.target=o.target||"",this.trailer=o.trailer||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const o=this[n.$getParent](),W=this[n.$getTemplateRoot](),Fe=W[n.$searchNode](this.target,o),Ee=W[n.$searchNode](this.leader,o),Le=W[n.$searchNode](this.trailer,o);this[n.$extra]={target:Fe?.[0]||null,leader:Ee?.[0]||null,trailer:Le?.[0]||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class We extends t.XFAObject{constructor(o){super(s,"pageArea",!0),this.blankOrNotBlank=(0,a.getStringOption)(o.blankOrNotBlank,["any","blank","notBlank"]),this.id=o.id||"",this.initialNumber=(0,a.getInteger)({data:o.initialNumber,defaultValue:1,validate:W=>!0}),this.name=o.name||"",this.numbered=(0,a.getInteger)({data:o.numbered,defaultValue:1,validate:W=>!0}),this.oddOrEven=(0,a.getStringOption)(o.oddOrEven,["any","even","odd"]),this.pagePosition=(0,a.getStringOption)(o.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||-1===this.occur.max||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const o=this[n.$getParent]();return"orderedOccurrence"===o.relation&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):o[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const o=[];this[n.$extra].children=o;const W=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(W.width=(0,e.measureToString)(this.medium.short),W.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},"landscape"===this.medium.orientation){const Fe=W.width;W.width=W.height,W.height=Fe,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,F.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),a.HTMLResult.success({name:"div",children:o,attributes:{class:["xfaPage"],id:this[n.$uid],style:W,xfaName:this.name}})}}class rt extends t.XFAObject{constructor(o){super(s,"pageSet",!0),this.duplexImposition=(0,a.getStringOption)(o.duplexImposition,["longEdge","shortEdge"]),this.id=o.id||"",this.name=o.name||"",this.relation=(0,a.getStringOption)(o.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[n.$cleanPage](){for(const o of this.pageArea.children)o[n.$cleanPage]();for(const o of this.pageSet.children)o[n.$cleanPage]()}[n.$isUsable](){return!this.occur||-1===this.occur.max||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),"orderedOccurrence"===this.relation){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const Le=this[n.$getParent]();return Le instanceof rt?Le[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const o=this[n.$getTemplateRoot]()[n.$extra].pageNumber,W=o%2==0?"even":"odd",Fe=0===o?"first":"rest";let Ee=this.pageArea.children.find(Le=>Le.oddOrEven===W&&Le.pagePosition===Fe);return Ee||(Ee=this.pageArea.children.find(Le=>"any"===Le.oddOrEven&&Le.pagePosition===Fe),Ee)||(Ee=this.pageArea.children.find(Le=>"any"===Le.oddOrEven&&"any"===Le.pagePosition),Ee)?Ee:this.pageArea.children[0]}}class Ve extends t.XFAObject{constructor(o){super(s,"para",!0),this.hAlign=(0,a.getStringOption)(o.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=o.id||"",this.lineHeight=o.lineHeight?(0,a.getMeasurement)(o.lineHeight,"0pt"):"",this.marginLeft=o.marginLeft?(0,a.getMeasurement)(o.marginLeft,"0pt"):"",this.marginRight=o.marginRight?(0,a.getMeasurement)(o.marginRight,"0pt"):"",this.orphans=(0,a.getInteger)({data:o.orphans,defaultValue:0,validate:W=>W>=0}),this.preserve=o.preserve||"",this.radixOffset=o.radixOffset?(0,a.getMeasurement)(o.radixOffset,"0pt"):"",this.spaceAbove=o.spaceAbove?(0,a.getMeasurement)(o.spaceAbove,"0pt"):"",this.spaceBelow=o.spaceBelow?(0,a.getMeasurement)(o.spaceBelow,"0pt"):"",this.tabDefault=o.tabDefault?(0,a.getMeasurement)(this.tabDefault):"",this.tabStops=(o.tabStops||"").trim().split(/\s+/).map((W,Fe)=>Fe%2==1?(0,a.getMeasurement)(W):W),this.textIndent=o.textIndent?(0,a.getMeasurement)(o.textIndent,"0pt"):"",this.use=o.use||"",this.usehref=o.usehref||"",this.vAlign=(0,a.getStringOption)(o.vAlign,["top","bottom","middle"]),this.widows=(0,a.getInteger)({data:o.widows,defaultValue:0,validate:W=>W>=0}),this.hyphenation=null}[n.$toStyle](){const o=(0,e.toStyle)(this,"hAlign");return""!==this.marginLeft&&(o.paddingLeft=(0,e.measureToString)(this.marginLeft)),""!==this.marginRight&&(o.paddingight=(0,e.measureToString)(this.marginRight)),""!==this.spaceAbove&&(o.paddingTop=(0,e.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(o.paddingBottom=(0,e.measureToString)(this.spaceBelow)),""!==this.textIndent&&(o.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(o)),this.lineHeight>0&&(o.lineHeight=(0,e.measureToString)(this.lineHeight)),""!==this.tabDefault&&(o.tabSize=(0,e.measureToString)(this.tabDefault)),this.hyphenatation&&Object.assign(o,this.hyphenatation[n.$toStyle]()),o}}class gt extends t.XFAObject{constructor(o){super(s,"passwordEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(o.hScrollPolicy,["auto","off","on"]),this.id=o.id||"",this.passwordChar=o.passwordChar||"*",this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.extras=null,this.margin=null}}class wt extends t.XFAObject{constructor(o){super(s,"pattern",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](o){o=o?o[n.$toStyle]():"#FFFFFF";const W=this.color?this.color[n.$toStyle]():"#000000",Ee="repeating-linear-gradient",Le=`${o},${o} 5px,${W} 5px,${W} 10px`;switch(this.type){case"crossHatch":return`${Ee}(to top,${Le}) ${Ee}(to right,${Le})`;case"crossDiagonal":return`${Ee}(45deg,${Le}) ${Ee}(-45deg,${Le})`;case"diagonalLeft":return`${Ee}(45deg,${Le})`;case"diagonalRight":return`${Ee}(-45deg,${Le})`;case"horizontal":return`${Ee}(to top,${Le})`;case"vertical":return`${Ee}(to right,${Le})`}return""}}class Rt extends t.StringObject{constructor(o){super(s,"picture"),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||""}}class ut extends t.XFAObject{constructor(o){super(s,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class ft extends t.XFAObject{constructor(o){super(s,"radial",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["toEdge","toCenter"]),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](o){o=o?o[n.$toStyle]():"#FFFFFF";const W=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${"toEdge"===this.type?`${o},${W}`:`${W},${o}`})`}}class Tt extends t.StringObject{constructor(o){super(s,"reason"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}}class Pt extends t.XFAObject{constructor(o){super(s,"reasons",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.reason=new t.XFAObjectArray}}class Nt extends t.XFAObject{constructor(o){super(s,"rectangle",!0),this.hand=(0,a.getStringOption)(o.hand,["even","left","right"]),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[n.$toHTML](){const o=this.edge.children.length?this.edge.children[0]:new ge({}),W=o[n.$toStyle](),Fe=Object.create(null);"visible"===this.fill?.presence?Object.assign(Fe,this.fill[n.$toStyle]()):Fe.fill="transparent",Fe.strokeWidth=(0,e.measureToString)("visible"===o.presence?o.thickness:0),Fe.stroke=W.color;const Le=(this.corner.children.length?this.corner.children[0]:new re({}))[n.$toStyle](),et={name:"svg",children:[{name:"rect",attributes:{xmlns:p,width:"100%",height:"100%",x:0,y:0,rx:Le.radius,ry:Le.radius,style:Fe}}],attributes:{xmlns:p,style:{overflow:"visible"},width:"100%",height:"100%"}};return B(this[n.$getParent]()[n.$getParent]())?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[et]}):(et.attributes.style.position="absolute",a.HTMLResult.success(et))}}class Ut extends t.StringObject{constructor(o){super(s,"ref"),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||""}}class en extends t.StringObject{constructor(o){super(s,"script"),this.binding=o.binding||"",this.contentType=o.contentType||"",this.id=o.id||"",this.name=o.name||"",this.runAt=(0,a.getStringOption)(o.runAt,["client","both","server"]),this.use=o.use||"",this.usehref=o.usehref||""}}class Kt extends t.XFAObject{constructor(o){super(s,"setProperty"),this.connection=o.connection||"",this.ref=o.ref||"",this.target=o.target||""}}E.SetProperty=Kt;class tn extends t.XFAObject{constructor(o){super(s,"signData",!0),this.id=o.id||"",this.operation=(0,a.getStringOption)(o.operation,["sign","clear","verify"]),this.ref=o.ref||"",this.target=o.target||"",this.use=o.use||"",this.usehref=o.usehref||"",this.filter=null,this.manifest=null}}class nn extends t.XFAObject{constructor(o){super(s,"signature",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["PDF1.3","PDF1.6"]),this.use=o.use||"",this.usehref=o.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class an extends t.XFAObject{constructor(o){super(s,"signing",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.certificate=new t.XFAObjectArray}}class sn extends t.XFAObject{constructor(o){super(s,"solid",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null}[n.$toStyle](o){return o?o[n.$toStyle]():"#FFFFFF"}}class rn extends t.StringObject{constructor(o){super(s,"speak"),this.disable=(0,a.getInteger)({data:o.disable,defaultValue:0,validate:W=>1===W}),this.id=o.id||"",this.priority=(0,a.getStringOption)(o.priority,["custom","caption","name","toolTip"]),this.rid=o.rid||"",this.use=o.use||"",this.usehref=o.usehref||""}}class on extends t.XFAObject{constructor(o){super(s,"stipple",!0),this.id=o.id||"",this.rate=(0,a.getInteger)({data:o.rate,defaultValue:50,validate:W=>W>=0&&W<=100}),this.use=o.use||"",this.usehref=o.usehref||"",this.color=null,this.extras=null}[n.$toStyle](o){const W=this.rate/100;return F.Util.makeHexColor(Math.round(o.value.r*(1-W)+this.value.r*W),Math.round(o.value.g*(1-W)+this.value.g*W),Math.round(o.value.b*(1-W)+this.value.b*W))}}class Yt extends t.XFAObject{constructor(o){super(s,"subform",!0),this.access=(0,a.getStringOption)(o.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,a.getInteger)({data:o.allowMacro,defaultValue:0,validate:W=>1===W}),this.anchorType=(0,a.getStringOption)(o.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:o.colSpan,defaultValue:1,validate:W=>W>=1||-1===W}),this.columnWidths=(o.columnWidths||"").trim().split(/\s+/).map(W=>"-1"===W?-1:(0,a.getMeasurement)(W)),this.h=o.h?(0,a.getMeasurement)(o.h):"",this.hAlign=(0,a.getStringOption)(o.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=o.id||"",this.layout=(0,a.getStringOption)(o.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=o.locale||"",this.maxH=(0,a.getMeasurement)(o.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(o.maxW,"0pt"),this.mergeMode=(0,a.getStringOption)(o.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,a.getMeasurement)(o.minH,"0pt"),this.minW=(0,a.getMeasurement)(o.minW,"0pt"),this.name=o.name||"",this.presence=(0,a.getStringOption)(o.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(o.relevant),this.restoreState=(0,a.getStringOption)(o.restoreState,["manual","auto"]),this.scope=(0,a.getStringOption)(o.scope,["name","none"]),this.use=o.use||"",this.usehref=o.usehref||"",this.w=o.w?(0,a.getMeasurement)(o.w):"",this.x=(0,a.getMeasurement)(o.x,"0pt"),this.y=(0,a.getMeasurement)(o.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[n.$getSubformParent](){const o=this[n.$getParent]();return o instanceof Gt?o[n.$getSubformParent]():o}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[n.$extra].attempt&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*L(this)}[n.$flushHTML](){return(0,x.flushHTML)(this)}[n.$addHTML](o,W){(0,x.addHTML)(this,o,W)}[n.$getAvailableSpace](){return(0,x.getAvailableSpace)(this)}[n.$isSplittable](){const o=this[n.$getSubformParent]();return!!o[n.$isSplittable]()&&(void 0!==this[n.$extra]._isSplittable?this[n.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")||this.keep&&"none"!==this.keep.intact?(this[n.$extra]._isSplittable=!1,!1):!(o.layout?.endsWith("-tb")&&0!==o[n.$extra].numberInLine||(this[n.$extra]._isSplittable=!0,0)))}[n.$toHTML](o){if(h(this),this.break){if("auto"!==this.break.after||""!==this.break.afterTarget){const vt=new J({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});vt[n.$globalData]=this[n.$globalData],this[n.$appendChild](vt),this.breakAfter.push(vt)}if("auto"!==this.break.before||""!==this.break.beforeTarget){const vt=new oe({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});vt[n.$globalData]=this[n.$globalData],this[n.$appendChild](vt),this.breakBefore.push(vt)}if(""!==this.break.overflowTarget){const vt=new mt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});vt[n.$globalData]=this[n.$globalData],this[n.$appendChild](vt),this.overflow.push(vt)}this[n.$removeChild](this.break),this.break=null}if("hidden"===this.presence||"inactive"===this.presence)return a.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,F.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const vt=this.breakBefore.children[0];if(u(vt))return a.HTMLResult.breakNode(vt)}if(this[n.$extra]?.afterBreakAfter)return a.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const W=[],Fe={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Fe.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:W,line:null,attributes:Fe,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,o.width),height:Math.min(this.h||1/0,o.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Ee=this[n.$getTemplateRoot](),Le=Ee[n.$extra].noLayoutFailure,tt=this[n.$isSplittable]();if(tt||f(this),!(0,x.checkDimensions)(this,o))return a.HTMLResult.FAILURE;const et=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const vt=this[n.$getSubformParent]().columnWidths;Array.isArray(vt)&&vt.length>0&&(this[n.$extra].columnWidths=vt,this[n.$extra].currentColumn=0)}const st=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),bt=["xfaSubform"],kt=(0,e.layoutClass)(this);if(kt&&bt.push(kt),Fe.style=st,Fe.class=bt,this.name&&(Fe.xfaName=this.name),this.overflow){const vt=this.overflow[n.$getExtra]();vt.addLeader&&(vt.addLeader=!1,I(this,vt.leader,o))}this[n.$pushPara]();const It="lr-tb"===this.layout||"rl-tb"===this.layout,Et=It?2:1;for(;this[n.$extra].attempt<Et;this[n.$extra].attempt++){It&&1===this[n.$extra].attempt&&(this[n.$extra].numberInLine=0);const vt=this[n.$childrenToHTML]({filter:et,include:!0});if(vt.success)break;if(vt.isBreak())return this[n.$popPara](),vt;if(It&&0===this[n.$extra].attempt&&0===this[n.$extra].numberInLine&&!Ee[n.$extra].noLayoutFailure){this[n.$extra].attempt=Et;break}}if(this[n.$popPara](),tt||c(this),Ee[n.$extra].noLayoutFailure=Le,this[n.$extra].attempt===Et)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),tt||delete this[n.$extra],a.HTMLResult.FAILURE;if(this.overflow){const vt=this.overflow[n.$getExtra]();vt.addTrailer&&(vt.addTrailer=!1,I(this,vt.trailer,o))}let Mt=0,Ot=0;this.margin&&(Mt=this.margin.leftInset+this.margin.rightInset,Ot=this.margin.topInset+this.margin.bottomInset);const At=Math.max(this[n.$extra].width+Mt,this.w||0),Dt=Math.max(this[n.$extra].height+Ot,this.h||0),yt=[this.x,this.y,At,Dt];if(""===this.w&&(st.width=(0,e.measureToString)(At)),""===this.h&&(st.height=(0,e.measureToString)(Dt)),("0px"===st.width||"0px"===st.height)&&0===W.length)return a.HTMLResult.EMPTY;const Ft={name:"div",attributes:Fe,children:W};M(this,Fe);const Bt=a.HTMLResult.success((0,e.createWrapper)(this,Ft),yt);if(this.breakAfter.children.length>=1){const vt=this.breakAfter.children[0];if(u(vt))return this[n.$extra].afterBreakAfter=Bt,a.HTMLResult.breakNode(vt)}return delete this[n.$extra],Bt}}class Gt extends t.XFAObject{constructor(o){super(s,"subformSet",!0),this.id=o.id||"",this.name=o.name||"",this.relation=(0,a.getStringOption)(o.relation,["ordered","choice","unordered"]),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*L(this)}[n.$getSubformParent](){let o=this[n.$getParent]();for(;!(o instanceof Yt);)o=o[n.$getParent]();return o}[n.$isBindable](){return!0}}class cn extends t.ContentObject{constructor(o){super(s,"subjectDN"),this.delimiter=o.delimiter||",",this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(o=>((o=o.split("=",2))[0]=o[0].trim(),o)))}}class ln extends t.XFAObject{constructor(o){super(s,"subjectDNs",!0),this.id=o.id||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||"",this.subjectDN=new t.XFAObjectArray}}class hn extends t.XFAObject{constructor(o){super(s,"submit",!0),this.embedPDF=(0,a.getInteger)({data:o.embedPDF,defaultValue:0,validate:W=>1===W}),this.format=(0,a.getStringOption)(o.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=o.id||"",this.target=o.target||"",this.textEncoding=(0,a.getKeyword)({data:o.textEncoding?o.textEncoding.toLowerCase():"",defaultValue:"",validate:W=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(W)||W.match(/iso-8859-\d{2}/)}),this.use=o.use||"",this.usehref=o.usehref||"",this.xdpContent=o.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class Wt extends t.XFAObject{constructor(o){super(s,"template",!0),this.baseProfile=(0,a.getStringOption)(o.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[n.$finalize](){0===this.subform.children.length&&(0,F.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,F.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=5e3}[n.$isSplittable](){return!0}[n.$searchNode](o,W){return o.startsWith("#")?[this[n.$ids].get(o.slice(1))]:(0,k.searchNode)(this,W,o,!0,!0)}*[n.$toPages](){if(!this.subform.children.length)return a.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const o=this.subform.children[0];o.pageSet[n.$cleanPage]();const W=o.pageSet.pageArea.children,Fe={name:"div",children:[]};let Ee=null,Le=null,tt=null;if(o.breakBefore.children.length>=1?(Le=o.breakBefore.children[0],tt=Le.target):o.subform.children.length>=1&&o.subform.children[0].breakBefore.children.length>=1?(Le=o.subform.children[0].breakBefore.children[0],tt=Le.target):o.break?.beforeTarget?(Le=o.break,tt=Le.beforeTarget):o.subform.children.length>=1&&o.subform.children[0].break?.beforeTarget&&(Le=o.subform.children[0].break,tt=Le.beforeTarget),Le){const Ot=this[n.$searchNode](tt,Le[n.$getParent]());Ot instanceof We&&(Ee=Ot,Le[n.$extra]={})}Ee||(Ee=W[0]),Ee[n.$extra]={numberOfUse:1};const et=Ee[n.$getParent]();et[n.$extra]={numberOfUse:1,pageIndex:et.pageArea.children.indexOf(Ee),pageSetIndex:0};let st,bt=null,kt=null,It=!0,Et=0,Mt=0;for(;;){if(It)Et=0;else if(Fe.children.pop(),3==++Et)return(0,F.warn)("XFA - Something goes wrong: please file a bug."),Fe;st=null,this[n.$extra].currentPageArea=Ee;const Ot=Ee[n.$toHTML]().html;Fe.children.push(Ot),bt&&(this[n.$extra].noLayoutFailure=!0,Ot.children.push(bt[n.$toHTML](Ee[n.$extra].space).html),bt=null),kt&&(this[n.$extra].noLayoutFailure=!0,Ot.children.push(kt[n.$toHTML](Ee[n.$extra].space).html),kt=null);const At=Ee.contentArea.children,Dt=Ot.children.filter(Ft=>Ft.attributes.class.includes("xfaContentarea"));It=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const yt=Ft=>{const Bt=o[n.$flushHTML]();Bt&&(It||=Bt.children?.length>0,Dt[Ft].children.push(Bt))};for(let Ft=Mt,Bt=At.length;Ft<Bt;Ft++){const vt=this[n.$extra].currentContentArea=At[Ft],jt={width:vt.w,height:vt.h};Mt=0,bt&&(Dt[Ft].children.push(bt[n.$toHTML](jt).html),bt=null),kt&&(Dt[Ft].children.push(kt[n.$toHTML](jt).html),kt=null);const $t=o[n.$toHTML](jt);if($t.success)return $t.html?(It||=$t.html.children?.length>0,Dt[Ft].children.push($t.html)):!It&&Fe.children.length>1&&Fe.children.pop(),Fe;if($t.isBreak()){const Lt=$t.breakNode;if(yt(Ft),"auto"===Lt.targetType)continue;Lt.leader&&(bt=this[n.$searchNode](Lt.leader,Lt[n.$getParent]()),bt=bt?bt[0]:null),Lt.trailer&&(kt=this[n.$searchNode](Lt.trailer,Lt[n.$getParent]()),kt=kt?kt[0]:null),"pageArea"===Lt.targetType?(st=Lt[n.$extra].target,Ft=1/0):Lt[n.$extra].target?(st=Lt[n.$extra].target,Mt=Lt[n.$extra].index+1,Ft=1/0):Ft=Lt[n.$extra].index}else if(this[n.$extra].overflowNode){const Lt=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const Vt=Lt[n.$getExtra](),zt=Vt.target;Vt.addLeader=null!==Vt.leader,Vt.addTrailer=null!==Vt.trailer,yt(Ft);const bn=Ft;if(Ft=1/0,zt instanceof We)st=zt;else if(zt instanceof te){const Qt=At.indexOf(zt);-1!==Qt?Qt>bn?Ft=Qt-1:Mt=Qt:(st=zt[n.$getParent](),Mt=st.contentArea.children.indexOf(zt))}}else yt(Ft)}this[n.$extra].pageNumber+=1,st&&(st[n.$isUsable]()?st[n.$extra].numberOfUse+=1:st=null),Ee=st||Ee[n.$getNextPage](),yield null}}}E.Template=Wt;class Jt extends t.ContentObject{constructor(o){super(s,"text"),this.id=o.id||"",this.maxChars=(0,a.getInteger)({data:o.maxChars,defaultValue:0,validate:W=>W>=0}),this.name=o.name||"",this.rid=o.rid||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](o){return o[n.$namespaceId]===j.NamespaceIds.xhtml.id?(this[n.$content]=o,!0):((0,F.warn)(`XFA - Invalid content in Text: ${o[n.$nodeName]}.`),!1)}[n.$onText](o){this[n.$content]instanceof t.XFAObject||super[n.$onText](o)}[n.$finalize](){"string"==typeof this[n.$content]&&(this[n.$content]=this[n.$content].replaceAll("\r\n","\n"))}[n.$getExtra](){return"string"==typeof this[n.$content]?this[n.$content].split(/[\u2029\u2028\n]/).reduce((o,W)=>(W&&o.push(W),o),[]).join("\n"):this[n.$content][n.$text]()}[n.$toHTML](o){if("string"==typeof this[n.$content]){const W=r(this[n.$content]).html;return this[n.$content].includes("\u2029")?(W.name="div",W.children=[],this[n.$content].split("\u2029").map(Fe=>Fe.split(/[\u2028\n]/).reduce((Ee,Le)=>(Ee.push({name:"span",value:Le},{name:"br"}),Ee),[])).forEach(Fe=>{W.children.push({name:"p",children:Fe})})):/[\u2028\n]/.test(this[n.$content])&&(W.name="div",W.children=[],this[n.$content].split(/[\u2028\n]/).forEach(Fe=>{W.children.push({name:"span",value:Fe},{name:"br"})})),a.HTMLResult.success(W)}return this[n.$content][n.$toHTML](o)}}E.Text=Jt;class Zt extends t.XFAObject{constructor(o){super(s,"textEdit",!0),this.allowRichText=(0,a.getInteger)({data:o.allowRichText,defaultValue:0,validate:W=>1===W}),this.hScrollPolicy=(0,a.getStringOption)(o.hScrollPolicy,["auto","off","on"]),this.id=o.id||"",this.multiLine=(0,a.getInteger)({data:o.multiLine,defaultValue:"",validate:W=>0===W||1===W}),this.use=o.use||"",this.usehref=o.usehref||"",this.vScrollPolicy=(0,a.getStringOption)(o.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](o){const W=(0,e.toStyle)(this,"border","font","margin");let Fe;const Ee=this[n.$getParent]()[n.$getParent]();return""===this.multiLine&&(this.multiLine=Ee instanceof de?1:0),Fe=1===this.multiLine?{name:"textarea",attributes:{dataId:Ee[n.$data]?.[n.$uid]||Ee[n.$uid],fieldId:Ee[n.$uid],class:["xfaTextfield"],style:W,"aria-label":l(Ee),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:Ee[n.$data]?.[n.$uid]||Ee[n.$uid],fieldId:Ee[n.$uid],class:["xfaTextfield"],style:W,"aria-label":l(Ee),"aria-required":!1}},C(Ee)&&(Fe.attributes["aria-required"]=!0,Fe.attributes.required=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Fe]})}}class un extends t.StringObject{constructor(o){super(s,"time"),this.id=o.id||"",this.name=o.name||"",this.use=o.use||"",this.usehref=o.usehref||""}[n.$finalize](){const o=this[n.$content].trim();this[n.$content]=o?new Date(o):null}[n.$toHTML](o){return r(this[n.$content]?this[n.$content].toString():"")}}class dn extends t.XFAObject{constructor(o){super(s,"timeStamp"),this.id=o.id||"",this.server=o.server||"",this.type=(0,a.getStringOption)(o.type,["optional","required"]),this.use=o.use||"",this.usehref=o.usehref||""}}class fn extends t.StringObject{constructor(o){super(s,"toolTip"),this.id=o.id||"",this.rid=o.rid||"",this.use=o.use||"",this.usehref=o.usehref||""}}class gn extends t.XFAObject{constructor(o){super(s,"traversal",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class pn extends t.XFAObject{constructor(o){super(s,"traverse",!0),this.id=o.id||"",this.operation=(0,a.getStringOption)(o.operation,["next","back","down","first","left","right","up"]),this.ref=o.ref||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class qt extends t.XFAObject{constructor(o){super(s,"ui",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(void 0===this[n.$extra]){for(const o of Object.getOwnPropertyNames(this)){if("extras"===o||"picture"===o)continue;const W=this[o];if(W instanceof t.XFAObject)return this[n.$extra]=W,W}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](o){const W=this[n.$getExtra]();return W?W[n.$toHTML](o):a.HTMLResult.EMPTY}}class mn extends t.XFAObject{constructor(o){super(s,"validate",!0),this.formatTest=(0,a.getStringOption)(o.formatTest,["warning","disabled","error"]),this.id=o.id||"",this.nullTest=(0,a.getStringOption)(o.nullTest,["disabled","error","warning"]),this.scriptTest=(0,a.getStringOption)(o.scriptTest,["error","disabled","warning"]),this.use=o.use||"",this.usehref=o.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Ht extends t.XFAObject{constructor(o){super(s,"value",!0),this.id=o.id||"",this.override=(0,a.getInteger)({data:o.override,defaultValue:0,validate:W=>1===W}),this.relevant=(0,a.getRelevant)(o.relevant),this.use=o.use||"",this.usehref=o.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](o){const W=this[n.$getParent]();if(W instanceof Ze&&W.ui?.imageEdit)return this.image||(this.image=new Xe({}),this[n.$appendChild](this.image)),void(this.image[n.$content]=o[n.$content]);const Fe=o[n.$nodeName];if(null===this[Fe]){for(const Ee of Object.getOwnPropertyNames(this)){const Le=this[Ee];Le instanceof t.XFAObject&&(this[Ee]=null,this[n.$removeChild](Le))}this[o[n.$nodeName]]=o,this[n.$appendChild](o)}else this[Fe][n.$content]=o[n.$content]}[n.$text](){if(this.exData)return"string"==typeof this.exData[n.$content]?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const o of Object.getOwnPropertyNames(this)){if("image"===o)continue;const W=this[o];if(W instanceof t.XFAObject)return(W[n.$content]||"").toString().trim()}return null}[n.$toHTML](o){for(const W of Object.getOwnPropertyNames(this)){const Fe=this[W];if(Fe instanceof t.XFAObject)return Fe[n.$toHTML](o)}return a.HTMLResult.EMPTY}}E.Value=Ht;class xn extends t.XFAObject{constructor(o){super(s,"variables",!0),this.id=o.id||"",this.use=o.use||"",this.usehref=o.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$isTransparent](){return!0}}class Xt{static[j.$buildXFAObject](o,W){if(Xt.hasOwnProperty(o)){const Fe=Xt[o](W);return Fe[n.$setSetAttributes](W),Fe}}static appearanceFilter(o){return new A(o)}static arc(o){return new P(o)}static area(o){return new $(o)}static assist(o){return new _(o)}static barcode(o){return new w(o)}static bind(o){return new T(o)}static bindItems(o){return new N(o)}static bookend(o){return new H(o)}static boolean(o){return new z(o)}static border(o){return new U(o)}static break(o){return new q(o)}static breakAfter(o){return new J(o)}static breakBefore(o){return new oe(o)}static button(o){return new ne(o)}static calculate(o){return new Q(o)}static caption(o){return new R(o)}static certificate(o){return new X(o)}static certificates(o){return new G(o)}static checkButton(o){return new Y(o)}static choiceList(o){return new K(o)}static color(o){return new Z(o)}static comb(o){return new ae(o)}static connect(o){return new ie(o)}static contentArea(o){return new te(o)}static corner(o){return new re(o)}static date(o){return new ee(o)}static dateTime(o){return new le(o)}static dateTimeEdit(o){return new ue(o)}static decimal(o){return new fe(o)}static defaultUi(o){return new Se(o)}static desc(o){return new Ce(o)}static digestMethod(o){return new ve(o)}static digestMethods(o){return new me(o)}static draw(o){return new de(o)}static edge(o){return new ge(o)}static encoding(o){return new Ae(o)}static encodings(o){return new be(o)}static encrypt(o){return new pe(o)}static encryptData(o){return new xe(o)}static encryption(o){return new we(o)}static encryptionMethod(o){return new Ne(o)}static encryptionMethods(o){return new He(o)}static event(o){return new $e(o)}static exData(o){return new qe(o)}static exObject(o){return new Ke(o)}static exclGroup(o){return new Oe(o)}static execute(o){return new Pe(o)}static extras(o){return new ze(o)}static field(o){return new Ze(o)}static fill(o){return new Be(o)}static filter(o){return new Je(o)}static float(o){return new Ye(o)}static font(o){return new Qe(o)}static format(o){return new lt(o)}static handler(o){return new Ue(o)}static hyphenation(o){return new at(o)}static image(o){return new Xe(o)}static imageEdit(o){return new pt(o)}static integer(o){return new St(o)}static issuers(o){return new Ct(o)}static items(o){return new dt(o)}static keep(o){return new _t(o)}static keyUsage(o){return new _e(o)}static line(o){return new Ie(o)}static linear(o){return new De(o)}static lockDocument(o){return new Re(o)}static manifest(o){return new je(o)}static margin(o){return new it(o)}static mdp(o){return new Ge(o)}static medium(o){return new Me(o)}static message(o){return new ot(o)}static numericEdit(o){return new nt(o)}static occur(o){return new xt(o)}static oid(o){return new ct(o)}static oids(o){return new ht(o)}static overflow(o){return new mt(o)}static pageArea(o){return new We(o)}static pageSet(o){return new rt(o)}static para(o){return new Ve(o)}static passwordEdit(o){return new gt(o)}static pattern(o){return new wt(o)}static picture(o){return new Rt(o)}static proto(o){return new ut(o)}static radial(o){return new ft(o)}static reason(o){return new Tt(o)}static reasons(o){return new Pt(o)}static rectangle(o){return new Nt(o)}static ref(o){return new Ut(o)}static script(o){return new en(o)}static setProperty(o){return new Kt(o)}static signData(o){return new tn(o)}static signature(o){return new nn(o)}static signing(o){return new an(o)}static solid(o){return new sn(o)}static speak(o){return new rn(o)}static stipple(o){return new on(o)}static subform(o){return new Yt(o)}static subformSet(o){return new Gt(o)}static subjectDN(o){return new cn(o)}static subjectDNs(o){return new ln(o)}static submit(o){return new hn(o)}static template(o){return new Wt(o)}static text(o){return new Jt(o)}static textEdit(o){return new Zt(o)}static time(o){return new un(o)}static timeStamp(o){return new dn(o)}static toolTip(o){return new fn(o)}static traversal(o){return new gn(o)}static traverse(o){return new pn(o)}static ui(o){return new qt(o)}static validate(o){return new mn(o)}static value(o){return new Ht(o)}static variables(o){return new xn(o)}}E.TemplateNamespace=Xt},(he,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NamespaceIds=E.$buildXFAObject=void 0;const V=Symbol();E.$buildXFAObject=V,E.NamespaceIds={config:{id:0,check:j=>j.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:j=>"http://ns.adobe.com/xdp/pdf/"===j},signature:{id:6,check:j=>"http://www.w3.org/2000/09/xmldsig#"===j},sourceSet:{id:7,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:j=>"http://www.w3.org/1999/XSL/Transform"===j},template:{id:9,check:j=>j.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:j=>j.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:j=>"http://ns.adobe.com/xdp/"===j},xfdf:{id:12,check:j=>"http://ns.adobe.com/xfdf/"===j},xhtml:{id:13,check:j=>"http://www.w3.org/1999/xhtml"===j},xmpmeta:{id:14,check:j=>"http://ns.adobe.com/xmpmeta/"===j}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.addHTML=function t(y,k,s){const p=y[n.$extra],i=p.availableSpace,[D,b,O,v]=s;switch(y.layout){case"position":p.width=Math.max(p.width,D+O),p.height=Math.max(p.height,b+v),p.children.push(k);break;case"lr-tb":case"rl-tb":(!p.line||1===p.attempt)&&(p.line=x(y,[]),p.children.push(p.line),p.numberInLine=0),p.numberInLine+=1,p.line.children.push(k),0===p.attempt?(p.currentWidth+=O,p.height=Math.max(p.height,p.prevHeight+v)):(p.currentWidth=O,p.prevHeight=p.height,p.height+=v,p.attempt=0),p.width=Math.max(p.width,p.currentWidth);break;case"rl-row":case"row":{p.children.push(k),p.width+=O,p.height=Math.max(p.height,v);const S=(0,j.measureToString)(p.height);for(const d of p.children)d.attributes.style.height=S;break}case"table":case"tb":p.width=Math.min(i.width,Math.max(p.width,O)),p.height+=v,p.children.push(k)}},E.checkDimensions=function m(y,k){if(null===y[n.$getTemplateRoot]()[n.$extra].firstUnsplittable||0===y.w||0===y.h)return!0;const p=y[n.$getSubformParent](),i=p[n.$extra]?.attempt||0,[,D,b,O]=function F(y){let D,b,k=""===y.w?NaN:y.w,s=""===y.h?NaN:y.h,[p,i]=[0,0];switch(y.anchorType||""){case"bottomCenter":[p,i]=[k/2,s];break;case"bottomLeft":[p,i]=[0,s];break;case"bottomRight":[p,i]=[k,s];break;case"middleCenter":[p,i]=[k/2,s/2];break;case"middleLeft":[p,i]=[0,s/2];break;case"middleRight":[p,i]=[k,s/2];break;case"topCenter":[p,i]=[k/2,0];break;case"topRight":[p,i]=[k,0]}switch(y.rotate||0){case 0:[D,b]=[-p,-i];break;case 90:[D,b]=[-i,p],[k,s]=[s,-k];break;case 180:[D,b]=[p,i],[k,s]=[-k,-s];break;case 270:[D,b]=[i,-p],[k,s]=[-s,k]}return[y.x+D+Math.min(0,k),y.y+b+Math.min(0,s),Math.abs(k),Math.abs(s)]}(y);switch(p.layout){case"lr-tb":case"rl-tb":return 0===i?y[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?""!==y.w?Math.round(b-k.width)<=2:k.width>2:!(""!==y.h&&Math.round(O-k.height)>2)&&(""!==y.w?Math.round(b-k.width)<=2||0===p[n.$extra].numberInLine&&k.height>2:k.width>2):!!y[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||!(""!==y.h&&Math.round(O-k.height)>2)&&(""===y.w||Math.round(b-k.width)<=2||!p[n.$isThereMoreWidth]())&&k.height>2;case"table":case"tb":return!!y[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||(""===y.h||y[n.$isSplittable]()?(""===y.w||Math.round(b-k.width)<=2||!p[n.$isThereMoreWidth]())&&k.height>2:Math.round(O-k.height)<=2);case"position":return!!(y[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||""===y.h||Math.round(O+D-k.height)<=2)||O+D>y[n.$getTemplateRoot]()[n.$extra].currentContentArea.h;case"rl-row":case"row":return!!y[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||""===y.h||Math.round(O-k.height)<=2;default:return!0}},E.flushHTML=function e(y){if(!y[n.$extra])return null;const s={name:"div",attributes:y[n.$extra].attributes,children:y[n.$extra].children};if(y[n.$extra].failingNode){const p=y[n.$extra].failingNode[n.$flushHTML]();p&&(y.layout.endsWith("-tb")?s.children.push(x(y,[p])):s.children.push(p))}return 0===s.children.length?null:s},E.getAvailableSpace=function a(y){const k=y[n.$extra].availableSpace,s=y.margin?y.margin.topInset+y.margin.bottomInset:0,p=y.margin?y.margin.leftInset+y.margin.rightInset:0;switch(y.layout){case"lr-tb":case"rl-tb":return 0===y[n.$extra].attempt?{width:k.width-p-y[n.$extra].currentWidth,height:k.height-s-y[n.$extra].prevHeight}:{width:k.width-p,height:k.height-s-y[n.$extra].height};case"rl-row":case"row":return{width:y[n.$extra].columnWidths.slice(y[n.$extra].currentColumn).reduce((D,b)=>D+b),height:k.height-p};case"table":case"tb":return{width:k.width-p,height:k.height-s-y[n.$extra].height};default:return k}};var n=V(78),j=V(83);function x(y,k){return{name:"div",attributes:{class:["lr-tb"===y.layout?"xfaLr":"xfaRl"]},children:k}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.computeBbox=function p(h,M,l){let r;if(""!==h.w&&""!==h.h)r=[h.x,h.y,h.w,h.h];else{if(!l)return null;let f=h.w;if(""===f){if(0===h.maxW){const u=h[n.$getSubformParent]();f="position"===u.layout&&""!==u.w?0:h.minW}else f=Math.min(h.maxW,l.width);M.attributes.style.width=F(f)}let c=h.h;if(""===c){if(0===h.maxH){const u=h[n.$getSubformParent]();c="position"===u.layout&&""!==u.h?0:h.minH}else c=Math.min(h.maxH,l.height);M.attributes.style.height=F(c)}r=[h.x,h.y,f,c]}return r},E.createWrapper=function O(h,M){const{attributes:l}=M,{style:r}=l,f={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(l.class.push("xfaWrapped"),h.border){const{widths:c,insets:u}=h.border[n.$extra];let I,A,P=u[0],$=u[3];const _=u[0]+u[2],w=u[1]+u[3];switch(h.border.hand){case"even":P-=c[0]/2,$-=c[3]/2,I=`calc(100% + ${(c[1]+c[3])/2-w}px)`,A=`calc(100% + ${(c[0]+c[2])/2-_}px)`;break;case"left":P-=c[0],$-=c[3],I=`calc(100% + ${c[1]+c[3]-w}px)`,A=`calc(100% + ${c[0]+c[2]-_}px)`;break;case"right":I=w?`calc(100% - ${w}px)`:"100%",A=_?`calc(100% - ${_}px)`:"100%"}const T=["xfaBorder"];d(h.border)&&T.push("xfaPrintOnly");const N={name:"div",attributes:{class:T,style:{top:`${P}px`,left:`${$}px`,width:I,height:A}},children:[]};for(const H of["border","borderWidth","borderColor","borderRadius","borderStyle"])void 0!==r[H]&&(N.attributes.style[H]=r[H],delete r[H]);f.children.push(N,M)}else f.children.push(M);for(const c of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])void 0!==r[c]&&(f.attributes.style[c]=r[c],delete r[c]);return f.attributes.style.position="absolute"===r.position?"absolute":"relative",delete r.position,r.alignSelf&&(f.attributes.style.alignSelf=r.alignSelf,delete r.alignSelf),f},E.fixDimensions=function i(h){const M=h[n.$getSubformParent]();if(M.layout?.includes("row")){const l=M[n.$extra],r=h.colSpan;let f;f=-1===r?l.columnWidths.slice(l.currentColumn).reduce((c,u)=>c+u,0):l.columnWidths.slice(l.currentColumn,l.currentColumn+r).reduce((c,u)=>c+u,0),isNaN(f)||(h.w=f)}M.layout&&"position"!==M.layout&&(h.x=h.y=0),"table"===h.layout&&""===h.w&&Array.isArray(h.columnWidths)&&(h.w=h.columnWidths.reduce((l,r)=>l+r,0))},E.fixTextIndent=function v(h){const M=(0,x.getMeasurement)(h.textIndent,"0px");if(M>=0)return;const r="padding"+("left"==("right"===h.textAlign?"right":"left")?"Left":"Right"),f=(0,x.getMeasurement)(h[r],"0px");h[r]=f-M+"px"},E.fixURL=function C(h){const M=(0,j.createValidAbsoluteUrl)(h,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return M?M.href:null},E.isPrintOnly=d,E.layoutClass=function D(h){switch(h.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},E.layoutNode=function s(h,M){let l=null,r=null,f=!1;if((!h.w||!h.h)&&h.value){let c=0,u=0;h.margin&&(c=h.margin.leftInset+h.margin.rightInset,u=h.margin.topInset+h.margin.bottomInset);let I=null,A=null;h.para&&(A=Object.create(null),I=""===h.para.lineHeight?null:h.para.lineHeight,A.top=""===h.para.spaceAbove?0:h.para.spaceAbove,A.bottom=""===h.para.spaceBelow?0:h.para.spaceBelow,A.left=""===h.para.marginLeft?0:h.para.marginLeft,A.right=""===h.para.marginRight?0:h.para.marginRight);let P=h.font;if(!P){const w=h[n.$getTemplateRoot]();let T=h[n.$getParent]();for(;T&&T!==w;){if(T.font){P=T.font;break}T=T[n.$getParent]()}}const $=(h.w||M.width)-c,_=h[n.$globalData].fontFinder;if(h.value.exData&&h.value.exData[n.$content]&&"text/html"===h.value.exData.contentType){const w=k(h.value.exData[n.$content],P,A,I,_,$);r=w.width,l=w.height,f=w.isBroken}else{const w=h.value[n.$text]();if(w){const T=k(w,P,A,I,_,$);r=T.width,l=T.height,f=T.isBroken}}null!==r&&!h.w&&(r+=c),null!==l&&!h.h&&(l+=u)}return{w:r,h:l,isBroken:f}},E.measureToString=F,E.setAccess=function S(h,M){switch(h.access){case"nonInteractive":M.push("xfaNonInteractive");break;case"readOnly":M.push("xfaReadOnly");break;case"protected":M.push("xfaDisabled")}},E.setFontFamily=function L(h,M,l,r){if(!l)return void delete r.fontFamily;const f=(0,x.stripQuotes)(h.typeface);r.fontFamily=`"${f}"`;const c=l.find(f);if(c){const{fontFamily:u}=c.regular.cssFontInfo;u!==f&&(r.fontFamily=`"${u}"`);const I=B(M);if(I&&""!==I.lineHeight||r.lineHeight)return;const A=(0,e.selectFont)(h,c);A&&(r.lineHeight=Math.max(1.2,A.lineHeight))}},E.setMinMaxDimensions=function y(h,M){"position"===h[n.$getSubformParent]().layout&&(h.minW>0&&(M.minWidth=F(h.minW)),h.maxW>0&&(M.maxWidth=F(h.maxW)),h.minH>0&&(M.minHeight=F(h.minH)),h.maxH>0&&(M.maxHeight=F(h.maxH)))},E.setPara=function g(h,M,l){if(l.attributes.class?.includes("xfaRich")){M&&(""===h.h&&(M.height="auto"),""===h.w&&(M.width="auto"));const r=B(h);if(r){const f=l.attributes.style;switch(f.display="flex",f.flexDirection="column",r.vAlign){case"top":f.justifyContent="start";break;case"bottom":f.justifyContent="end";break;case"middle":f.justifyContent="center"}const c=r[n.$toStyle]();for(const[u,I]of Object.entries(c))u in f||(f[u]=I)}}},E.toStyle=function b(h,...M){const l=Object.create(null);for(const r of M){const f=h[r];if(null!==f){if(m.hasOwnProperty(r)){m[r](h,l);continue}if(f instanceof a.XFAObject){const c=f[n.$toStyle]();c?Object.assign(l,c):(0,j.warn)(`(DEBUG) - XFA - style for ${r} not implemented yet`)}}}return l};var n=V(78),j=V(2),x=V(84),e=V(85),t=V(86),a=V(87);function F(h){return"string"==typeof h?"0px":Number.isInteger(h)?`${h}px`:`${h.toFixed(2)}px`}const m={anchorType(h,M){const l=h[n.$getSubformParent]();if(l&&(!l.layout||"position"===l.layout))switch("transform"in M||(M.transform=""),h.anchorType){case"bottomCenter":M.transform+="translate(-50%, -100%)";break;case"bottomLeft":M.transform+="translate(0,-100%)";break;case"bottomRight":M.transform+="translate(-100%,-100%)";break;case"middleCenter":M.transform+="translate(-50%,-50%)";break;case"middleLeft":M.transform+="translate(0,-50%)";break;case"middleRight":M.transform+="translate(-100%,-50%)";break;case"topCenter":M.transform+="translate(-50%,0)";break;case"topRight":M.transform+="translate(-100%,0)"}},dimensions(h,M){const l=h[n.$getSubformParent]();let r=h.w;const f=h.h;if(l.layout?.includes("row")){const c=l[n.$extra],u=h.colSpan;let I;-1===u?(I=c.columnWidths.slice(c.currentColumn).reduce((A,P)=>A+P,0),c.currentColumn=0):(I=c.columnWidths.slice(c.currentColumn,c.currentColumn+u).reduce((A,P)=>A+P,0),c.currentColumn=(c.currentColumn+h.colSpan)%c.columnWidths.length),isNaN(I)||(r=h.w=I)}M.width=""!==r?F(r):"auto",M.height=""!==f?F(f):"auto"},position(h,M){const l=h[n.$getSubformParent]();l?.layout&&"position"!==l.layout||(M.position="absolute",M.left=F(h.x),M.top=F(h.y))},rotate(h,M){h.rotate&&("transform"in M||(M.transform=""),M.transform+=`rotate(-${h.rotate}deg)`,M.transformOrigin="top left")},presence(h,M){switch(h.presence){case"invisible":M.visibility="hidden";break;case"hidden":case"inactive":M.display="none"}},hAlign(h,M){if("para"===h[n.$nodeName])switch(h.hAlign){case"justifyAll":M.textAlign="justify-all";break;case"radix":M.textAlign="left";break;default:M.textAlign=h.hAlign}else switch(h.hAlign){case"left":M.alignSelf="start";break;case"center":M.alignSelf="center";break;case"right":M.alignSelf="end"}},margin(h,M){h.margin&&(M.margin=h.margin[n.$toStyle]().margin)}};function k(h,M,l,r,f,c){const u=new t.TextMeasure(M,l,r,f);return"string"==typeof h?u.addString(h):h[n.$pushGlyphs](u),u.compute(c)}function d(h){return h.relevant.length>0&&!h.relevant[0].excluded&&"print"===h.relevant[0].viewname}function B(h){const M=h[n.$getTemplateRoot]()[n.$extra].paraStack;return M.length?M.at(-1):null}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.HTMLResult=void 0,E.getBBox=function i(b){if(!b)return{x:-1,y:-1,width:-1,height:-1};const v=b.trim().split(/\s*,\s*/).map(L=>y(L,"-1"));if(v.length<4||v[2]<0||v[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[S,d,B,g]=v;return{x:S,y:d,width:B,height:g}},E.getColor=function p(b,O=[0,0,0]){let[v,S,d]=O;if(!b)return{r:v,g:S,b:d};const B=b.trim().split(/\s*,\s*/).map(g=>Math.min(Math.max(0,parseInt(g.trim(),10)),255)).map(g=>isNaN(g)?0:g);return B.length<3||([v,S,d]=B),{r:v,g:S,b:d}},E.getFloat=function a({data:b,defaultValue:O,validate:v}){if(!b)return O;b=b.trim();const S=parseFloat(b);return!isNaN(S)&&v(S)?S:O},E.getInteger=function t({data:b,defaultValue:O,validate:v}){if(!b)return O;b=b.trim();const S=parseInt(b,10);return!isNaN(S)&&v(S)?S:O},E.getKeyword=F,E.getMeasurement=y,E.getRatio=function k(b){if(!b)return{num:1,den:1};const O=b.trim().split(/\s*:\s*/).map(d=>parseFloat(d)).filter(d=>!isNaN(d));if(1===O.length&&O.push(1),0===O.length)return{num:1,den:1};const[v,S]=O;return{num:v,den:S}},E.getRelevant=function s(b){return b?b.trim().split(/\s+/).map(O=>({excluded:"-"===O[0],viewname:O.substring(1)})):[]},E.getStringOption=function m(b,O){return F({data:b,defaultValue:O[0],validate:v=>O.includes(v)})},E.stripQuotes=function e(b){return b.startsWith("'")||b.startsWith('"')?b.slice(1,-1):b};var n=V(2);const j={pt:b=>b,cm:b=>b/2.54*72,mm:b=>b/25.4*72,in:b=>72*b,px:b=>b},x=/([+-]?\d+\.?\d*)(.*)/;function F({data:b,defaultValue:O,validate:v}){return b&&v(b=b.trim())?b:O}function y(b,O="0"){if(O||="0",!b)return y(O);const v=b.trim().match(x);if(!v)return y(O);const[,S,d]=v,B=parseFloat(S);if(isNaN(B))return y(O);if(0===B)return 0;const g=j[d];return g?g(B):B}class D{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new D(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new D(!0,null,null,null))}constructor(O,v,S,d){this.success=O,this.html=v,this.bbox=S,this.breakNode=d}isBreak(){return!!this.breakNode}static breakNode(O){return new D(!1,null,null,O)}static success(O,v=null){return new D(!0,O,v,null)}}E.HTMLResult=D},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.FontFinder=void 0,E.getMetrics=function a(F,m=!1){let y=null;if(F){const i=(0,j.stripQuotes)(F.typeface),D=F[n.$globalData].fontFinder.find(i);y=t(F,D)}if(!y)return{lineHeight:12,lineGap:2,lineNoGap:10};const k=F.size||10,s=y.lineHeight?Math.max(m?0:1.2,y.lineHeight):1.2,p=void 0===y.lineGap?.2:y.lineGap;return{lineHeight:s*k,lineGap:p*k,lineNoGap:Math.max(1,s-p)*k}},E.selectFont=t;var n=V(78),j=V(84),x=V(2);function t(F,m){return"italic"===F.posture?"bold"===F.weight?m.bolditalic:m.italic:"bold"===F.weight?m.bold:m.regular}E.FontFinder=class e{constructor(m){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(m)}add(m,y=null){for(const s of m)this.addPdfFont(s);for(const s of this.fonts.values())s.regular||(s.regular=s.italic||s.bold||s.bolditalic);if(!y||0===y.size)return;const k=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const s of y)this.fonts.set(s,k)}addPdfFont(m){const y=m.cssFontInfo,k=y.fontFamily;let s=this.fonts.get(k);s||(s=Object.create(null),this.fonts.set(k,s),this.defaultFont||(this.defaultFont=s));let p="";const i=parseFloat(y.fontWeight);0!==parseFloat(y.italicAngle)?p=i>=700?"bolditalic":"italic":i>=700&&(p="bold"),p||((m.name.includes("Bold")||m.psName?.includes("Bold"))&&(p="bold"),(m.name.includes("Italic")||m.name.endsWith("It")||m.psName?.includes("Italic")||m.psName?.endsWith("It"))&&(p+="italic")),p||(p="regular"),s[p]=m}getDefault(){return this.defaultFont}find(m,y=!0){let k=this.fonts.get(m)||this.cache.get(m);if(k)return k;const s=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let p=m.replaceAll(s,"");if(k=this.fonts.get(p),k)return this.cache.set(m,k),k;p=p.toLowerCase();const i=[];for(const[D,b]of this.fonts.entries())D.replaceAll(s,"").toLowerCase().startsWith(p)&&i.push(b);if(0===i.length)for(const[,D]of this.fonts.entries())D.regular.name?.replaceAll(s,"").toLowerCase().startsWith(p)&&i.push(D);if(0===i.length){p=p.replaceAll(/psmt|mt/gi,"");for(const[D,b]of this.fonts.entries())D.replaceAll(s,"").toLowerCase().startsWith(p)&&i.push(b)}if(0===i.length)for(const D of this.fonts.values())D.regular.name?.replaceAll(s,"").toLowerCase().startsWith(p)&&i.push(D);return i.length>=1?(1!==i.length&&y&&(0,x.warn)(`XFA - Too many choices to guess the correct font: ${m}`),this.cache.set(m,i[0]),i[0]):(y&&!this.warned.has(m)&&(this.warned.add(m),(0,x.warn)(`XFA - Cannot find the font: ${m}`)),null)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TextMeasure=void 0;var n=V(85);class x{constructor(F,m,y,k){if(this.lineHeight=y,this.paraMargin=m||{top:0,bottom:0,left:0,right:0},!F)return void([this.pdfFont,this.xfaFont]=this.defaultFont(k));this.xfaFont={typeface:F.typeface,posture:F.posture,weight:F.weight,size:F.size,letterSpacing:F.letterSpacing};const s=k.find(F.typeface);s?(this.pdfFont=(0,n.selectFont)(F,s),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(k))):[this.pdfFont,this.xfaFont]=this.defaultFont(k)}defaultFont(F){const m=F.find("Helvetica",!1)||F.find("Myriad Pro",!1)||F.find("Arial",!1)||F.getDefault();if(m?.regular){const k=m.regular;return[k,{typeface:k.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(F,m,y,k){this.fontFinder=k,this.stack=[new x(F,m,y,k)]}pushData(F,m,y){const k=this.stack.at(-1);for(const p of["typeface","posture","weight","size","letterSpacing"])F[p]||(F[p]=k.xfaFont[p]);for(const p of["top","bottom","left","right"])isNaN(m[p])&&(m[p]=k.paraMargin[p]);const s=new x(F,m,y||k.lineHeight,this.fontFinder);s.pdfFont||(s.pdfFont=k.pdfFont),this.stack.push(s)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}E.TextMeasure=class t{constructor(F,m,y,k){this.glyphs=[],this.fontSelector=new e(F,m,y,k),this.extraHeight=0}pushData(F,m,y){this.fontSelector.pushData(F,m,y)}popFont(F){return this.fontSelector.popFont()}addPara(){const F=this.fontSelector.topFont();this.extraHeight+=F.paraMargin.top+F.paraMargin.bottom}addString(F){if(!F)return;const m=this.fontSelector.topFont(),y=m.xfaFont.size;if(m.pdfFont){const k=m.xfaFont.letterSpacing,s=m.pdfFont,p=s.lineHeight||1.2,i=m.lineHeight||Math.max(1.2,p)*y,O=Math.max(1,p-(void 0===s.lineGap?.2:s.lineGap))*y,v=y/1e3,S=s.defaultWidth||s.charsToGlyphs(" ")[0].width;for(const d of F.split(/[\u2029\n]/)){const B=s.encodeString(d).join(""),g=s.charsToGlyphs(B);for(const L of g)this.glyphs.push([(L.width||S)*v+k,i,O,L.unicode,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}else{for(const k of F.split(/[\u2029\n]/)){for(const s of k.split(""))this.glyphs.push([y,1.2*y,y,s,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}}compute(F){let m=-1,y=0,k=0,s=0,p=0,i=0,D=!1,b=!0;for(let O=0,v=this.glyphs.length;O<v;O++){const[S,d,B,g,L]=this.glyphs[O],C=" "===g,h=b?B:d;L?(k=Math.max(k,p),p=0,s+=i,i=h,m=-1,y=0,b=!1):C?p+S>F?(k=Math.max(k,p),p=0,s+=i,i=h,m=-1,y=0,D=!0,b=!1):(i=Math.max(h,i),y=p,p+=S,m=O):p+S>F?(s+=i,i=h,-1!==m?(O=m,k=Math.max(k,y),p=0,m=-1,y=0):(k=Math.max(k,p),p=S),D=!0,b=!1):(p+=S,i=Math.max(h,i))}return k=Math.max(k,p),s+=i+this.extraHeight,{width:1.02*k,height:s,isBroken:D}}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XmlObject=E.XFAObjectArray=E.XFAObject=E.XFAAttribute=E.StringObject=E.OptionObject=E.Option10=E.Option01=E.IntegerObject=E.ContentObject=void 0;var n=V(78),j=V(84),x=V(2),e=V(3),t=V(81),a=V(88);const F=Symbol(),m=Symbol(),y=Symbol(),k=Symbol("_children"),s=Symbol(),p=Symbol(),i=Symbol(),D=Symbol(),b=Symbol(),O=Symbol(),v=Symbol(),S=Symbol(),d=Symbol(),B=Symbol("parent"),g=Symbol(),L=Symbol(),C=Symbol();let h=0;const M=t.NamespaceIds.datasets.id;class l{constructor(T,N,H=!1){this[n.$namespaceId]=T,this[n.$nodeName]=N,this[v]=H,this[B]=null,this[k]=[],this[n.$uid]=`${N}${h++}`,this[n.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(T){let N=this,H=null;for(const{name:z,index:U}of T){for(let q=0,J=isFinite(U)?U:0;q<=J;q++)H=new c(N[n.$namespaceId]===M?-1:N[n.$namespaceId],z),N[n.$appendChild](H);N=H}return H}[n.$onChild](T){if(!this[v]||!this[n.$onChildCheck](T))return!1;const N=T[n.$nodeName],H=this[N];if(!(H instanceof r))return null!==H&&this[n.$removeChild](H),this[N]=T,this[n.$appendChild](T),!0;if(H.push(T))return this[n.$appendChild](T),!0;let z="";return this.id?z=` (id: ${this.id})`:this.name&&(z=` (name: ${this.name} ${this.h.value})`),(0,x.warn)(`XFA - node "${this[n.$nodeName]}"${z} has already enough "${N}"!`),!1}[n.$onChildCheck](T){return this.hasOwnProperty(T[n.$nodeName])&&T[n.$namespaceId]===this[n.$namespaceId]}[n.$isNsAgnostic](){return!1}[n.$acceptWhitespace](){return!1}[n.$isCDATAXml](){return!1}[n.$isBindable](){return!1}[n.$popPara](){this.para&&this[n.$getTemplateRoot]()[n.$extra].paraStack.pop()}[n.$pushPara](){this[n.$getTemplateRoot]()[n.$extra].paraStack.push(this.para)}[n.$setId](T){this.id&&this[n.$namespaceId]===t.NamespaceIds.template.id&&T.set(this.id,this)}[n.$getTemplateRoot](){return this[n.$globalData].template}[n.$isSplittable](){return!1}[n.$isThereMoreWidth](){return!1}[n.$appendChild](T){T[B]=this,this[k].push(T),!T[n.$globalData]&&this[n.$globalData]&&(T[n.$globalData]=this[n.$globalData])}[n.$removeChild](T){const N=this[k].indexOf(T);this[k].splice(N,1)}[n.$hasSettableValue](){return this.hasOwnProperty("value")}[n.$setValue](T){}[n.$onText](T){}[n.$finalize](){}[n.$clean](T){delete this[v],this[n.$cleanup]&&(T.clean(this[n.$cleanup]),delete this[n.$cleanup])}[n.$indexOf](T){return this[k].indexOf(T)}[n.$insertAt](T,N){N[B]=this,this[k].splice(T,0,N),!N[n.$globalData]&&this[n.$globalData]&&(N[n.$globalData]=this[n.$globalData])}[n.$isTransparent](){return!this.name}[n.$lastAttribute](){return""}[n.$text](){return 0===this[k].length?this[n.$content]:this[k].map(T=>T[n.$text]()).join("")}get[y](){const T=Object.getPrototypeOf(this);if(!T._attributes){const N=T._attributes=new Set;for(const H of Object.getOwnPropertyNames(this)){if(null===this[H]||this[H]instanceof l||this[H]instanceof r)break;N.add(H)}}return(0,x.shadow)(this,y,T._attributes)}[n.$isDescendent](T){let N=this;for(;N;){if(N===T)return!0;N=N[n.$getParent]()}return!1}[n.$getParent](){return this[B]}[n.$getSubformParent](){return this[n.$getParent]()}[n.$getChildren](T=null){return T?this[T]:this[k]}[n.$dump](){const T=Object.create(null);this[n.$content]&&(T.$content=this[n.$content]);for(const N of Object.getOwnPropertyNames(this)){const H=this[N];null!==H&&(H instanceof l?T[N]=H[n.$dump]():H instanceof r?H.isEmpty()||(T[N]=H.dump()):T[N]=H)}return T}[n.$toStyle](){return null}[n.$toHTML](){return j.HTMLResult.EMPTY}*[n.$getContainedChildren](){for(const T of this[n.$getChildren]())yield T}*[D](T,N){for(const H of this[n.$getContainedChildren]())if(!T||N===T.has(H[n.$nodeName])){const z=this[n.$getAvailableSpace](),U=H[n.$toHTML](z);U.success||(this[n.$extra].failingNode=H),yield U}}[n.$flushHTML](){return null}[n.$addHTML](T,N){this[n.$extra].children.push(T)}[n.$getAvailableSpace](){}[n.$childrenToHTML]({filter:T=null,include:N=!0}){if(this[n.$extra].generator){const H=this[n.$getAvailableSpace](),z=this[n.$extra].failingNode[n.$toHTML](H);if(!z.success)return z;z.html&&this[n.$addHTML](z.html,z.bbox),delete this[n.$extra].failingNode}else this[n.$extra].generator=this[D](T,N);for(;;){const H=this[n.$extra].generator.next();if(H.done)break;const z=H.value;if(!z.success)return z;z.html&&this[n.$addHTML](z.html,z.bbox)}return this[n.$extra].generator=null,j.HTMLResult.EMPTY}[n.$setSetAttributes](T){this[L]=new Set(Object.keys(T))}[O](T){const N=this[y],H=this[L];return[...T].filter(z=>N.has(z)&&!H.has(z))}[n.$resolvePrototypes](T,N=new Set){for(const H of this[k])H[g](T,N)}[g](T,N){const H=this[b](T,N);H?this[F](H,T,N):this[n.$resolvePrototypes](T,N)}[b](T,N){const{use:H,usehref:z}=this;if(!H&&!z)return null;let U=null,q=null,J=null,oe=H;if(z?(oe=z,z.startsWith("#som(")&&z.endsWith(")")?q=z.slice(5,-1):z.startsWith(".#som(")&&z.endsWith(")")?q=z.slice(6,-1):z.startsWith("#")?J=z.slice(1):z.startsWith(".#")&&(J=z.slice(2))):H.startsWith("#")?J=H.slice(1):q=H,this.use=this.usehref="",J?U=T.get(J):(U=(0,a.searchNode)(T.get(n.$root),this,q,!0,!1),U&&(U=U[0])),!U)return(0,x.warn)(`XFA - Invalid prototype reference: ${oe}.`),null;if(U[n.$nodeName]!==this[n.$nodeName])return(0,x.warn)(`XFA - Incompatible prototype: ${U[n.$nodeName]} !== ${this[n.$nodeName]}.`),null;if(N.has(U))return(0,x.warn)("XFA - Cycle detected in prototypes use."),null;N.add(U);const ne=U[b](T,N);return ne&&U[F](ne,T,N),U[n.$resolvePrototypes](T,N),N.delete(U),U}[F](T,N,H){if(H.has(T))(0,x.warn)("XFA - Cycle detected in prototypes use.");else{!this[n.$content]&&T[n.$content]&&(this[n.$content]=T[n.$content]),new Set(H).add(T);for(const U of this[O](T[L]))this[U]=T[U],this[L]&&this[L].add(U);for(const U of Object.getOwnPropertyNames(this)){if(this[y].has(U))continue;const q=this[U],J=T[U];if(q instanceof r){for(const oe of q[k])oe[g](N,H);for(let oe=q[k].length,ne=J[k].length;oe<ne;oe++){const Q=T[k][oe][n.$clone]();if(!q.push(Q))break;Q[B]=this,this[k].push(Q),Q[g](N,H)}}else if(null===q){if(null!==J){const oe=J[n.$clone]();oe[B]=this,this[U]=oe,this[k].push(oe),oe[g](N,H)}}else q[n.$resolvePrototypes](N,H),J&&q[F](J,N,H)}}}static[s](T){return Array.isArray(T)?T.map(N=>l[s](N)):"object"==typeof T&&null!==T?Object.assign({},T):T}[n.$clone](){const T=Object.create(Object.getPrototypeOf(this));for(const N of Object.getOwnPropertySymbols(this))try{T[N]=this[N]}catch{(0,x.shadow)(T,N,this[N])}T[n.$uid]=`${T[n.$nodeName]}${h++}`,T[k]=[];for(const N of Object.getOwnPropertyNames(this)){if(this[y].has(N)){T[N]=l[s](this[N]);continue}const H=this[N];T[N]=H instanceof r?new r(H[S]):null}for(const N of this[k]){const H=N[n.$nodeName],z=N[n.$clone]();T[k].push(z),z[B]=T,null===T[H]?T[H]=z:T[H][k].push(z)}return T}[n.$getChildren](T=null){return T?this[k].filter(N=>N[n.$nodeName]===T):this[k]}[n.$getChildrenByClass](T){return this[T]}[n.$getChildrenByName](T,N,H=!0){return Array.from(this[n.$getChildrenByNameIt](T,N,H))}*[n.$getChildrenByNameIt](T,N,H=!0){if("parent"!==T){for(const z of this[k])z[n.$nodeName]===T&&(yield z),z.name===T&&(yield z),(N||z[n.$isTransparent]())&&(yield*z[n.$getChildrenByNameIt](T,N,!1));H&&this[y].has(T)&&(yield new f(this,T,this[T]))}else yield this[B]}}E.XFAObject=l;class r{constructor(T=1/0){this[S]=T,this[k]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(T){return this[k].length<=this[S]?(this[k].push(T),!0):((0,x.warn)(`XFA - node "${T[n.$nodeName]}" accepts no more than ${this[S]} children`),!1)}isEmpty(){return 0===this[k].length}dump(){return 1===this[k].length?this[k][0][n.$dump]():this[k].map(T=>T[n.$dump]())}[n.$clone](){const T=new r(this[S]);return T[k]=this[k].map(N=>N[n.$clone]()),T}get children(){return this[k]}clear(){this[k].length=0}}E.XFAObjectArray=r;class f{constructor(T,N,H){this[B]=T,this[n.$nodeName]=N,this[n.$content]=H,this[n.$consumed]=!1,this[n.$uid]="attribute"+h++}[n.$getParent](){return this[B]}[n.$isDataValue](){return!0}[n.$getDataValue](){return this[n.$content].trim()}[n.$setValue](T){this[n.$content]=(T=T.value||"").toString()}[n.$text](){return this[n.$content]}[n.$isDescendent](T){return this[B]===T||this[B][n.$isDescendent](T)}}E.XFAAttribute=f;class c extends l{constructor(T,N,H={}){if(super(T,N),this[n.$content]="",this[p]=null,"#text"!==N){const z=new Map;this[m]=z;for(const[U,q]of Object.entries(H))z.set(U,new f(this,U,q));if(H.hasOwnProperty(n.$nsAttributes)){const U=H[n.$nsAttributes].xfa.dataNode;void 0!==U&&("dataGroup"===U?this[p]=!1:"dataValue"===U&&(this[p]=!0))}}this[n.$consumed]=!1}[n.$toString](T){const N=this[n.$nodeName];if("#text"===N)return void T.push((0,e.encodeToXmlString)(this[n.$content]));const H=(0,x.utf8StringToString)(N),z=this[n.$namespaceId]===M?"xfa:":"";T.push(`<${z}${H}`);for(const[U,q]of this[m].entries()){const J=(0,x.utf8StringToString)(U);T.push(` ${J}="${(0,e.encodeToXmlString)(q[n.$content])}"`)}if(null!==this[p]&&T.push(this[p]?' xfa:dataNode="dataValue"':' xfa:dataNode="dataGroup"'),this[n.$content]||0!==this[k].length){if(T.push(">"),this[n.$content])"string"==typeof this[n.$content]?T.push((0,e.encodeToXmlString)(this[n.$content])):this[n.$content][n.$toString](T);else for(const U of this[k])U[n.$toString](T);T.push(`</${z}${H}>`)}else T.push("/>")}[n.$onChild](T){if(this[n.$content]){const N=new c(this[n.$namespaceId],"#text");this[n.$appendChild](N),N[n.$content]=this[n.$content],this[n.$content]=""}return this[n.$appendChild](T),!0}[n.$onText](T){this[n.$content]+=T}[n.$finalize](){if(this[n.$content]&&this[k].length>0){const T=new c(this[n.$namespaceId],"#text");this[n.$appendChild](T),T[n.$content]=this[n.$content],delete this[n.$content]}}[n.$toHTML](){return"#text"===this[n.$nodeName]?j.HTMLResult.success({name:"#text",value:this[n.$content]}):j.HTMLResult.EMPTY}[n.$getChildren](T=null){return T?this[k].filter(N=>N[n.$nodeName]===T):this[k]}[n.$getAttributes](){return this[m]}[n.$getChildrenByClass](T){const N=this[m].get(T);return void 0!==N?N:this[n.$getChildren](T)}*[n.$getChildrenByNameIt](T,N){const H=this[m].get(T);H&&(yield H);for(const z of this[k])z[n.$nodeName]===T&&(yield z),N&&(yield*z[n.$getChildrenByNameIt](T,N))}*[n.$getAttributeIt](T,N){const H=this[m].get(T);H&&(!N||!H[n.$consumed])&&(yield H);for(const z of this[k])yield*z[n.$getAttributeIt](T,N)}*[n.$getRealChildrenByNameIt](T,N,H){for(const z of this[k])z[n.$nodeName]===T&&(!H||!z[n.$consumed])&&(yield z),N&&(yield*z[n.$getRealChildrenByNameIt](T,N,H))}[n.$isDataValue](){return null===this[p]?0===this[k].length||this[k][0][n.$namespaceId]===t.NamespaceIds.xhtml.id:this[p]}[n.$getDataValue](){return null===this[p]?0===this[k].length?this[n.$content].trim():this[k][0][n.$namespaceId]===t.NamespaceIds.xhtml.id?this[k][0][n.$text]().trim():null:this[n.$content].trim()}[n.$setValue](T){this[n.$content]=(T=T.value||"").toString()}[n.$dump](T=!1){const N=Object.create(null);T&&(N.$ns=this[n.$namespaceId]),this[n.$content]&&(N.$content=this[n.$content]),N.$name=this[n.$nodeName],N.children=[];for(const H of this[k])N.children.push(H[n.$dump](T));N.attributes=Object.create(null);for(const[H,z]of this[m])N.attributes[H]=z[n.$content];return N}}E.XmlObject=c;class u extends l{constructor(T,N){super(T,N),this[n.$content]=""}[n.$onText](T){this[n.$content]+=T}[n.$finalize](){}}E.ContentObject=u,E.OptionObject=class I extends u{constructor(T,N,H){super(T,N),this[d]=H}[n.$finalize](){this[n.$content]=(0,j.getKeyword)({data:this[n.$content],defaultValue:this[d][0],validate:T=>this[d].includes(T)})}[n.$clean](T){super[n.$clean](T),delete this[d]}},E.StringObject=class A extends u{[n.$finalize](){this[n.$content]=this[n.$content].trim()}};class P extends u{constructor(T,N,H,z){super(T,N),this[i]=H,this[C]=z}[n.$finalize](){this[n.$content]=(0,j.getInteger)({data:this[n.$content],defaultValue:this[i],validate:this[C]})}[n.$clean](T){super[n.$clean](T),delete this[i],delete this[C]}}E.IntegerObject=P,E.Option01=class $ extends P{constructor(T,N){super(T,N,0,H=>1===H)}},E.Option10=class _ extends P{constructor(T,N){super(T,N,1,H=>0===H)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createDataNode=function s(p,i,D){const b=y(D);if(!b||b.some(S=>S.operator===t.dotDot))return null;const O=a.get(b[0].name);let v=0;O?(p=O(p,i),v=1):p=i||p;for(let S=b.length;v<S;v++){const{name:d,operator:B,index:g}=b[v];if(!isFinite(g))return b[v].index=0,p.createNodes(b.slice(v));let L;switch(B){case t.dot:L=p[n.$getChildrenByName](d,!1);break;case t.dotDot:L=p[n.$getChildrenByName](d,!0);break;case t.dotHash:L=p[n.$getChildrenByClass](d),L=L.isXFAObjectArray?L.children:[L]}if(0===L.length)return p.createNodes(b.slice(v));if(!(g<L.length))return b[v].index=g-L.length,p.createNodes(b.slice(v));{const C=L[g];if(!C.isXFAObject)return(0,j.warn)("XFA - Cannot create a node."),null;p=C}}return null},E.searchNode=function k(p,i,D,b=!0,O=!0){const v=y(D,b);if(!v)return null;const S=a.get(v[0].name);let B,d=0;S?(B=!0,p=[S(p,i)],d=1):(B=null===i,p=[i||p]);for(let g=v.length;d<g;d++){const{name:L,cacheName:C,operator:h,index:M}=v[d],l=[];for(const r of p){if(!r.isXFAObject)continue;let f,c;if(O&&(c=F.get(r),c||(c=new Map,F.set(r,c)),f=c.get(C)),!f){switch(h){case t.dot:f=r[n.$getChildrenByName](L,!1);break;case t.dotDot:f=r[n.$getChildrenByName](L,!0);break;case t.dotHash:f=r[n.$getChildrenByClass](L),f=f.isXFAObjectArray?f.children:[f]}O&&c.set(C,f)}f.length>0&&l.push(f)}if(0!==l.length||B||0!==d)p=isFinite(M)?l.filter(r=>M<r.length).map(r=>r[M]):l.flat();else{if(!(i=i[n.$getParent]()))return null;d=-1,p=[i]}}return 0===p.length?null:p};var n=V(78),j=V(2);const x=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},a=new Map([["$data",(p,i)=>p.datasets?p.datasets.data:p],["$record",(p,i)=>(p.datasets?p.datasets.data:p)[n.$getChildren]()[0]],["$template",(p,i)=>p.template],["$connectionSet",(p,i)=>p.connectionSet],["$form",(p,i)=>p.form],["$layout",(p,i)=>p.layout],["$host",(p,i)=>p.host],["$dataWindow",(p,i)=>p.dataWindow],["$event",(p,i)=>p.event],["!",(p,i)=>p.datasets],["$xfa",(p,i)=>p],["xfa",(p,i)=>p],["$",(p,i)=>i]]),F=new WeakMap;function m(p){return"*"===(p=p.trim())?1/0:parseInt(p,10)||0}function y(p,i,D=!0){let b=p.match(x);if(!b)return null;let[O]=b;const v=[{name:O,cacheName:"."+O,index:0,js:null,formCalc:null,operator:t.dot}];let S=O.length;for(;S<p.length;){const d=S;if("["===p.charAt(S++)){if(b=p.slice(S).match(e),!b)return(0,j.warn)("XFA - Invalid index in SOM expression"),null;v.at(-1).index=m(b[0]),S+=b[0].length+1;continue}let g;switch(p.charAt(S)){case".":if(!i)return null;S++,g=t.dotDot;break;case"#":S++,g=t.dotHash;break;case"[":if(D)return(0,j.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;g=t.dotBracket;break;case"(":if(D)return(0,j.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;g=t.dotParen;break;default:g=t.dot}if(b=p.slice(S).match(x),!b)break;[O]=b,S+=O.length,v.push({name:O,cacheName:p.slice(d,S),operator:g,index:0,js:null,formCalc:null})}return v}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DataHandler=void 0;var n=V(78);E.DataHandler=class j{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const F=t.at(-1),[m,y]=F;if(m+1===y.length){t.pop();continue}const k=y[++F[0]],s=e.get(k[n.$uid]);if(s)k[n.$setValue](s);else{const i=k[n.$getAttributes]();for(const D of i.values()){const b=e.get(D[n.$uid]);if(b){D[n.$setValue](b);break}}}const p=k[n.$getChildren]();p.length>0&&t.push([-1,p])}const a=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const F of this.dataset[n.$getChildren]())"data"!==F[n.$nodeName]&&F[n.$toString](a);return this.data[n.$toString](a),a.push("</xfa:datasets>"),a.join("")}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XFAParser=void 0;var n=V(78),j=V(71),x=V(91),e=V(2);class t extends j.XMLParserBase{constructor(F=null,m=!1){super(),this._builder=new x.Builder(F),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=j.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=m}parse(F){if(this.parseXml(F),this._errorCode===j.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(F){F=F.replace(this._nbsps,m=>m.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()?this._current[n.$onText](F,this._richText):this._whiteRegex.test(F)||this._current[n.$onText](F.trim())}onCdata(F){this._current[n.$onText](F)}_mkAttributes(F,m){let y=null,k=null;const s=Object.create({});for(const{name:p,value:i}of F)if("xmlns"===p)y?(0,e.warn)(`XFA - multiple namespace definition in <${m}>`):y=i;else if(p.startsWith("xmlns:")){const D=p.substring(6);k||(k=[]),k.push({prefix:D,value:i})}else{const D=p.indexOf(":");if(-1===D)s[p]=i;else{let b=s[n.$nsAttributes];b||(b=s[n.$nsAttributes]=Object.create(null));const[O,v]=[p.slice(0,D),p.slice(D+1)];(b[O]||=Object.create(null))[v]=i}}return[y,k,s]}_getNameAndPrefix(F,m){const y=F.indexOf(":");return-1===y?[F,null]:[F.substring(y+1),m?"":F.substring(0,y)]}onBeginElement(F,m,y){const[k,s,p]=this._mkAttributes(m,F),[i,D]=this._getNameAndPrefix(F,this._builder.isNsAgnostic()),b=this._builder.build({nsPrefix:D,name:i,attributes:p,namespace:k,prefixes:s});if(b[n.$globalData]=this._globalData,y)return b[n.$finalize](),this._current[n.$onChild](b)&&b[n.$setId](this._ids),void b[n.$clean](this._builder);this._stack.push(this._current),this._current=b}onEndElement(F){const m=this._current;if(m[n.$isCDATAXml]()&&"string"==typeof m[n.$content]){const y=new t;y._globalData=this._globalData;const k=y.parse(m[n.$content]);m[n.$content]=null,m[n.$onChild](k)}m[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](m)&&m[n.$setId](this._ids),m[n.$clean](this._builder)}onError(F){this._errorCode=F}}E.XFAParser=t},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.Builder=void 0;var n=V(81),j=V(78),x=V(92),e=V(80),t=V(101),a=V(2),F=V(87);class m extends F.XFAObject{constructor(p){super(-1,"root",Object.create(null)),this.element=null,this[j.$ids]=p}[j.$onChild](p){return this.element=p,!0}[j.$finalize](){super[j.$finalize](),this.element.template instanceof e.Template&&(this[j.$ids].set(j.$root,this.element),this.element.template[j.$resolvePrototypes](this[j.$ids]),this.element.template[j.$ids]=this[j.$ids])}}class y extends F.XFAObject{constructor(){super(-1,"",Object.create(null))}[j.$onChild](p){return!1}}E.Builder=class k{constructor(p=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=p||new t.UnknownNamespace(++this._nextNsId)}buildRoot(p){return new m(p)}build({nsPrefix:p,name:i,attributes:D,namespace:b,prefixes:O}){const v=null!==b;if(v&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(b)),O&&this._addNamespacePrefix(O),D.hasOwnProperty(j.$nsAttributes)){const B=x.NamespaceSetUp.datasets,g=D[j.$nsAttributes];let L=null;for(const[C,h]of Object.entries(g))if(this._getNamespaceToUse(C)===B){L={xfa:h};break}L?D[j.$nsAttributes]=L:delete D[j.$nsAttributes]}const d=this._getNamespaceToUse(p)?.[n.$buildXFAObject](i,D)||new y;return d[j.$isNsAgnostic]()&&this._nsAgnosticLevel++,(v||O||d[j.$isNsAgnostic]())&&(d[j.$cleanup]={hasNamespace:v,prefixes:O,nsAgnostic:d[j.$isNsAgnostic]()}),d}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(p){let i=this._namespaces.get(p);if(i)return i;for(const[D,{check:b}]of Object.entries(n.NamespaceIds))if(b(p)){if(i=x.NamespaceSetUp[D],i)return this._namespaces.set(p,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(p,i),i}_addNamespacePrefix(p){for(const{prefix:i,value:D}of p){const b=this._searchNamespace(D);let O=this._namespacePrefixes.get(i);O||(O=[],this._namespacePrefixes.set(i,O)),O.push(b)}}_getNamespaceToUse(p){if(!p)return this._currentNamespace;const i=this._namespacePrefixes.get(p);return i?.length>0?i.at(-1):((0,a.warn)(`Unknown namespace prefix: ${p}.`),null)}clean(p){const{hasNamespace:i,prefixes:D,nsAgnostic:b}=p;i&&(this._currentNamespace=this._namespaceStack.pop()),D&&D.forEach(({prefix:O})=>{this._namespacePrefixes.get(O).pop()}),b&&this._nsAgnosticLevel--}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NamespaceSetUp=void 0;var n=V(93),j=V(94),x=V(95),e=V(96),t=V(97),a=V(98),F=V(80),m=V(99),y=V(100);E.NamespaceSetUp={config:n.ConfigNamespace,connection:j.ConnectionSetNamespace,datasets:x.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:a.StylesheetNamespace,template:F.TemplateNamespace,xdp:m.XdpNamespace,xhtml:y.XhtmlNamespace}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ConfigNamespace=void 0;var n=V(81),j=V(78),x=V(87),e=V(84),t=V(2);const a=n.NamespaceIds.config.id;class F extends x.XFAObject{constructor(W){super(a,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new x.XFAObjectArray}}class m extends x.XFAObject{constructor(W){super(a,"acrobat7",!0),this.dynamicRender=null}}class y extends x.OptionObject{constructor(W){super(a,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class k extends x.OptionObject{constructor(W){super(a,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class s extends x.Option01{constructor(W){super(a,"addSilentPrint")}}class p extends x.Option01{constructor(W){super(a,"addViewerPreferences")}}class i extends x.Option10{constructor(W){super(a,"adjustData")}}class D extends x.IntegerObject{constructor(W){super(a,"adobeExtensionLevel",0,Fe=>Fe>=1&&Fe<=8)}}class b extends x.XFAObject{constructor(W){super(a,"agent",!0),this.name=W.name?W.name.trim():"",this.common=new x.XFAObjectArray}}class O extends x.ContentObject{constructor(W){super(a,"alwaysEmbed")}}class v extends x.StringObject{constructor(W){super(a,"amd")}}class S extends x.XFAObject{constructor(W){super(a,"area"),this.level=(0,e.getInteger)({data:W.level,defaultValue:0,validate:Fe=>Fe>=1&&Fe<=3}),this.name=(0,e.getStringOption)(W.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class d extends x.OptionObject{constructor(W){super(a,"attributes",["preserve","delegate","ignore"])}}class B extends x.OptionObject{constructor(W){super(a,"autoSave",["disabled","enabled"])}}class g extends x.StringObject{constructor(W){super(a,"base")}}class L extends x.XFAObject{constructor(W){super(a,"batchOutput"),this.format=(0,e.getStringOption)(W.format,["none","concat","zip","zipCompress"])}}class C extends x.ContentObject{constructor(W){super(a,"behaviorOverride")}[j.$finalize](){this[j.$content]=new Map(this[j.$content].trim().split(/\s+/).filter(W=>W.includes(":")).map(W=>W.split(":",2)))}}class h extends x.XFAObject{constructor(W){super(a,"cache",!0),this.templateCache=null}}class M extends x.Option01{constructor(W){super(a,"change")}}class l extends x.XFAObject{constructor(W){super(a,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new x.XFAObjectArray}}class r extends x.XFAObject{constructor(W){super(a,"compress"),this.scope=(0,e.getStringOption)(W.scope,["imageOnly","document"])}}class f extends x.Option01{constructor(W){super(a,"compressLogicalStructure")}}class c extends x.Option10{constructor(W){super(a,"compressObjectStream")}}class u extends x.XFAObject{constructor(W){super(a,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class I extends x.XFAObject{constructor(W){super(a,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new x.XFAObjectArray}}class A extends x.OptionObject{constructor(W){super(a,"conformance",["A","B"])}}class P extends x.Option01{constructor(W){super(a,"contentCopy")}}class $ extends x.IntegerObject{constructor(W){super(a,"copies",1,Fe=>Fe>=1)}}class _ extends x.StringObject{constructor(W){super(a,"creator")}}class w extends x.IntegerObject{constructor(W){super(a,"currentPage",0,Fe=>Fe>=0)}}class T extends x.XFAObject{constructor(W){super(a,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new x.XFAObjectArray,this.transform=new x.XFAObjectArray}}class N extends x.XFAObject{constructor(W){super(a,"debug",!0),this.uri=null}}class H extends x.ContentObject{constructor(W){super(a,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(W.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class z extends x.OptionObject{constructor(W){super(a,"destination",["pdf","pcl","ps","webClient","zpl"])}}class U extends x.Option01{constructor(W){super(a,"documentAssembly")}}class q extends x.XFAObject{constructor(W){super(a,"driver",!0),this.name=W.name?W.name.trim():"",this.fontInfo=null,this.xdc=null}}class J extends x.OptionObject{constructor(W){super(a,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class oe extends x.OptionObject{constructor(W){super(a,"dynamicRender",["forbidden","required"])}}class ne extends x.Option01{constructor(W){super(a,"embed")}}class Q extends x.Option01{constructor(W){super(a,"encrypt")}}class R extends x.XFAObject{constructor(W){super(a,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class X extends x.OptionObject{constructor(W){super(a,"encryptionLevel",["40bit","128bit"])}}class G extends x.StringObject{constructor(W){super(a,"enforce")}}class Y extends x.XFAObject{constructor(W){super(a,"equate"),this.force=(0,e.getInteger)({data:W.force,defaultValue:1,validate:Fe=>0===Fe}),this.from=W.from||"",this.to=W.to||""}}class K extends x.XFAObject{constructor(W){super(a,"equateRange"),this.from=W.from||"",this.to=W.to||"",this._unicodeRange=W.unicodeRange||""}get unicodeRange(){const W=[],Fe=/U\+([0-9a-fA-F]+)/,Ee=this._unicodeRange;for(let Le of Ee.split(",").map(tt=>tt.trim()).filter(tt=>!!tt))Le=Le.split("-",2).map(tt=>{const et=tt.match(Fe);return et?parseInt(et[1],16):0}),1===Le.length&&Le.push(Le[0]),W.push(Le);return(0,t.shadow)(this,"unicodeRange",W)}}class Z extends x.ContentObject{constructor(W){super(a,"exclude")}[j.$finalize](){this[j.$content]=this[j.$content].trim().split(/\s+/).filter(W=>W&&["calculate","close","enter","exit","initialize","ready","validate"].includes(W))}}class ae extends x.StringObject{constructor(W){super(a,"excludeNS")}}class ie extends x.OptionObject{constructor(W){super(a,"flipLabel",["usePrinterSetting","on","off"])}}class te extends x.XFAObject{constructor(W){super(a,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new x.XFAObjectArray,this.defaultTypeface=new x.XFAObjectArray,this.neverEmbed=new x.XFAObjectArray}}class re extends x.Option01{constructor(W){super(a,"formFieldFilling")}}class ee extends x.StringObject{constructor(W){super(a,"groupParent")}}class le extends x.OptionObject{constructor(W){super(a,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ue extends x.StringObject{constructor(W){super(a,"includeXDPContent")}}class fe extends x.OptionObject{constructor(W){super(a,"incrementalLoad",["none","forwardOnly"])}}class Se extends x.Option01{constructor(W){super(a,"incrementalMerge")}}class Ce extends x.Option01{constructor(W){super(a,"interactive")}}class ve extends x.OptionObject{constructor(W){super(a,"jog",["usePrinterSetting","none","pageSet"])}}class me extends x.XFAObject{constructor(W){super(a,"labelPrinter",!0),this.name=(0,e.getStringOption)(W.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class de extends x.OptionObject{constructor(W){super(a,"layout",["paginate","panel"])}}class ge extends x.IntegerObject{constructor(W){super(a,"level",0,Fe=>Fe>0)}}class Ae extends x.Option01{constructor(W){super(a,"linearized")}}class be extends x.StringObject{constructor(W){super(a,"locale")}}class pe extends x.StringObject{constructor(W){super(a,"localeSet")}}class xe extends x.XFAObject{constructor(W){super(a,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class we extends x.XFAObject{constructor(W){super(a,"map",!0),this.equate=new x.XFAObjectArray,this.equateRange=new x.XFAObjectArray}}class Ne extends x.XFAObject{constructor(W){super(a,"mediumInfo",!0),this.map=null}}class He extends x.XFAObject{constructor(W){super(a,"message",!0),this.msgId=null,this.severity=null}}class $e extends x.XFAObject{constructor(W){super(a,"messaging",!0),this.message=new x.XFAObjectArray}}class qe extends x.OptionObject{constructor(W){super(a,"mode",["append","overwrite"])}}class Ke extends x.Option01{constructor(W){super(a,"modifyAnnots")}}class Oe extends x.IntegerObject{constructor(W){super(a,"msgId",1,Fe=>Fe>=1)}}class Pe extends x.StringObject{constructor(W){super(a,"nameAttr")}}class ze extends x.ContentObject{constructor(W){super(a,"neverEmbed")}}class Ze extends x.IntegerObject{constructor(W){super(a,"numberOfCopies",null,Fe=>Fe>=2&&Fe<=5)}}class Be extends x.XFAObject{constructor(W){super(a,"openAction",!0),this.destination=null}}class Je extends x.XFAObject{constructor(W){super(a,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ye extends x.StringObject{constructor(W){super(a,"outputBin")}}class Qe extends x.XFAObject{constructor(W){super(a,"outputXSL",!0),this.uri=null}}class lt extends x.OptionObject{constructor(W){super(a,"overprint",["none","both","draw","field"])}}class Ue extends x.StringObject{constructor(W){super(a,"packets")}[j.$finalize](){"*"!==this[j.$content]&&(this[j.$content]=this[j.$content].trim().split(/\s+/).filter(W=>["config","datasets","template","xfdf","xslt"].includes(W)))}}class at extends x.XFAObject{constructor(W){super(a,"pageOffset"),this.x=(0,e.getInteger)({data:W.x,defaultValue:"useXDCSetting",validate:Fe=>!0}),this.y=(0,e.getInteger)({data:W.y,defaultValue:"useXDCSetting",validate:Fe=>!0})}}class Xe extends x.StringObject{constructor(W){super(a,"pageRange")}[j.$finalize](){const W=this[j.$content].trim().split(/\s+/).map(Ee=>parseInt(Ee,10)),Fe=[];for(let Ee=0,Le=W.length;Ee<Le;Ee+=2)Fe.push(W.slice(Ee,Ee+2));this[j.$content]=Fe}}class pt extends x.OptionObject{constructor(W){super(a,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class St extends x.OptionObject{constructor(W){super(a,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Ct extends x.IntegerObject{constructor(W){super(a,"part",1,Fe=>!1)}}class dt extends x.XFAObject{constructor(W){super(a,"pcl",!0),this.name=W.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class _t extends x.XFAObject{constructor(W){super(a,"pdf",!0),this.name=W.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class _e extends x.XFAObject{constructor(W){super(a,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ie extends x.XFAObject{constructor(W){super(a,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class De extends x.Option01{constructor(W){super(a,"pickTrayByPDFSize")}}class Re extends x.StringObject{constructor(W){super(a,"picture")}}class je extends x.Option01{constructor(W){super(a,"plaintextMetadata")}}class it extends x.OptionObject{constructor(W){super(a,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Ge extends x.XFAObject{constructor(W){super(a,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new x.XFAObjectArray,this.labelPrinter=new x.XFAObjectArray,this.pcl=new x.XFAObjectArray,this.pdf=new x.XFAObjectArray,this.ps=new x.XFAObjectArray,this.submitUrl=new x.XFAObjectArray,this.webClient=new x.XFAObjectArray,this.zpl=new x.XFAObjectArray}}class Me extends x.Option01{constructor(W){super(a,"print")}}class ot extends x.Option01{constructor(W){super(a,"printHighQuality")}}class nt extends x.OptionObject{constructor(W){super(a,"printScaling",["appdefault","noScaling"])}}class xt extends x.StringObject{constructor(W){super(a,"printerName")}}class ct extends x.StringObject{constructor(W){super(a,"producer")}}class ht extends x.XFAObject{constructor(W){super(a,"ps",!0),this.name=W.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class mt extends x.ContentObject{constructor(W){super(a,"range")}[j.$finalize](){this[j.$content]=this[j.$content].trim().split(/\s*,\s*/,2).map(W=>W.split("-").map(Fe=>parseInt(Fe.trim(),10))).filter(W=>W.every(Fe=>!isNaN(Fe))).map(W=>(1===W.length&&W.push(W[0]),W))}}class We extends x.ContentObject{constructor(W){super(a,"record")}[j.$finalize](){this[j.$content]=this[j.$content].trim();const W=parseInt(this[j.$content],10);!isNaN(W)&&W>=0&&(this[j.$content]=W)}}class rt extends x.ContentObject{constructor(W){super(a,"relevant")}[j.$finalize](){this[j.$content]=this[j.$content].trim().split(/\s+/)}}class Ve extends x.ContentObject{constructor(W){super(a,"rename")}[j.$finalize](){this[j.$content]=this[j.$content].trim(),(this[j.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[j.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class gt extends x.OptionObject{constructor(W){super(a,"renderPolicy",["server","client"])}}class wt extends x.OptionObject{constructor(W){super(a,"runScripts",["both","client","none","server"])}}class Rt extends x.XFAObject{constructor(W){super(a,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ut extends x.OptionObject{constructor(W){super(a,"scriptModel",["XFA","none"])}}class ft extends x.OptionObject{constructor(W){super(a,"severity",["ignore","error","information","trace","warning"])}}class Tt extends x.XFAObject{constructor(W){super(a,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Pt extends x.XFAObject{constructor(W){super(a,"staple"),this.mode=(0,e.getStringOption)(W.mode,["usePrinterSetting","on","off"])}}class Nt extends x.StringObject{constructor(W){super(a,"startNode")}}class Ut extends x.IntegerObject{constructor(W){super(a,"startPage",0,Fe=>!0)}}class en extends x.OptionObject{constructor(W){super(a,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Kt extends x.StringObject{constructor(W){super(a,"submitUrl")}}class tn extends x.IntegerObject{constructor(W){super(a,"subsetBelow",100,Fe=>Fe>=0&&Fe<=100)}}class nn extends x.Option01{constructor(W){super(a,"suppressBanner")}}class an extends x.Option01{constructor(W){super(a,"tagged")}}class sn extends x.XFAObject{constructor(W){super(a,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class rn extends x.OptionObject{constructor(W){super(a,"threshold",["trace","error","information","warning"])}}class on extends x.OptionObject{constructor(W){super(a,"to",["null","memory","stderr","stdout","system","uri"])}}class Yt extends x.XFAObject{constructor(W){super(a,"templateCache"),this.maxEntries=(0,e.getInteger)({data:W.maxEntries,defaultValue:5,validate:Fe=>Fe>=0})}}class Gt extends x.XFAObject{constructor(W){super(a,"trace",!0),this.area=new x.XFAObjectArray}}class cn extends x.XFAObject{constructor(W){super(a,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class ln extends x.OptionObject{constructor(W){super(a,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class hn extends x.StringObject{constructor(W){super(a,"uri")}}class Wt extends x.OptionObject{constructor(W){super(a,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Jt extends x.ContentObject{constructor(W){super(a,"validateApprovalSignatures")}[j.$finalize](){this[j.$content]=this[j.$content].trim().split(/\s+/).filter(W=>["docReady","postSign"].includes(W))}}class Zt extends x.OptionObject{constructor(W){super(a,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class un extends x.OptionObject{constructor(W){super(a,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class dn extends x.XFAObject{constructor(W){super(a,"VersionControl"),this.outputBelow=(0,e.getStringOption)(W.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(W.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(W.sourceBelow,["update","maintain"])}}class fn extends x.XFAObject{constructor(W){super(a,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class gn extends x.XFAObject{constructor(W){super(a,"webClient",!0),this.name=W.name?W.name.trim():"",this.fontInfo=null,this.xdc=null}}class pn extends x.OptionObject{constructor(W){super(a,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class qt extends x.ContentObject{constructor(W){super(a,"window")}[j.$finalize](){const W=this[j.$content].trim().split(/\s*,\s*/,2).map(Fe=>parseInt(Fe,10));W.some(Fe=>isNaN(Fe))?this[j.$content]=[0,0]:(1===W.length&&W.push(W[0]),this[j.$content]=W)}}class mn extends x.XFAObject{constructor(W){super(a,"xdc",!0),this.uri=new x.XFAObjectArray,this.xsl=new x.XFAObjectArray}}class Ht extends x.XFAObject{constructor(W){super(a,"xdp",!0),this.packets=null}}class xn extends x.XFAObject{constructor(W){super(a,"xsl",!0),this.debug=null,this.uri=null}}class Xt extends x.XFAObject{constructor(W){super(a,"zpl",!0),this.name=W.name?W.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Te{static[n.$buildXFAObject](W,Fe){if(Te.hasOwnProperty(W))return Te[W](Fe)}static acrobat(W){return new F(W)}static acrobat7(W){return new m(W)}static ADBE_JSConsole(W){return new y(W)}static ADBE_JSDebugger(W){return new k(W)}static addSilentPrint(W){return new s(W)}static addViewerPreferences(W){return new p(W)}static adjustData(W){return new i(W)}static adobeExtensionLevel(W){return new D(W)}static agent(W){return new b(W)}static alwaysEmbed(W){return new O(W)}static amd(W){return new v(W)}static area(W){return new S(W)}static attributes(W){return new d(W)}static autoSave(W){return new B(W)}static base(W){return new g(W)}static batchOutput(W){return new L(W)}static behaviorOverride(W){return new C(W)}static cache(W){return new h(W)}static change(W){return new M(W)}static common(W){return new l(W)}static compress(W){return new r(W)}static compressLogicalStructure(W){return new f(W)}static compressObjectStream(W){return new c(W)}static compression(W){return new u(W)}static config(W){return new I(W)}static conformance(W){return new A(W)}static contentCopy(W){return new P(W)}static copies(W){return new $(W)}static creator(W){return new _(W)}static currentPage(W){return new w(W)}static data(W){return new T(W)}static debug(W){return new N(W)}static defaultTypeface(W){return new H(W)}static destination(W){return new z(W)}static documentAssembly(W){return new U(W)}static driver(W){return new q(W)}static duplexOption(W){return new J(W)}static dynamicRender(W){return new oe(W)}static embed(W){return new ne(W)}static encrypt(W){return new Q(W)}static encryption(W){return new R(W)}static encryptionLevel(W){return new X(W)}static enforce(W){return new G(W)}static equate(W){return new Y(W)}static equateRange(W){return new K(W)}static exclude(W){return new Z(W)}static excludeNS(W){return new ae(W)}static flipLabel(W){return new ie(W)}static fontInfo(W){return new te(W)}static formFieldFilling(W){return new re(W)}static groupParent(W){return new ee(W)}static ifEmpty(W){return new le(W)}static includeXDPContent(W){return new ue(W)}static incrementalLoad(W){return new fe(W)}static incrementalMerge(W){return new Se(W)}static interactive(W){return new Ce(W)}static jog(W){return new ve(W)}static labelPrinter(W){return new me(W)}static layout(W){return new de(W)}static level(W){return new ge(W)}static linearized(W){return new Ae(W)}static locale(W){return new be(W)}static localeSet(W){return new pe(W)}static log(W){return new xe(W)}static map(W){return new we(W)}static mediumInfo(W){return new Ne(W)}static message(W){return new He(W)}static messaging(W){return new $e(W)}static mode(W){return new qe(W)}static modifyAnnots(W){return new Ke(W)}static msgId(W){return new Oe(W)}static nameAttr(W){return new Pe(W)}static neverEmbed(W){return new ze(W)}static numberOfCopies(W){return new Ze(W)}static openAction(W){return new Be(W)}static output(W){return new Je(W)}static outputBin(W){return new Ye(W)}static outputXSL(W){return new Qe(W)}static overprint(W){return new lt(W)}static packets(W){return new Ue(W)}static pageOffset(W){return new at(W)}static pageRange(W){return new Xe(W)}static pagination(W){return new pt(W)}static paginationOverride(W){return new St(W)}static part(W){return new Ct(W)}static pcl(W){return new dt(W)}static pdf(W){return new _t(W)}static pdfa(W){return new _e(W)}static permissions(W){return new Ie(W)}static pickTrayByPDFSize(W){return new De(W)}static picture(W){return new Re(W)}static plaintextMetadata(W){return new je(W)}static presence(W){return new it(W)}static present(W){return new Ge(W)}static print(W){return new Me(W)}static printHighQuality(W){return new ot(W)}static printScaling(W){return new nt(W)}static printerName(W){return new xt(W)}static producer(W){return new ct(W)}static ps(W){return new ht(W)}static range(W){return new mt(W)}static record(W){return new We(W)}static relevant(W){return new rt(W)}static rename(W){return new Ve(W)}static renderPolicy(W){return new gt(W)}static runScripts(W){return new wt(W)}static script(W){return new Rt(W)}static scriptModel(W){return new ut(W)}static severity(W){return new ft(W)}static silentPrint(W){return new Tt(W)}static staple(W){return new Pt(W)}static startNode(W){return new Nt(W)}static startPage(W){return new Ut(W)}static submitFormat(W){return new en(W)}static submitUrl(W){return new Kt(W)}static subsetBelow(W){return new tn(W)}static suppressBanner(W){return new nn(W)}static tagged(W){return new an(W)}static template(W){return new sn(W)}static templateCache(W){return new Yt(W)}static threshold(W){return new rn(W)}static to(W){return new on(W)}static trace(W){return new Gt(W)}static transform(W){return new cn(W)}static type(W){return new ln(W)}static uri(W){return new hn(W)}static validate(W){return new Wt(W)}static validateApprovalSignatures(W){return new Jt(W)}static validationMessaging(W){return new Zt(W)}static version(W){return new un(W)}static versionControl(W){return new dn(W)}static viewerPreferences(W){return new fn(W)}static webClient(W){return new gn(W)}static whitespace(W){return new pn(W)}static window(W){return new qt(W)}static xdc(W){return new mn(W)}static xdp(W){return new Ht(W)}static xsl(W){return new xn(W)}static zpl(W){return new Xt(W)}}E.ConfigNamespace=Te},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ConnectionSetNamespace=void 0;var n=V(81),j=V(87);const x=n.NamespaceIds.connectionSet.id;class e extends j.XFAObject{constructor(S){super(x,"connectionSet",!0),this.wsdlConnection=new j.XFAObjectArray,this.xmlConnection=new j.XFAObjectArray,this.xsdConnection=new j.XFAObjectArray}}class t extends j.XFAObject{constructor(S){super(x,"effectiveInputPolicy"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class a extends j.XFAObject{constructor(S){super(x,"effectiveOutputPolicy"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class F extends j.StringObject{constructor(S){super(x,"operation"),this.id=S.id||"",this.input=S.input||"",this.name=S.name||"",this.output=S.output||"",this.use=S.use||"",this.usehref=S.usehref||""}}class m extends j.StringObject{constructor(S){super(x,"rootElement"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class y extends j.StringObject{constructor(S){super(x,"soapAction"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class k extends j.StringObject{constructor(S){super(x,"soapAddress"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class s extends j.StringObject{constructor(S){super(x,"uri"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class p extends j.StringObject{constructor(S){super(x,"wsdlAddress"),this.id=S.id||"",this.name=S.name||"",this.use=S.use||"",this.usehref=S.usehref||""}}class i extends j.XFAObject{constructor(S){super(x,"wsdlConnection",!0),this.dataDescription=S.dataDescription||"",this.name=S.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class D extends j.XFAObject{constructor(S){super(x,"xmlConnection",!0),this.dataDescription=S.dataDescription||"",this.name=S.name||"",this.uri=null}}class b extends j.XFAObject{constructor(S){super(x,"xsdConnection",!0),this.dataDescription=S.dataDescription||"",this.name=S.name||"",this.rootElement=null,this.uri=null}}class O{static[n.$buildXFAObject](S,d){if(O.hasOwnProperty(S))return O[S](d)}static connectionSet(S){return new e(S)}static effectiveInputPolicy(S){return new t(S)}static effectiveOutputPolicy(S){return new a(S)}static operation(S){return new F(S)}static rootElement(S){return new m(S)}static soapAction(S){return new y(S)}static soapAddress(S){return new k(S)}static uri(S){return new s(S)}static wsdlAddress(S){return new p(S)}static wsdlConnection(S){return new i(S)}static xmlConnection(S){return new D(S)}static xsdConnection(S){return new b(S)}}E.ConnectionSetNamespace=O},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DatasetsNamespace=void 0;var n=V(78),j=V(81),x=V(87);const e=j.NamespaceIds.datasets.id;class t extends x.XmlObject{constructor(y){super(e,"data",y)}[n.$isNsAgnostic](){return!0}}class a extends x.XFAObject{constructor(y){super(e,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](y){const k=y[n.$nodeName];("data"===k&&y[n.$namespaceId]===e||"Signature"===k&&y[n.$namespaceId]===j.NamespaceIds.signature.id)&&(this[k]=y),this[n.$appendChild](y)}}class F{static[j.$buildXFAObject](y,k){if(F.hasOwnProperty(y))return F[y](k)}static datasets(y){return new a(y)}static data(y){return new t(y)}}E.DatasetsNamespace=F},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.LocaleSetNamespace=void 0;var n=V(81),j=V(87),x=V(84);const e=n.NamespaceIds.localeSet.id;class t extends j.XFAObject{constructor(I){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new j.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new j.XFAObjectArray(2)}}class a extends j.StringObject{constructor(I){super(e,"currencySymbol"),this.name=(0,x.getStringOption)(I.name,["symbol","isoname","decimal"])}}class F extends j.XFAObject{constructor(I){super(e,"currencySymbols",!0),this.currencySymbol=new j.XFAObjectArray(3)}}class m extends j.StringObject{constructor(I){super(e,"datePattern"),this.name=(0,x.getStringOption)(I.name,["full","long","med","short"])}}class y extends j.XFAObject{constructor(I){super(e,"datePatterns",!0),this.datePattern=new j.XFAObjectArray(4)}}class k extends j.ContentObject{constructor(I){super(e,"dateTimeSymbols")}}class s extends j.StringObject{constructor(I){super(e,"day")}}class p extends j.XFAObject{constructor(I){super(e,"dayNames",!0),this.abbr=(0,x.getInteger)({data:I.abbr,defaultValue:0,validate:A=>1===A}),this.day=new j.XFAObjectArray(7)}}class i extends j.StringObject{constructor(I){super(e,"era")}}class D extends j.XFAObject{constructor(I){super(e,"eraNames",!0),this.era=new j.XFAObjectArray(2)}}class b extends j.XFAObject{constructor(I){super(e,"locale",!0),this.desc=I.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class O extends j.XFAObject{constructor(I){super(e,"localeSet",!0),this.locale=new j.XFAObjectArray}}class v extends j.StringObject{constructor(I){super(e,"meridiem")}}class S extends j.XFAObject{constructor(I){super(e,"meridiemNames",!0),this.meridiem=new j.XFAObjectArray(2)}}class d extends j.StringObject{constructor(I){super(e,"month")}}class B extends j.XFAObject{constructor(I){super(e,"monthNames",!0),this.abbr=(0,x.getInteger)({data:I.abbr,defaultValue:0,validate:A=>1===A}),this.month=new j.XFAObjectArray(12)}}class g extends j.StringObject{constructor(I){super(e,"numberPattern"),this.name=(0,x.getStringOption)(I.name,["full","long","med","short"])}}class L extends j.XFAObject{constructor(I){super(e,"numberPatterns",!0),this.numberPattern=new j.XFAObjectArray(4)}}class C extends j.StringObject{constructor(I){super(e,"numberSymbol"),this.name=(0,x.getStringOption)(I.name,["decimal","grouping","percent","minus","zero"])}}class h extends j.XFAObject{constructor(I){super(e,"numberSymbols",!0),this.numberSymbol=new j.XFAObjectArray(5)}}class M extends j.StringObject{constructor(I){super(e,"timePattern"),this.name=(0,x.getStringOption)(I.name,["full","long","med","short"])}}class l extends j.XFAObject{constructor(I){super(e,"timePatterns",!0),this.timePattern=new j.XFAObjectArray(4)}}class r extends j.XFAObject{constructor(I){super(e,"typeFace",!0),this.name=""|I.name}}class f extends j.XFAObject{constructor(I){super(e,"typeFaces",!0),this.typeFace=new j.XFAObjectArray}}class c{static[n.$buildXFAObject](I,A){if(c.hasOwnProperty(I))return c[I](A)}static calendarSymbols(I){return new t(I)}static currencySymbol(I){return new a(I)}static currencySymbols(I){return new F(I)}static datePattern(I){return new m(I)}static datePatterns(I){return new y(I)}static dateTimeSymbols(I){return new k(I)}static day(I){return new s(I)}static dayNames(I){return new p(I)}static era(I){return new i(I)}static eraNames(I){return new D(I)}static locale(I){return new b(I)}static localeSet(I){return new O(I)}static meridiem(I){return new v(I)}static meridiemNames(I){return new S(I)}static month(I){return new d(I)}static monthNames(I){return new B(I)}static numberPattern(I){return new g(I)}static numberPatterns(I){return new L(I)}static numberSymbol(I){return new C(I)}static numberSymbols(I){return new h(I)}static timePattern(I){return new M(I)}static timePatterns(I){return new l(I)}static typeFace(I){return new r(I)}static typeFaces(I){return new f(I)}}E.LocaleSetNamespace=c},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SignatureNamespace=void 0;var n=V(81),j=V(87);const x=n.NamespaceIds.signature.id;class e extends j.XFAObject{constructor(F){super(x,"signature",!0)}}class t{static[n.$buildXFAObject](F,m){if(t.hasOwnProperty(F))return t[F](m)}static signature(F){return new e(F)}}E.SignatureNamespace=t},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StylesheetNamespace=void 0;var n=V(81),j=V(87);const x=n.NamespaceIds.stylesheet.id;class e extends j.XFAObject{constructor(F){super(x,"stylesheet",!0)}}class t{static[n.$buildXFAObject](F,m){if(t.hasOwnProperty(F))return t[F](m)}static stylesheet(F){return new e(F)}}E.StylesheetNamespace=t},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XdpNamespace=void 0;var n=V(81),j=V(78),x=V(87);const e=n.NamespaceIds.xdp.id;class t extends x.XFAObject{constructor(m){super(e,"xdp",!0),this.uuid=m.uuid||"",this.timeStamp=m.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new x.XFAObjectArray,this.template=null}[j.$onChildCheck](m){const y=n.NamespaceIds[m[j.$nodeName]];return y&&m[j.$namespaceId]===y.id}}class a{static[n.$buildXFAObject](m,y){if(a.hasOwnProperty(m))return a[m](y)}static xdp(m){return new t(m)}}E.XdpNamespace=a},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XhtmlNamespace=void 0;var n=V(78),j=V(81),x=V(83),e=V(84),t=V(87);const a=j.NamespaceIds.xhtml.id,F=Symbol(),m=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),y=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",I=>"none"===I?"none":"normal"],["xfa-font-horizontal-scale",I=>`scaleX(${Math.max(0,Math.min(parseInt(I)/100)).toFixed(2)})`],["xfa-font-vertical-scale",I=>`scaleY(${Math.max(0,Math.min(parseInt(I)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(I,A)=>(I=A.fontSize=(0,e.getMeasurement)(I),(0,x.measureToString)(.99*I))],["letter-spacing",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["line-height",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["margin",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["margin-bottom",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["margin-left",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["margin-right",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["margin-top",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["text-indent",I=>(0,x.measureToString)((0,e.getMeasurement)(I))],["font-family",I=>I],["vertical-align",I=>(0,x.measureToString)((0,e.getMeasurement)(I))]]),k=/\s+/g,s=/[\r\n]+/g,p=/\r\n?/g;function i(I,A,P){const $=Object.create(null);if(!I)return $;const _=Object.create(null);for(const[w,T]of I.split(";").map(N=>N.split(":",2))){const N=y.get(w);if(""===N)continue;let H=T;N&&(H="string"==typeof N?N:N(T,_)),w.endsWith("scale")?$.transform=$.transform?`${$[w]} ${H}`:H:$[w.replaceAll(/-([a-zA-Z])/g,(z,U)=>U.toUpperCase())]=H}if($.fontFamily&&(0,x.setFontFamily)({typeface:$.fontFamily,weight:$.fontWeight||"normal",posture:$.fontStyle||"normal",size:_.fontSize||0},A,A[n.$globalData].fontFinder,$),P&&$.verticalAlign&&"0px"!==$.verticalAlign&&$.fontSize){const N=(0,e.getMeasurement)($.fontSize);$.fontSize=(0,x.measureToString)(.583*N),$.verticalAlign=(0,x.measureToString)(Math.sign((0,e.getMeasurement)($.verticalAlign))*N*.333)}return P&&$.fontSize&&($.fontSize=`calc(${$.fontSize} * var(--scale-factor))`),(0,x.fixTextIndent)($),$}const b=new Set(["body","html"]);class O extends t.XmlObject{constructor(A,P){super(a,P),this[F]=!1,this.style=A.style||""}[n.$clean](A){super[n.$clean](A),this.style=function D(I){return I.style?I.style.trim().split(/\s*;\s*/).filter(A=>!!A).map(A=>A.split(/\s*:\s*/,2)).filter(([A,P])=>("font-family"===A&&I[n.$globalData].usedTypefaces.add(P),m.has(A))).map(A=>A.join(":")).join(";"):""}(this)}[n.$acceptWhitespace](){return!b.has(this[n.$nodeName])}[n.$onText](A,P=!1){P?this[F]=!0:(A=A.replaceAll(s,""),this.style.includes("xfa-spacerun:yes")||(A=A.replaceAll(k," "))),A&&(this[n.$content]+=A)}[n.$pushGlyphs](A,P=!0){const $=Object.create(null),_={top:NaN,bottom:NaN,left:NaN,right:NaN};let w=null;for(const[T,N]of this.style.split(";").map(H=>H.split(":",2)))switch(T){case"font-family":$.typeface=(0,e.stripQuotes)(N);break;case"font-size":$.size=(0,e.getMeasurement)(N);break;case"font-weight":$.weight=N;break;case"font-style":$.posture=N;break;case"letter-spacing":$.letterSpacing=(0,e.getMeasurement)(N);break;case"margin":const H=N.split(/ \t/).map(z=>(0,e.getMeasurement)(z));switch(H.length){case 1:_.top=_.bottom=_.left=_.right=H[0];break;case 2:_.top=_.bottom=H[0],_.left=_.right=H[1];break;case 3:_.top=H[0],_.bottom=H[2],_.left=_.right=H[1];break;case 4:_.top=H[0],_.left=H[1],_.bottom=H[2],_.right=H[3]}break;case"margin-top":_.top=(0,e.getMeasurement)(N);break;case"margin-bottom":_.bottom=(0,e.getMeasurement)(N);break;case"margin-left":_.left=(0,e.getMeasurement)(N);break;case"margin-right":_.right=(0,e.getMeasurement)(N);break;case"line-height":w=(0,e.getMeasurement)(N)}if(A.pushData($,_,w),this[n.$content])A.addString(this[n.$content]);else for(const T of this[n.$getChildren]())"#text"!==T[n.$nodeName]?T[n.$pushGlyphs](A):A.addString(T[n.$content]);P&&A.popFont()}[n.$toHTML](A){const P=[];if(this[n.$extra]={children:P},this[n.$childrenToHTML]({}),0===P.length&&!this[n.$content])return e.HTMLResult.EMPTY;let $;return $=this[F]?this[n.$content]?this[n.$content].replaceAll(p,"\n"):void 0:this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[F])},children:P,value:$})}}class v extends O{constructor(A){super(A,"a"),this.href=(0,x.fixURL)(A.href)||""}}class S extends O{constructor(A){super(A,"b")}[n.$pushGlyphs](A){A.pushFont({weight:"bold"}),super[n.$pushGlyphs](A),A.popFont()}}class d extends O{constructor(A){super(A,"body")}[n.$toHTML](A){const P=super[n.$toHTML](A),{html:$}=P;return $?($.name="div",$.attributes.class=["xfaRich"],P):e.HTMLResult.EMPTY}}class B extends O{constructor(A){super(A,"br")}[n.$text](){return"\n"}[n.$pushGlyphs](A){A.addString("\n")}[n.$toHTML](A){return e.HTMLResult.success({name:"br"})}}class g extends O{constructor(A){super(A,"html")}[n.$toHTML](A){const P=[];if(this[n.$extra]={children:P},this[n.$childrenToHTML]({}),0===P.length)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(1===P.length){const $=P[0];if($.attributes?.class.includes("xfaRich"))return e.HTMLResult.success($)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:P})}}class L extends O{constructor(A){super(A,"i")}[n.$pushGlyphs](A){A.pushFont({posture:"italic"}),super[n.$pushGlyphs](A),A.popFont()}}class C extends O{constructor(A){super(A,"li")}}class h extends O{constructor(A){super(A,"ol")}}class M extends O{constructor(A){super(A,"p")}[n.$pushGlyphs](A){super[n.$pushGlyphs](A,!1),A.addString("\n"),A.addPara(),A.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+"\n"}}class l extends O{constructor(A){super(A,"span")}}class r extends O{constructor(A){super(A,"sub")}}class f extends O{constructor(A){super(A,"sup")}}class c extends O{constructor(A){super(A,"ul")}}class u{static[j.$buildXFAObject](A,P){if(u.hasOwnProperty(A))return u[A](P)}static a(A){return new v(A)}static b(A){return new S(A)}static body(A){return new d(A)}static br(A){return new B(A)}static html(A){return new g(A)}static i(A){return new L(A)}static li(A){return new C(A)}static ol(A){return new h(A)}static p(A){return new M(A)}static span(A){return new l(A)}static sub(A){return new r(A)}static sup(A){return new f(A)}static ul(A){return new c(A)}}E.XhtmlNamespace=u},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.UnknownNamespace=void 0;var n=V(81),j=V(87);E.UnknownNamespace=class x{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,a){return new j.XmlObject(this.namespaceId,t,a)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DatasetReader=void 0;var n=V(2),j=V(3),x=V(71);function e(F){try{return(0,n.stringToUTF8String)(F)}catch(m){return(0,n.warn)(`UTF-8 decoding failed: "${m}".`),F}}class t extends x.SimpleXMLParser{constructor(m){super(m),this.node=null}onEndElement(m){const y=super.onEndElement(m);if(y&&"xfa:datasets"===m)throw this.node=y,new Error("Aborting DatasetXMLParser.")}}E.DatasetReader=class a{constructor(m){if(m.datasets)this.node=new x.SimpleXMLParser({hasAttributes:!0}).parseFromString(m.datasets).documentElement;else{const y=new t({hasAttributes:!0});try{y.parseFromString(m["xdp:xdp"])}catch{}this.node=y.node}}getValue(m){if(!this.node||!m)return"";const y=this.node.searchNode((0,j.parseXFAPath)(m),0);return y?"value"===y.firstChild?.nodeName?y.children.map(s=>e(s.textContent)):e(y.textContent):""}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XRef=void 0;var n=V(2),j=V(4),x=V(16),e=V(3),t=V(5),a=V(74);E.XRef=class F{#e=null;constructor(y,k){this.stream=y,this.pdfManager=k,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new j.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(y){null===this._newPersistentRefNum&&(this._newPersistentRefNum=this.entries.length||1);const k=this._newPersistentRefNum++;return this._cacheMap.set(k,y),j.Ref.get(k,0)}getNewTemporaryRef(){return null===this._newTemporaryRefNum&&(this._newTemporaryRefNum=this.entries.length||1),j.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(y){this.startXRefQueue=[y]}parse(y=!1){let k,s,p;y?((0,n.warn)("Indexing all PDF objects"),k=this.indexObjects()):k=this.readXRef(),k.assignXref(this),this.trailer=k;try{s=k.get("Encrypt")}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${i}".`)}if(s instanceof j.Dict){const i=k.get("ID"),D=i?.length?i[0]:"";s.suppressEncryption=!0,this.encrypt=new a.CipherTransformFactory(s,D,this.pdfManager.password)}try{p=k.get("Root")}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${i}".`)}if(p instanceof j.Dict)try{if(p.get("Pages")instanceof j.Dict)return void(this.root=p)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${i}".`)}throw y?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(y){"tableState"in this||(this.tableState={entryNum:0,streamPos:y.lexer.stream.pos,parserBuf1:y.buf1,parserBuf2:y.buf2});const k=this.readXRefTable(y);if(!(0,j.isCmd)(k,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let s=y.getObj();if(!(s instanceof j.Dict)&&s.dict&&(s=s.dict),!(s instanceof j.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,s}readXRefTable(y){const k=y.lexer.stream,s=this.tableState;let p;for(k.pos=s.streamPos,y.buf1=s.parserBuf1,y.buf2=s.parserBuf2;;){if(!("firstEntryNum"in s)||!("entryCount"in s)){if((0,j.isCmd)(p=y.getObj(),"trailer"))break;s.firstEntryNum=p,s.entryCount=y.getObj()}let i=s.firstEntryNum;const D=s.entryCount;if(!Number.isInteger(i)||!Number.isInteger(D))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let b=s.entryNum;b<D;b++){s.streamPos=k.pos,s.entryNum=b,s.parserBuf1=y.buf1,s.parserBuf2=y.buf2;const O={};O.offset=y.getObj(),O.gen=y.getObj();const v=y.getObj();if(v instanceof j.Cmd)switch(v.cmd){case"f":O.free=!0;break;case"n":O.uncompressed=!0}if(!Number.isInteger(O.offset)||!Number.isInteger(O.gen)||!O.free&&!O.uncompressed)throw new n.FormatError(`Invalid entry in XRef subsection: ${i}, ${D}`);0===b&&O.free&&1===i&&(i=0),this.entries[b+i]||(this.entries[b+i]=O)}s.entryNum=0,s.streamPos=k.pos,s.parserBuf1=y.buf1,s.parserBuf2=y.buf2,delete s.firstEntryNum,delete s.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return p}processXRefStream(y){if(!("streamState"in this)){const k=y.dict,s=k.get("W");let p=k.get("Index");p||(p=[0,k.get("Size")]),this.streamState={entryRanges:p,byteWidths:s,entryNum:0,streamPos:y.pos}}return this.readXRefStream(y),delete this.streamState,y.dict}readXRefStream(y){const k=this.streamState;y.pos=k.streamPos;const[s,p,i]=k.byteWidths,D=k.entryRanges;for(;D.length>0;){const[b,O]=D;if(!Number.isInteger(b)||!Number.isInteger(O))throw new n.FormatError(`Invalid XRef range fields: ${b}, ${O}`);if(!Number.isInteger(s)||!Number.isInteger(p)||!Number.isInteger(i))throw new n.FormatError(`Invalid XRef entry fields length: ${b}, ${O}`);for(let v=k.entryNum;v<O;++v){k.entryNum=v,k.streamPos=y.pos;let S=0,d=0,B=0;for(let L=0;L<s;++L){const C=y.getByte();if(-1===C)throw new n.FormatError("Invalid XRef byteWidths 'type'.");S=S<<8|C}0===s&&(S=1);for(let L=0;L<p;++L){const C=y.getByte();if(-1===C)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");d=d<<8|C}for(let L=0;L<i;++L){const C=y.getByte();if(-1===C)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");B=B<<8|C}const g={};switch(g.offset=d,g.gen=B,S){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${S}`)}this.entries[b+v]||(this.entries[b+v]=g)}k.entryNum=0,k.streamPos=y.pos,D.splice(0,2)}}indexObjects(){function b($,_){let w="",T=$[_];for(;10!==T&&13!==T&&60!==T&&!(++_>=$.length);)w+=String.fromCharCode(T),T=$[_];return w}function O($,_,w){const T=w.length,N=$.length;let H=0;for(;_<N;){let z=0;for(;z<T&&$[_+z]===w[z];)++z;if(z>=T)break;_++,H++}return H}const v=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,S=/\b(startxref|\d+\s+\d+\s+obj)\b/g,d=/^(\d+)\s+(\d+)\s+obj\b/,B=new Uint8Array([116,114,97,105,108,101,114]),g=new Uint8Array([115,116,97,114,116,120,114,101,102]),L=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const C=this.stream;C.pos=0;const h=C.getBytes(),M=(0,n.bytesToString)(h),l=h.length;let r=C.start;const f=[],c=[];for(;r<l;){let $=h[r];if(9===$||10===$||13===$||32===$){++r;continue}if(37===$){do{if(++r,r>=l)break;$=h[r]}while(10!==$&&13!==$);continue}const _=b(h,r);let w;if(_.startsWith("xref")&&(4===_.length||/\s/.test(_[4])))r+=O(h,r,B),f.push(r),r+=O(h,r,g);else if(w=d.exec(_)){const T=0|w[1],N=0|w[2],H=r+_.length;let z,U=!1;if(this.entries[T]){if(this.entries[T].gen===N)try{new x.Parser({lexer:new x.Lexer(C.makeSubStream(H))}).getObj(),U=!0}catch(ne){ne instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${_}): "${ne}".`):U=!0}}else U=!0;U&&(this.entries[T]={offset:r-C.start,gen:N,uncompressed:!0}),v.lastIndex=H;const q=v.exec(M);q?(z=v.lastIndex+1-r,"endobj"!==q[1]&&((0,n.warn)(`indexObjects: Found "${q[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),z-=q[1].length+1)):z=l-r;const J=h.subarray(r,r+z),oe=O(J,0,L);oe<z&&J[oe+5]<64&&(c.push(r-C.start),this._xrefStms.add(r-C.start)),r+=z}else if(_.startsWith("trailer")&&(7===_.length||/\s/.test(_[7]))){let N;f.push(r),S.lastIndex=r+_.length;const H=S.exec(M);H?(N=S.lastIndex+1-r,"startxref"!==H[1]&&((0,n.warn)(`indexObjects: Found "${H[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),N-=H[1].length+1)):N=l-r,r+=N}else r+=_.length+1}for(const $ of c)this.startXRefQueue.push($),this.readXRef(!0);const u=[];let A,P,I=!1;for(const $ of f){C.pos=$;const _=new x.Parser({lexer:new x.Lexer(C),xref:this,allowStreams:!0,recoveryMode:!0}),w=_.getObj();if(!(0,j.isCmd)(w,"trailer"))continue;const T=_.getObj();T instanceof j.Dict&&(u.push(T),T.has("Encrypt")&&(I=!0))}for(const $ of[...u,"genFallback",...u]){if("genFallback"===$){if(!P)break;this._generationFallback=!0;continue}let _=!1;try{const w=$.get("Root");if(!(w instanceof j.Dict))continue;const T=w.get("Pages");if(!(T instanceof j.Dict))continue;const N=T.get("Count");Number.isInteger(N)&&(_=!0)}catch(w){P=w;continue}if(_&&(!I||$.has("Encrypt"))&&$.has("ID"))return $;A=$}if(A)return A;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(y=!1){const k=this.stream,s=new Set;for(;this.startXRefQueue.length;){try{const p=this.startXRefQueue[0];if(s.has(p)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}s.add(p),k.pos=p+k.start;const i=new x.Parser({lexer:new x.Lexer(k),xref:this,allowStreams:!0});let b,D=i.getObj();if((0,j.isCmd)(D,"xref"))b=this.processXRefTable(i),this.topDict||(this.topDict=b),D=b.get("XRefStm"),Number.isInteger(D)&&!this._xrefStms.has(D)&&(this._xrefStms.add(D),this.startXRefQueue.push(D),this.#e??=D);else{if(!Number.isInteger(D))throw new n.FormatError("Invalid XRef stream header");if(!(Number.isInteger(i.getObj())&&(0,j.isCmd)(i.getObj(),"obj")&&(D=i.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(b=this.processXRefStream(D),this.topDict||(this.topDict=b),!b)throw new n.FormatError("Failed to read XRef stream")}D=b.get("Prev"),Number.isInteger(D)?this.startXRefQueue.push(D):D instanceof j.Ref&&this.startXRefQueue.push(D.num)}catch(p){if(p instanceof e.MissingDataException)throw p;(0,n.info)("(while reading XRef): "+p)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!y)throw new e.XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(y){const k=this.entries[y];return k&&!k.free&&k.offset?k:null}fetchIfRef(y,k=!1){return y instanceof j.Ref?this.fetch(y,k):y}fetch(y,k=!1){if(!(y instanceof j.Ref))throw new Error("ref object is not a reference");const s=y.num,p=this._cacheMap.get(s);if(void 0!==p)return p instanceof j.Dict&&!p.objId&&(p.objId=y.toString()),p;let i=this.getEntry(s);if(null===i)return this._cacheMap.set(s,i),i;if(this._pendingRefs.has(y))return this._pendingRefs.remove(y),(0,n.warn)(`Ignoring circular reference: ${y}.`),j.CIRCULAR_REF;this._pendingRefs.put(y);try{i=i.uncompressed?this.fetchUncompressed(y,i,k):this.fetchCompressed(y,i,k),this._pendingRefs.remove(y)}catch(D){throw this._pendingRefs.remove(y),D}return i instanceof j.Dict?i.objId=y.toString():i instanceof t.BaseStream&&(i.dict.objId=y.toString()),i}fetchUncompressed(y,k,s=!1){const p=y.gen;let i=y.num;if(k.gen!==p){const d=`Inconsistent generation in XRef: ${y}`;if(this._generationFallback&&k.gen<p)return(0,n.warn)(d),this.fetchUncompressed(j.Ref.get(i,k.gen),k,s);throw new e.XRefEntryException(d)}const D=this.stream.makeSubStream(k.offset+this.stream.start),b=new x.Parser({lexer:new x.Lexer(D),xref:this,allowStreams:!0}),O=b.getObj(),v=b.getObj(),S=b.getObj();if(O!==i||v!==p||!(S instanceof j.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${y}`);if("obj"!==S.cmd){if(S.cmd.startsWith("obj")&&(i=parseInt(S.cmd.substring(3),10),!Number.isNaN(i)))return i;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${y}`)}return(k=this.encrypt&&!s?b.getObj(this.encrypt.createCipherTransform(i,p)):b.getObj())instanceof t.BaseStream||this._cacheMap.set(i,k),k}fetchCompressed(y,k,s=!1){const p=k.offset,i=this.fetch(j.Ref.get(p,0));if(!(i instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const D=i.dict.get("First"),b=i.dict.get("N");if(!Number.isInteger(D)||!Number.isInteger(b))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let O=new x.Parser({lexer:new x.Lexer(i),xref:this,allowStreams:!0});const v=new Array(b),S=new Array(b);for(let g=0;g<b;++g){const L=O.getObj();if(!Number.isInteger(L))throw new n.FormatError(`invalid object number in the ObjStm stream: ${L}`);const C=O.getObj();if(!Number.isInteger(C))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${C}`);v[g]=L,S[g]=C}const d=(i.start||0)+D,B=new Array(b);for(let g=0;g<b;++g){const L=g<b-1?S[g+1]-S[g]:void 0;if(L<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");O=new x.Parser({lexer:new x.Lexer(i.makeSubStream(d+S[g],L,i.dict)),xref:this,allowStreams:!0});const C=O.getObj();if(B[g]=C,C instanceof t.BaseStream)continue;const h=v[g],M=this.entries[h];M&&M.offset===p&&M.gen===g&&this._cacheMap.set(h,C)}if(void 0===(k=B[k.gen]))throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${y}`);return k}async fetchIfRefAsync(y,k){return y instanceof j.Ref?this.fetchAsync(y,k):y}async fetchAsync(y,k){try{return this.fetch(y,k)}catch(s){if(!(s instanceof e.MissingDataException))throw s;return await this.pdfManager.requestRange(s.begin,s.end),this.fetchAsync(y,k)}}getCatalogObj(){return this.root}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MessageHandler=void 0;var n=V(2);function e(a){switch(a instanceof Error||"object"==typeof a&&null!==a||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new n.AbortException(a.message);case"MissingPDFException":return new n.MissingPDFException(a.message);case"PasswordException":return new n.PasswordException(a.message,a.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new n.UnknownErrorException(a.message,a.details);default:return new n.UnknownErrorException(a.message,a.toString())}}E.MessageHandler=class t{constructor(F,m,y){this.sourceName=F,this.targetName=m,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=k=>{const s=k.data;if(s.targetName!==this.sourceName)return;if(s.stream)return void this.#t(s);if(s.callback){const i=s.callbackId,D=this.callbackCapabilities[i];if(!D)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===s.callback)D.resolve(s.data);else{if(2!==s.callback)throw new Error("Unexpected callback case");D.reject(e(s.reason))}return}const p=this.actionHandler[s.action];if(!p)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const i=this.sourceName,D=s.sourceName;new Promise(function(b){b(p(s.data))}).then(function(b){y.postMessage({sourceName:i,targetName:D,callback:1,callbackId:s.callbackId,data:b})},function(b){y.postMessage({sourceName:i,targetName:D,callback:2,callbackId:s.callbackId,reason:e(b)})})}else s.streamId?this.#e(s):p(s.data)},y.addEventListener("message",this._onComObjOnMessage)}on(F,m){const y=this.actionHandler;if(y[F])throw new Error(`There is already an actionName called "${F}"`);y[F]=m}send(F,m,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,data:m},y)}sendWithPromise(F,m,y){const k=this.callbackId++,s=new n.PromiseCapability;this.callbackCapabilities[k]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,callbackId:k,data:m},y)}catch(p){s.reject(p)}return s.promise}sendWithStream(F,m,y,k){const s=this.streamId++,p=this.sourceName,i=this.targetName,D=this.comObj;return new ReadableStream({start:b=>{const O=new n.PromiseCapability;return this.streamControllers[s]={controller:b,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},D.postMessage({sourceName:p,targetName:i,action:F,streamId:s,data:m,desiredSize:b.desiredSize},k),O.promise},pull:b=>{const O=new n.PromiseCapability;return this.streamControllers[s].pullCall=O,D.postMessage({sourceName:p,targetName:i,stream:6,streamId:s,desiredSize:b.desiredSize}),O.promise},cancel:b=>{(0,n.assert)(b instanceof Error,"cancel must have a valid reason");const O=new n.PromiseCapability;return this.streamControllers[s].cancelCall=O,this.streamControllers[s].isClosed=!0,D.postMessage({sourceName:p,targetName:i,stream:1,streamId:s,reason:e(b)}),O.promise}},y)}#e(F){const m=F.streamId,y=this.sourceName,k=F.sourceName,s=this.comObj,p=this,i=this.actionHandler[F.action],D={enqueue(b,O=1,v){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=O,S>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),s.postMessage({sourceName:y,targetName:k,stream:4,streamId:m,chunk:b},v)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:y,targetName:k,stream:3,streamId:m}),delete p.streamSinks[m])},error(b){(0,n.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:y,targetName:k,stream:5,streamId:m,reason:e(b)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:F.desiredSize,ready:null};D.sinkCapability.resolve(),D.ready=D.sinkCapability.promise,this.streamSinks[m]=D,new Promise(function(b){b(i(F.data,D))}).then(function(){s.postMessage({sourceName:y,targetName:k,stream:8,streamId:m,success:!0})},function(b){s.postMessage({sourceName:y,targetName:k,stream:8,streamId:m,reason:e(b)})})}#t(F){const m=F.streamId,y=this.sourceName,k=F.sourceName,s=this.comObj,p=this.streamControllers[m],i=this.streamSinks[m];switch(F.stream){case 8:F.success?p.startCall.resolve():p.startCall.reject(e(F.reason));break;case 7:F.success?p.pullCall.resolve():p.pullCall.reject(e(F.reason));break;case 6:if(!i){s.postMessage({sourceName:y,targetName:k,stream:7,streamId:m,success:!0});break}i.desiredSize<=0&&F.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=F.desiredSize,new Promise(function(D){D(i.onPull?.())}).then(function(){s.postMessage({sourceName:y,targetName:k,stream:7,streamId:m,success:!0})},function(D){s.postMessage({sourceName:y,targetName:k,stream:7,streamId:m,reason:e(D)})});break;case 4:if((0,n.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(F.chunk);break;case 3:if((0,n.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,m);break;case 5:(0,n.assert)(p,"error should have stream controller"),p.controller.error(e(F.reason)),this.#n(p,m);break;case 2:F.success?p.cancelCall.resolve():p.cancelCall.reject(e(F.reason)),this.#n(p,m);break;case 1:if(!i)break;new Promise(function(D){D(i.onCancel?.(e(F.reason)))}).then(function(){s.postMessage({sourceName:y,targetName:k,stream:2,streamId:m,success:!0})},function(D){s.postMessage({sourceName:y,targetName:k,stream:2,streamId:m,reason:e(D)})}),i.sinkCapability.reject(e(F.reason)),i.isCancelled=!0,delete this.streamSinks[m];break;default:throw new Error("Unexpected stream case")}}async#n(F,m){await Promise.allSettled([F.startCall?.promise,F.pullCall?.promise,F.cancelCall?.promise]),delete this.streamControllers[m]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(he,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFWorkerStream=void 0;var n=V(2);E.PDFWorkerStream=class j{constructor(a){this._msgHandler=a,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._msgHandler),this._fullRequestReader}getRangeReader(a,F){const m=new e(a,F,this._msgHandler);return this._rangeRequestReaders.push(m),m}cancelAllRequests(a){this._fullRequestReader?.cancel(a);for(const F of this._rangeRequestReaders.slice(0))F.cancel(a)}};class x{constructor(a){this._msgHandler=a,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const F=this._msgHandler.sendWithStream("GetReader");this._reader=F.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(m=>{this._isStreamingSupported=m.isStreamingSupported,this._isRangeSupported=m.isRangeSupported,this._contentLength=m.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:a,done:F}=await this._reader.read();return F?{value:void 0,done:!0}:{value:a.buffer,done:!1}}cancel(a){this._reader.cancel(a)}}class e{constructor(a,F,m){this._msgHandler=m,this.onProgress=null;const y=this._msgHandler.sendWithStream("GetRangeReader",{begin:a,end:F});this._reader=y.getReader()}get isStreamingSupported(){return!1}async read(){const{value:a,done:F}=await this._reader.read();return F?{value:void 0,done:!0}:{value:a.buffer,done:!1}}cancel(a){this._reader.cancel(a)}}}],se={};function ye(he){var E=se[he];if(void 0!==E)return E.exports;var V=se[he]={exports:{}};return ke[he](V,V.exports,ye),V.exports}var ce={};return(()=>{var he=ce;Object.defineProperty(he,"__esModule",{value:!0}),Object.defineProperty(he,"WorkerMessageHandler",{enumerable:!0,get:function(){return E.WorkerMessageHandler}});var E=ye(1)})(),ce})());